!iflang [english]


!begin_node Dsp_SetVectors
(!begin_liste) [Availability]

!item [Name:]
¯Dsp_SetVectors® - Installation einer eigenen šbertragungsroutine

!item [Opcode:]
126

!item [Syntax:]
void Dsp_SetVectors( void (*receiver)(), int32_t (*transmitter)() );

!item [Description:]
Die Funktion Dsp_SetVectors installiert Routinen, die aufgerufen werden,
wenn der DSP ber einen Interrupt Daten bertragen will. (!I)receiver(!i)
ist ein Zeiger auf eine Routine, die aufgerufen wird, nachdem der DSP Daten
verschickt hat, und (!I)transmitter(!i) ein Zeiger auf eine Routine, die
aufgerufen wird, bevor der DSP Daten empf„ngt. Die Empfangsroutine
(!I)receiver(!i) erh„lt als Parameter auf dem Stack einen LONG, der vom DSP
gesendet wurde. Die Senderoutine (!I)transmitter(!i) bergibt einen LONG an
den DSP in Register D0. Dieser mu ungleich Null sein, damit er, d.h.
dessen niederwertigen drei Bytes an den DSP bertragen wird. Beide Routinen
werden mit dem Assemblerbefehl RTS abgeschlossen.

Wird fr (!I)receiver(!i) oder transmitter 0 bergeben, so wird der
entsprechende Interrupt gesperrt. Um eine Routine wieder zu entfernen, mu
man (!nolink [Dsp_RemoveInterrupts]) aufrufen.

!item [(!nolink [Return]) Value:]
Die Funktion liefert kein Ergebnis zurck.

!item [Group:]
DSP-Programmierung

!item [Availability:]
Die Funktion ist nur auf Computern mit dem Signalprozessor DSP56001
verfgbar.

!item [See Also:]
(!link [Binding] [Bindings fr Dsp_SetVectors]) ~ Dsp_InStream ~
Dsp_OutStream ~ Dsp_IOStream ~ Dsp_RemoveInterrupts

(!ende_liste)


!begin_node Bindings fr Dsp_SetVectors
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]
 #include <tos.h>

void Dsp_SetVectors( void (*receiver)(), int32_t (*transmitter)() );
!item [Assembler:]
!begin_verbatim
pea       transmitter  ; Offset 6
pea       receiver     ; Offset 2
move.w    #126,-(sp)   ; Offset 0
trap      #14          ; XBIOS aufrufen
lea       $A(sp),sp    ; Stack korrigieren
!end_verbatim
(!ende_liste)
!end_node
!end_node


!else


!begin_node Dsp_SetVectors
(!begin_liste) [Beschreibung]

!item [Name:]
¯Dsp_SetVectors® - Installation einer eigenen šbertragungsroutine

!item [Xbiosnummer:]
126

!item [Deklaration:]
void Dsp_SetVectors( void (*receiver)(), int32_t (*transmitter)() );

!item [Beschreibung:]
Die Funktion Dsp_SetVectors installiert Routinen, die aufgerufen werden,
wenn der DSP ber einen Interrupt Daten bertragen will. (!I)receiver(!i)
ist ein Zeiger auf eine Routine, die aufgerufen wird, nachdem der DSP Daten
verschickt hat, und (!I)transmitter(!i) ein Zeiger auf eine Routine, die
aufgerufen wird, bevor der DSP Daten empf„ngt. Die Empfangsroutine
(!I)receiver(!i) erh„lt als Parameter auf dem Stack einen LONG, der vom DSP
gesendet wurde. Die Senderoutine (!I)transmitter(!i) bergibt einen LONG an
den DSP in Register D0. Dieser mu ungleich Null sein, damit er, d.h.
dessen niederwertigen drei Bytes an den DSP bertragen wird. Beide Routinen
werden mit dem Assemblerbefehl RTS abgeschlossen.

Wird fr (!I)receiver(!i) oder transmitter 0 bergeben, so wird der
entsprechende Interrupt gesperrt. Um eine Routine wieder zu entfernen, mu
man (!nolink [Dsp_RemoveInterrupts]) aufrufen.

!item [Ergebnis:]
Die Funktion liefert kein Ergebnis zurck.

!item [Gruppe:]
DSP-Programmierung

!item [Verfgbar:]
Die Funktion ist nur auf Computern mit dem Signalprozessor DSP56001
verfgbar.

!item [Querverweis:]
(!link [Binding] [Bindings fr Dsp_SetVectors]) ~ Dsp_InStream ~
Dsp_OutStream ~ Dsp_IOStream ~ Dsp_RemoveInterrupts

(!ende_liste)


!begin_node Bindings fr Dsp_SetVectors
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]
 #include <tos.h>

void Dsp_SetVectors( void (*receiver)(), int32_t (*transmitter)() );
!item [Assembler:]
!begin_verbatim
pea       transmitter  ; Offset 6
pea       receiver     ; Offset 2
move.w    #126,-(sp)   ; Offset 0
trap      #14          ; XBIOS aufrufen
lea       $A(sp),sp    ; Stack korrigieren
!end_verbatim
(!ende_liste)
!end_node
!end_node


!endif