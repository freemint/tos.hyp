!iflang [english]


!begin_node CJar
(!begin_liste) [Availability]

!item [Name:]
¯CJar® - Erzeugen, Abfragen  und  L”schen von Cookies

!item [Opcode:]
17226 (0x434A)

!item [Syntax:]
int32_t CJar( int16_t mode, int32_t cookie, int32_t *value );

!item [Description:]
Die XBIOS-Routine CJar dient auf komfortable Weise zum Erzeugen, Abfragen
und L”schen von Cookies.

!begin_xlist !short [Parameter]
!item [Parameter]
Bedeutung
!item [~]
~
!item [mode]
Modus 0: (!nl)
     Ermittelt  den  Wert  des  Kekses  und legt in an der angegebenen
     Adresse ab. šbergibt man fr 'value' einen Nullzeiger, so  wird
     lediglich die Existenz des Kekses berprft. (!nl)
     Bei  erfolgreicher  Ermittlung  des  Kekses,  liefert  der Aufruf
     0x6172 (="CJar_OK") zurck, sonst einen anderen Wert.

(!nl)

    Modus 1: (!nl)
     Erzeugt einen neuen Keks (cookie). (!I)Value(!i) (!B)zeigt(!b) auf
     einen Wert, der in  den Jar  eingetragen  wird.  WICHTIG!  Es wird
     nicht 'value' eingetragen, sondern  der  Wert  auf  den  'value'
     weist!  Bei šbergabe eines NULL-Pointers wird 0 als Kekswert
     eingetragen. Existiert der Keks bereits, so wird sein alter Inhalt
     berschrieben! (!nl)
     Die Funktion liefert "CJar_OK" bei erfolgreicher  Eintragung.  -1
     wird fr den Fall geliefert, da der Cookie-Jar voll ist.

(!nl)

Modus 2: (!nl)
     Entfernt  den Keks 'cookie' aus dem Jar. Der Wert von 'value' ist
     egal. Liefert bei erfolgreicher Entfernung "CJar_OK", sonst einen
     anderen Wert.
     
     Ist nur Verfgbar, wenn die System!-erweiterung Liberty (Cookie 'Lity')
     installiert ist.

!item [cookie]
Cookiebezeichnung
!item [value]
Adresse des Puffers, in dem die Daten abgelegt werden sollen.
!end_xlist

!item [(!nolink [Return]) Value:]
Im Erfolgsfall liefert die Funktion den Wert CJar_OK (0x6172) zurck.

!item [Group:]
Spezialbefehle

!item [Availability:]
Die Funktion ist verfgbar, wenn der Cookie 'CJar' ($434A6172) vorhanden
ist. Dieser wird von JARxxx (Cookie Jar Manager) oder Liberty erzeugt.

!item [See Also:]
(!link [Binding] [Bindings fr CJar])

(!ende_liste)


!begin_node Bindings fr CJar
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]
int32_t CJar( int16_t mode, int32_t cookie, int32_t *value );
!item [Assembler:]
!begin_verbatim
pea       value          ; Offset 8
move.l    cookie,-(sp)   ; Offset 4
move.w    mode,-(sp)     ; Offset 2
move.w    #17226,-(sp)   ; Offset 0
trap      #14            ; XBIOS aufrufen
lea       12(sp),sp      ; Stack korrigieren
!end_verbatim
(!ende_liste)
!end_node
!end_node


!else


!begin_node CJar
(!begin_liste) [Beschreibung]

!item [Name:]
¯CJar® - Erzeugen, Abfragen  und  L”schen von Cookies

!item [Xbiosnummer:]
17226 (0x434A)

!item [Deklaration:]
int32_t CJar( int16_t mode, int32_t cookie, int32_t *value );

!item [Beschreibung:]
Die XBIOS-Routine CJar dient auf komfortable Weise zum Erzeugen, Abfragen
und L”schen von Cookies.

!begin_xlist !short [Parameter]
!item [Parameter]
Bedeutung
!item [~]
~
!item [mode]
Modus 0: (!nl)
     Ermittelt  den  Wert  des  Kekses  und legt in an der angegebenen
     Adresse ab. šbergibt man fr 'value' einen Nullzeiger, so  wird
     lediglich die Existenz des Kekses berprft. (!nl)
     Bei  erfolgreicher  Ermittlung  des  Kekses,  liefert  der Aufruf
     0x6172 (="CJar_OK") zurck, sonst einen anderen Wert.

(!nl)

    Modus 1: (!nl)
     Erzeugt einen neuen Keks (cookie). (!I)Value(!i) (!B)zeigt(!b) auf
     einen Wert, der in  den Jar  eingetragen  wird.  WICHTIG!  Es wird
     nicht 'value' eingetragen, sondern  der  Wert  auf  den  'value'
     weist!  Bei šbergabe eines NULL-Pointers wird 0 als Kekswert
     eingetragen. Existiert der Keks bereits, so wird sein alter Inhalt
     berschrieben! (!nl)
     Die Funktion liefert "CJar_OK" bei erfolgreicher  Eintragung.  -1
     wird fr den Fall geliefert, da der Cookie-Jar voll ist.

(!nl)

Modus 2: (!nl)
     Entfernt  den Keks 'cookie' aus dem Jar. Der Wert von 'value' ist
     egal. Liefert bei erfolgreicher Entfernung "CJar_OK", sonst einen
     anderen Wert.
     
     Ist nur Verfgbar, wenn die System!-erweiterung Liberty (Cookie 'Lity')
     installiert ist.

!item [cookie]
Cookiebezeichnung
!item [value]
Adresse des Puffers, in dem die Daten abgelegt werden sollen.
!end_xlist

!item [Ergebnis:]
Im Erfolgsfall liefert die Funktion den Wert CJar_OK (0x6172) zurck.

!item [Gruppe:]
Spezialbefehle

!item [Verfgbar]
Die Funktion ist verfgbar, wenn der Cookie 'CJar' ($434A6172) vorhanden
ist. Dieser wird von JARxxx (Cookie Jar Manager) oder Liberty erzeugt.

!item [Querverweis:]
(!link [Binding] [Bindings fr CJar])

(!ende_liste)


!begin_node Bindings fr CJar
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]
int32_t CJar( int16_t mode, int32_t cookie, int32_t *value );
!item [Assembler:]
!begin_verbatim
pea       value          ; Offset 8
move.l    cookie,-(sp)   ; Offset 4
move.w    mode,-(sp)     ; Offset 2
move.w    #17226,-(sp)   ; Offset 0
trap      #14            ; XBIOS aufrufen
lea       12(sp),sp      ; Stack korrigieren
!end_verbatim
(!ende_liste)
!end_node
!end_node


!endif