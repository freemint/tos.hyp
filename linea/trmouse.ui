!iflang [english]


!begin_node Transform mouse
(!begin_liste) [Availability]

!item [Name:]
¯Transform mouse®

!item [Line-A number:]
$A00B

!item [Syntax:]
(!link [Bindings fr transform_mouse] [Bindings fr transform_mouse])

!item [Description:]
Diese Line-A Funktion setzt den Mauszeiger auf ein neues Erscheinungsbild.
Die n”tigen Parameter werden ber das intin Feld bergeben. Alternativ kann
auch die AES Struktur MFORM benutzt werden. Fr den Aufruf der Line-A
Funktion wird intin im Line-A Paramterblock auf diese Struktur gesetzt
und nach dem Aufruf wird der alte Wert restauriert.

!begin_verbatim
typedef struct mfstr
{
   int16_t mf_xhot;
   int16_t mf_yhot;
   int16_t mf_nplanes;
   int16_t mf_fg;
   int16_t mf_bg;
   int16_t mf_mask[16];
   int16_t mf_data[16];
} MFORM;
!end_verbatim

!begin_xlist !short [mf_nplanes]
!item [Variable]
Bedeutung
!item [~]
~
!item [mf_xhot]
X-Koordinate des Aktionspunkts der Mausform. Fr die Aktion der Maus ist
mageblich, wo sich dieser Punkt der Mausform befindet.
!item [mf_yhot]
Y-Koordinate des Aktionspunkts der Mausform. Fr die Aktion der Maus ist
mageblich, wo sich dieser Punkt der Mausform befindet.
!item [mf_nplanes]
Mu auf 1 gesetzt werden, da die Mausform nur eine Farbebene haben darf.
!item [mf_fg]
Die Farbe der Maske.
!item [mf_bg]
Die Farbe der Daten fest.
!item [mf_mask]
Die 16 * 16 Pixel groe Maske. Jede 1 in der Maske l”scht den Hintergrund an
der Stelle (bzw. setzt die Hintergrundfarbe). Damit kann an den Stellen, an
denen keine Mausdaten gezeichnet werden, das "Druchscheinen" eines
Hintergrunds verhindern und z.B. die Maus mit einem "Rahmen" von dem
Untergrund abgesetzt werden.
!item [mf_data]
Die 16 * 16 Pixel groe Mausform. Jede 1 in der Mausform erzeugt einen Punkt
der Farbe mf_bg auf dem Bildschirm.
!end_xlist

!item [(!nolink [Return]) Value:]
Die Funktion liefert keinen Returnwert.

!item [Availability:]
All TOS versions.

!item [See Also:]
(!link [Binding] [Bindings fr transform_mouse]) ~
(!link [Undraw sprite][Undraw sprite]) ~ (!link [Draw sprite][Draw sprite])

(!ende_liste)


!begin_node Bindings fr transform_mouse
!ignore_index
(!begin_liste) [Assembler]
!item Pure-C:]
void transform_mouse( MFORM *mform );
!item [Assembler:]
!begin_verbatim
movem.l   D0-D2/A0-A2,-(A7)  ; Register retten
move.l    pParamblk,A0       ; Zeiger Parameterblock LINEA
move.l    (8,A0),-(A7)       ; alten Wert des intin Feldes retten
move.l    mform,(8,A0)       ; Feld mit Mausform in LINEA.intin
dc.w      $A00B              ; Line-A Opcode
move.l    pParamblk,A0       ; Zeiger Parameterblock LINEA
move.l    (A7)+,(8,A0)       ; alten Wert des intin Feldes restaurieren
movem.l   (A7)+,D0-D2/A0-A2  ; Register restaurieren
!end_verbatim
(!ende_liste)
!end_node
!end_node


!else


!begin_node Transform mouse
(!begin_liste) [Beschreibung:]

!item [Name:]
¯Transform mouse®

!item [(!nolink [Line-A]) Nummer:]
$A00B

!item [Binding:]
(!link [Bindings fr transform_mouse] [Bindings fr transform_mouse])

!item [Beschreibung:]
Diese Line-A Funktion setzt den Mauszeiger auf ein neues Erscheinungsbild.
Die n”tigen Parameter werden ber das intin Feld bergeben. Alternativ kann
auch die AES Struktur MFORM benutzt werden. Fr den Aufruf der Line-A
Funktion wird intin im Line-A Paramterblock auf diese Struktur gesetzt
und nach dem Aufruf wird der alte Wert restauriert.

!begin_verbatim
typedef struct mfstr
{
   int16_t mf_xhot;
   int16_t mf_yhot;
   int16_t mf_nplanes;
   int16_t mf_fg;
   int16_t mf_bg;
   int16_t mf_mask[16];
   int16_t mf_data[16];
} MFORM;
!end_verbatim

!begin_xlist !short [mf_nplanes]
!item [Variable]
Bedeutung
!item [~]
~
!item [mf_xhot]
X-Koordinate des Aktionspunkts der Mausform. Fr die Aktion der Maus ist
mageblich, wo sich dieser Punkt der Mausform befindet.
!item [mf_yhot]
Y-Koordinate des Aktionspunkts der Mausform. Fr die Aktion der Maus ist
mageblich, wo sich dieser Punkt der Mausform befindet.
!item [mf_nplanes]
Mu auf 1 gesetzt werden, da die Mausform nur eine Farbebene haben darf.
!item [mf_fg]
Die Farbe der Maske.
!item [mf_bg]
Die Farbe der Daten fest.
!item [mf_mask]
Die 16 * 16 Pixel groe Maske. Jede 1 in der Maske l”scht den Hintergrund an
der Stelle (bzw. setzt die Hintergrundfarbe). Damit kann an den Stellen, an
denen keine Mausdaten gezeichnet werden, das "Druchscheinen" eines
Hintergrunds verhindern und z.B. die Maus mit einem "Rahmen" von dem
Untergrund abgesetzt werden.
!item [mf_data]
Die 16 * 16 Pixel groe Mausform. Jede 1 in der Mausform erzeugt einen Punkt
der Farbe mf_bg auf dem Bildschirm.
!end_xlist

!item [Ergebnis:]
Die Funktion liefert keinen Returnwert.

!item [Verfgbar:]
Alle TOS-Versionen.

!item [Querverweis:]
(!link [Binding] [Bindings fr transform_mouse]) ~
(!link [Undraw sprite][Undraw sprite]) ~ (!link [Draw sprite][Draw sprite])

(!ende_liste)


!begin_node Bindings fr transform_mouse
!ignore_index
(!begin_liste) [Assembler]
!item [Pure-C:]
void transform_mouse( MFORM *mform );
!item [Assembler:]
!begin_verbatim
movem.l   D0-D2/A0-A2,-(A7)  ; Register retten
move.l    pParamblk,A0       ; Zeiger Parameterblock LINEA
move.l    (8,A0),-(A7)       ; alten Wert des intin Feldes retten
move.l    mform,(8,A0)       ; Feld mit Mausform in LINEA.intin
dc.w      $A00B              ; Line-A Opcode
move.l    pParamblk,A0       ; Zeiger Parameterblock LINEA
move.l    (A7)+,(8,A0)       ; alten Wert des intin Feldes restaurieren
movem.l   (A7)+,D0-D2/A0-A2  ; Register restaurieren
!end_verbatim
(!ende_liste)
!end_node
!end_node


!endif