!iflang [english]

!begin_node vsm_choice

(!begin_liste) [Availability]

!item [Name:]
¯Input Choise, Sample Mode® - ermittelt welche Funktionstaste zuletzt
gedrckt wurde.

!item [Opcode:]
30

!item [Syntax:]
int16_t vsm_choice ( int16_t handle, int16_t *choice );

!item [Description:]
Die Funktion ermittelt die Nummer der zuletzt bet„tigten Auswahltaste. Es
gilt:

!begin_xlist !short [Parameter]
!item [Parameter]
Bedeutung
!item [~]
~
!item [handle]
Kennung der Workstation
!item [choice]
bet„tigte Auswahltaste oder 0, falls keine solche gedrckt worden ist
!end_xlist

Die Anzahl der Funktionstasten ist vom jeweiligen Ger„t abh„ngig. Falls eine
andere Taste bet„tigt worden ist, wird die zugeh”rige Codenummer
zurckgeliefert.

!item [(!nolink [Return]) Value:]
Die Funktion liefert den Auswahlstatus (0 = keine Taste bet„tigt, 1 = Taste
bet„tigt) zurck.

!item [Availability:]
Die Funktion ist zwar im ROM implementiert, scheint aber
nicht richtig zu funktionieren. Die Funktion wird (!I)nicht(!i) von allen
Ger„tetreibern untersttzt. Die Input function des VDI arbeiten nur auf
der (!I)physikalischen(!i) Workstation, die im Normalfall von den AES
benutzt wird.

!item [Group:]
Input function

!item [See Also:]
(!link [Binding] [Bindings for vsm_choice]) ~  vrq_choice ~  vsin_mode

(!ende_liste)
!end_node



!begin_node Bindings for vsm_choice
!ignore_index

(!begin_liste) [GEM-Arrays]

!item [C:]
int16_t vsm_choice ( int16_t handle, int16_t *choice );

!item [Binding:]
!begin_verbatim
int16_t vsm_choice ( int16_t handle, int16_t *choice )
{
   contrl[0] = 30;
   contrl[1] = 0;
   contrl[3] = 0;
   contrl[6] = handle;

   vdi ();
 
   *choice = intout[0];
   return ( contrl[4] );
}
!end_verbatim

!item [GEM-Arrays:]
!begin_table [l l l]
Address !! Element !! Contents
!hline
contrl    !! contrl[0] !! 30     Function Opcode
contrl+2  !! contrl[1] !! 0      # entry in ptsin
contrl+4  !! contrl[2] !! 0      # entry in ptsout
contrl+6  !! contrl[3] !! 0      # entry in intin
contrl+8  !! contrl[4] !! status # entry in intout
contrl+12 !! contrl[6] !! handle
intout    !! intout[0] !! choice
!end_table

(!ende_liste)
!end_node

!else

!begin_node vsm_choice

(!begin_liste) [Beschreibung]

!item [Name:]
¯Input Choise, Sample Mode® - ermittelt welche Funktionstaste zuletzt
gedrckt wurde.

!item [VDI-Nummer:]
30

!item [Deklaration:]
int16_t vsm_choice ( int16_t handle, int16_t *choice );

!item [Beschreibung:]
Die Funktion ermittelt die Nummer der zuletzt bet„tigten Auswahltaste. Es
gilt:

!begin_xlist !short [Parameter]
!item [Parameter]
Bedeutung
!item [~]
~
!item [handle]
Kennung der Workstation
!item [choice]
bet„tigte Auswahltaste oder 0, falls keine solche gedrckt worden ist
!end_xlist

Die Anzahl der Funktionstasten ist vom jeweiligen Ger„t abh„ngig. Falls eine
andere Taste bet„tigt worden ist, wird die zugeh”rige Codenummer
zurckgeliefert.

!item [Ergebnis:]
Die Funktion liefert den Auswahlstatus (0 = keine Taste bet„tigt, 1 = Taste
bet„tigt) zurck.

!item [Verfgbar:]
Die Funktion ist zwar im ROM implementiert, scheint aber
nicht richtig zu funktionieren. Die Funktion wird (!I)nicht(!i) von allen
Ger„tetreibern untersttzt. Die Eingabefunktionen des VDI arbeiten nur auf
der (!I)physikalischen(!i) Workstation, die im Normalfall von den AES
benutzt wird.

!item [Gruppe:]
Eingabefunktionen

!item [Querverweis:]
(!link [Binding] [Bindings fr vsm_choice]) ~  vrq_choice ~  vsin_mode

(!ende_liste)
!end_node



!begin_node Bindings fr vsm_choice
!ignore_index

(!begin_liste) [Umsetzung]

!item [C:]
int16_t vsm_choice ( int16_t handle, int16_t *choice );

!item [Umsetzung:]
!begin_verbatim
int16_t vsm_choice ( int16_t handle, int16_t *choice )
{
   contrl[0] = 30;
   contrl[1] = 0;
   contrl[3] = 0;
   contrl[6] = handle;

   vdi ();
 
   *choice = intout[0];
   return ( contrl[4] );
}
!end_verbatim

!item [GEM-Arrays:]
!begin_table [l l l]
Adresse !! Feldelement !! Belegung
!hline
contrl    !! contrl[0] !! 30     Opcode der Funktion
contrl+2  !! contrl[1] !! 0      # Eintr„ge in ptsin
contrl+4  !! contrl[2] !! 0      # Eintr„ge in ptsout
contrl+6  !! contrl[3] !! 0      # Eintr„ge in intin
contrl+8  !! contrl[4] !! status # Eintr„ge in intout
contrl+12 !! contrl[6] !! handle
intout    !! intout[0] !! choice
!end_table

(!ende_liste)
!end_node

!endif
