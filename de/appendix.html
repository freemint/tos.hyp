<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 20.12.2025 -->
<html lang="de">
<head>
<title>
Die Anleitung zum TOS: XSSI-Protokoll
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="de">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="protocols.html"><img src="udo_up.gif" alt="Protokolle" title="Protokolle" border="0" width="24" height="24">Protokolle</a>
<a name="UDO_nav_lf_HEAD" href="proto_xfsl.html"><img src="udo_lf.gif" alt="xFSL-Schnittstelle" title="xFSL-Schnittstelle" border="0" width="24" height="24">xFSL-Schnittstelle</a>
<a name="UDO_nav_rg_HEAD" href="ascii.html"><img src="udo_rg.gif" alt="ASCII-Tabelle" title="ASCII-Tabelle" border="0" width="24" height="24">ASCII-Tabelle</a>

<hr>

<h1><a name="XSSI-Protokoll">15.15 XSSI-Protokoll</a></h1>
<a name="Protokoll_2C_20XSSI-Protokoll"></a>
<p>Ein großes Problem für den Programmierer eines
Bildschirmschoners ist es, daß viele Applikationen nichts davon
wissen, was gerade vor Ihren Augen auf dem Bildschirm vorgeht.
Dementsprechend geben sie Ihre Informationen weiterhin auf den
Bildschirm aus, obwohl dort eigentlich jetzt der Bildschirmschoner das
Sagen hätte. Damit eine Applikation sicher den Status des
Bildschirmschoners feststellen und u.U. sogar beeinflussen kann, gibt
es den sogenannten XSSI-Standard (XSSI steht für &quot;eXtended
ScreenSaver Interface&quot;), der von Julian Reschke vorgeschlagen
wurde.
</p>
<p>Der Wert des XSSI-Cookies ist ein Zeiger auf die folgende
Struktur:
</p>
<pre>typedef struct
{
     LONG id;
     WORD version;
     WORD save_stat;
     WORD prg_stat;
     LONG vec_stat;
} INFOXSSI;
</pre>
<table class="UDO_env_ilist">
<tr><td nowrap="nowrap" valign="top"><i>id</i></td>
<td valign="top"> Als <i>id</i> trägt jeder Bildschirmschoner seine
XBRA-Kennung ein.
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top"><i>id</i></td>
  <td align="left" valign="top">Bildschirmschoner</td>
</tr>
<tr>
  <td align="left" valign="top">DAWN</td>
  <td align="left" valign="top">Before Dawn</td>
</tr>
<tr>
  <td align="left" valign="top">BBLS</td>
  <td align="left" valign="top">BUBBLES</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>version</i></td>
<td valign="top"> In <i>version</i> ist die Versionsnummer des XSSI-Protokolls
eingetragen. 'Before Dawn' verwendet im Moment die Versionsnummer
$101.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>save_stat</i></td>
<td valign="top"> Über <i>save_stat</i> kann eine Applikation feststellen, ob
gerade geschont wird. Ein Wert von 0 bedeutet, daß nicht geschont
wird. Ein negativer Wert zeigt an, daß gerade geschont wird.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>prg_stat</i></td>
<td valign="top"> Mit <i>prg_stat</i> kann eine Applikation 'Before Dawn'
mitteilen, wie es sich verhalten soll. Dabei kann prg_stat die
folgenden Werte annehmen:
<br>&nbsp;
<br>prg_stat = 0 normal schonen
<br>prg_stat = 1 niemals schonen.
<br>prg_stat = -1 sofort schonen
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>vec_stat</i></td>
<td valign="top"> <i>vec_stat</i> zeigt an, welche Systemvektoren überwacht
werden. Es handelt sich bei diesem Wert um ein Bitfeld. Die Belegung
ist folgendermaßen:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Bit</td>
  <td align="left" valign="top">Systemvektor</td>
</tr>
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">Tastatur</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">Maus</td>
</tr>
<tr>
  <td align="left" valign="top">2</td>
  <td align="left" valign="top">Joystick</td>
</tr>
<tr>
  <td align="left" valign="top">3</td>
  <td align="left" valign="top">Midi</td>
</tr>
<tr>
  <td align="left" valign="top">4</td>
  <td align="left" valign="top">Modem 1</td>
</tr>
<tr>
  <td align="left" valign="top">5</td>
  <td align="left" valign="top">Modem 2</td>
</tr>
<tr>
  <td align="left" valign="top">6</td>
  <td align="left" valign="top">Serial 1</td>
</tr>
<tr>
  <td align="left" valign="top">7</td>
  <td align="left" valign="top">LAN-Port bzw. Serial 2</td>
</tr>
<tr>
  <td align="left" valign="top">8-14</td>
  <td align="left" valign="top">sonstige Vektoren</td>
</tr>
<tr>
  <td align="left" valign="top">15</td>
  <td align="left" valign="top">Fenster-Events</td>
</tr>
</table>
</div>


</td></tr>
</table>


<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="protocols.html"><img src="udo_up.gif" alt="Protokolle" title="Protokolle" border="0" width="24" height="24">Protokolle</a>
<a name="UDO_nav_lf_FOOT" href="proto_xfsl.html"><img src="udo_lf.gif" alt="xFSL-Schnittstelle" title="xFSL-Schnittstelle" border="0" width="24" height="24">xFSL-Schnittstelle</a>
<a name="UDO_nav_rg_FOOT" href="ascii.html"><img src="udo_rg.gif" alt="ASCII-Tabelle" title="ASCII-Tabelle" border="0" width="24" height="24">ASCII-Tabelle</a>
</body>
</html>
