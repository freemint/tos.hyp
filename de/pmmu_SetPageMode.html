<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 02.08.2025 -->
<html lang="de">
<head>
<title>
Die Anleitung zum TOS: SetPageMode
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="de">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="pmmu.html"><img src="udo_up.gif" alt="Der PMMU-Funktionshandler" title="Der PMMU-Funktionshandler" border="0" width="24" height="24">Der PMMU-Funktionshandler</a>
<a name="UDO_nav_lf_HEAD" href="pmmu_PMMUversion.html"><img src="udo_lf.gif" alt="PMMUversion" title="PMMUversion" border="0" width="24" height="24">PMMUversion</a>
<a name="UDO_nav_rg_HEAD" href="pmmu_vmem_size.html"><img src="udo_rg.gif" alt="vmem_size" title="vmem_size" border="0" width="24" height="24">vmem_size</a>

<hr>

<h1><a name="SetPageMode">F.6 SetPageMode</a></h1>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »SetPageMode« - PMMU Modus für einen Bereich setzen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Nummer:</td>
<td valign="top"> 1
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> ULONG SetPageMode ( ULONG mode, ULONG start_address, ULONG
length );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion setzt den PMMU-Modus für einen bestimmten
Speicherbereich. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top"> Modus als Bit-Vektor
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Bit 0 =</td>
<td valign="top"> <b>SwapInhabit</b>
<br>Der Speicherbereich wird nicht ausgelagert.
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1 =</td>
<td valign="top"> <b>WriteProtect</b>
<br>Der Speicherbereich wird schreibgeschützt; Schreibversuche
führen zu einem Busfehler.
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2 =</td>
<td valign="top"> <b>Used</b>
<br>Der Speicherbereich wird als benutzt gekennzeichnet. Hierdurch
erhält er temporär eine höhere Priorität, und wird vorerst nicht
ausgelagert.
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3 =</td>
<td valign="top"> <b>Modified</b>
<br>Der Speicherbereich wird als verändert markiert. Dadurch wird
dieser Bereich auf jeden Fall auf die Platte geschrieben, bevor neue
Daten an seine physikalische Adresse eingelesen werden.
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 4 =</td>
<td valign="top"> <b>CacheInhabit</b>
<br>Die Prozessor-Caches werden für den angegebenen Bereich
abgeschaltet.

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>start_address</i></td>
<td valign="top"> Anfangsadresse des Speicherbereichs
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>length</i></td>
<td valign="top"> Länge des gewünschten Bereichs

</td></tr>
</table>

<br><b>Hinweis:</b> Die restlichen Bits sind reserviert und müssen
auf Null gesetzt werden. Für die virtuelle <a href="gemdos_memory.html">Speicherverwaltung</a> ist in
erster Linie das SwapInhabit-Bit von Bedeutung, da es die Möglichkeit
bietet, bestimmte Speicherbereiche gegen Auslagern abzusichern.
<br>&nbsp;
<br>Beim Schreibschützen von Speicherbereichen ist unbedingt zu
beachten, daß der Speicher in Seiten unterteilt ist, die die kleinste
Einheit für einen Schreibschutz darstellen. Es muß sichergestellt
werden, daß sich der Schreibschutz nicht auch auf einen Bereich
erstreckt, der nicht geschützt werden darf, weil er beispielsweise
nicht zum eigenen Programm gehört.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei fehlerfreier Ausführung den Wert Null
zurück. Anderenfalls wird ein Wert zurückgeliefert, bei dem die Bits
gesetzt sind, die nicht manipuliert werden konnten.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="pmmu.html">PMMU-Funktionshandler</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="pmmu_ClearPageMode.html">ClearPageMode</a> &nbsp; <a href="pmmu_GetHdv_inuse.html">GetHdv_inuse</a> &nbsp; <a href="pmmu_GetPageSize.html">GetPageSize</a> &nbsp; <a href="pmmu_pmem_size.html">pmem_size</a> &nbsp;
<a href="pmmu_PMMUversion.html">PMMUversion</a> &nbsp; <a href="pmmu_vmem_size.html">vmem_size</a>
<br>&nbsp;

</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="pmmu.html"><img src="udo_up.gif" alt="Der PMMU-Funktionshandler" title="Der PMMU-Funktionshandler" border="0" width="24" height="24">Der PMMU-Funktionshandler</a>
<a name="UDO_nav_lf_FOOT" href="pmmu_PMMUversion.html"><img src="udo_lf.gif" alt="PMMUversion" title="PMMUversion" border="0" width="24" height="24">PMMUversion</a>
<a name="UDO_nav_rg_FOOT" href="pmmu_vmem_size.html"><img src="udo_rg.gif" alt="vmem_size" title="vmem_size" border="0" width="24" height="24">vmem_size</a>
</body>
</html>
