<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 02.08.2025 -->
<html lang="de">
<head>
<title>
Die Anleitung zum TOS: Drei wichtige Programmierregeln
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="de">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="guidelines.html"><img src="udo_up.gif" alt="Programmierrichtlinen" title="Programmierrichtlinen" border="0" width="24" height="24">Programmierrichtlinen</a>
<a name="UDO_nav_lf_HEAD" href="guidelines.html"><img src="udo_lf.gif" alt="Programmierrichtlinen" title="Programmierrichtlinen" border="0" width="24" height="24">Programmierrichtlinen</a>
<a name="UDO_nav_rg_HEAD" href="guidelines_styles.html"><img src="udo_rg.gif" alt="Style-Guidelines" title="Style-Guidelines" border="0" width="24" height="24">Style-Guidelines</a>

<hr>

<h1><a name="Drei_20wichtige_20Programmierregeln">10.1 Drei wichtige Programmierregeln</a></h1>
<p>Da das Betriebssystem <a href="tos_main.html">TOS</a> relativ sauber in mehrere Schichten
gegliedert ist, sollten alle Programmierer bei der Erstellung einer
Applikation die folgenden drei Regeln im Hinterkopf behalten:
</p>
<ul>
<li><p> <b>Niemals</b> für eine Aufgabe Aufrufe verschiedener
Betriebssystemschichten vermischen. Beispiel: In <a href="gem_about.html">GEM</a>-Programmen werden
Maus und Tastatur per <a href="aes_main.html">AES</a> abgefragt, und nicht etwa über das <a href="bios_main.html">BIOS</a>.
Die Mißachtung dieser Regel kann zu Konflikten zwischen den
verschiedenen Schichten führen.
<br>&nbsp;
</p></li>
<li><p> <b>Niemals</b> von irgendwelchen unsicheren Annahmen über
interne Zusammenhänge zwischen den einzelnen Schichten ausgehen.
Beispiel: Ein <a href="gemdos_main.html">GEMDOS</a> Laufwerk kann sowohl auf einem BIOS- als auch
auf einem <a href="xbios_metados.html">MetaDOS</a> Gerät liegen. Die Maus hängt normalerweise am
Tastaturchip, sie muss es aber nicht (neue Hardware,
Tastaturinterfaces etc.)
<br>&nbsp;
</p></li>
<li><p> <b>Immer</b> nach Möglichkeit die höchste
Betriebssystemschicht für eine Aufgabe benutzen. Beispiel: Die zu
benutzende Sprache könnte zwar aus dem Betriebssystemheader ermittelt
werden, besser ist es jedoch, hierfür den <a href="bios_cookiejar.html#Cookie_2C_20_AKP">_AKP</a>-Cookie bzw. die
Funktion <a href="appl.html#appl_getinfo">appl_getinfo</a> zu benutzen.
<br>&nbsp;
</p></li>
</ul>

<p><b>Darüber hinaus existieren viele weitere Programmierregeln,
die eigentlich bekannt sein sollten, aber leider immer noch nicht von
allen Applikationen beachtet werden. Einige Beispiele:</b>
</p>
<ul>
<li><p> Nur soviel Speicherplatz belegen wie unbedingt nötig ist,
damit in einer Multitasking-Umgebung auch noch andere Prozesse
gestartet werden bzw. sinnvoll arbeiten können.
<br>&nbsp;
</p></li>
<li><p> Den Eintritt in den Supervisor-Modus so oft wie nur möglich
<i>vermeiden</i>, da er eigentlich nur für das Betriebssystem
gedacht ist, und in vielen Umgebungen <i>kein</i> Task-Switching
stattfindet, wenn sich ein Prozess in diesem Modus befindet.
<br>&nbsp;
</p></li>
<li><p> Niemals direkt in den Bildschirmspeicher schreiben, sondern
stattdessen auf die jeweiligen GEM-Funktionen (AES, VDI)
zurückgreifen.
<br>&nbsp;
</p></li>
<li><p> Niemals auf Speicher zugreifen der nicht dem eigenen Programm
gehört, oder für dieses zugänglich gemacht worden ist, da es in
Systemen mit Speicherschutz sonst zu einer Exception kommt. Ferner
sollte Speicher immer so alloziert werden, daß andere Prozesse
möglichst <i>nicht</i> auf diesen zugreifen können.
<br>&nbsp;
</p></li>
</ul>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="guidelines.html"><img src="udo_up.gif" alt="Programmierrichtlinen" title="Programmierrichtlinen" border="0" width="24" height="24">Programmierrichtlinen</a>
<a name="UDO_nav_lf_FOOT" href="guidelines.html"><img src="udo_lf.gif" alt="Programmierrichtlinen" title="Programmierrichtlinen" border="0" width="24" height="24">Programmierrichtlinen</a>
<a name="UDO_nav_rg_FOOT" href="guidelines_styles.html"><img src="udo_rg.gif" alt="Style-Guidelines" title="Style-Guidelines" border="0" width="24" height="24">Style-Guidelines</a>
</body>
</html>
