<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 02.08.2025 -->
<html lang="de">
<head>
<title>
Die Anleitung zum TOS: Druckdialoge
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="de">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_HEAD" href="fsel.html"><img src="udo_lf.gif" alt="Dateiauswahl" title="Dateiauswahl" border="0" width="24" height="24">Dateiauswahl</a>
<a name="UDO_nav_rg_HEAD" href="edit.html"><img src="udo_rg.gif" alt="Editobjekt-Funktionen" title="Editobjekt-Funktionen" border="0" width="24" height="24">Editobjekt-Funktionen</a>

<hr>

<h1><a name="Druckdialoge">8.5 Druckdialoge</a></h1>
<p>Die folgenden Routinen wurden mit <a href="magic.html">MagiC</a> eingeführt, und
erlauben die Erstellung und Handhabung von Druckdialogen:
</p>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_add_printers">pdlg_add_printers</a></td>
<td valign="top"> Druckerbeschreibungen hinzufügen.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_add_sub_dialogs">pdlg_add_sub_dialogs</a></td>
<td valign="top"> Erstellt Unterdialoge zum Druckdialog.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_close">pdlg_close</a></td>
<td valign="top"> Schließt das Fenster des Druckdialogs.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_create">pdlg_create</a></td>
<td valign="top"> Initialisiert den Druckdialog.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_delete">pdlg_delete</a></td>
<td valign="top"> Gibt den Speicher des Dialogs frei.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_dflt_settings">pdlg_dflt_settings</a></td>
<td valign="top"> Übernimmt die Default-Initialisierung.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_do">pdlg_do</a></td>
<td valign="top"> Öffnet einen modalen Druckdialog.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_evnt">pdlg_evnt</a></td>
<td valign="top"> Übernimmt die Event-Verwaltung.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_free_settings">pdlg_free_settings</a></td>
<td valign="top"> Speicher für Druckeinstellung freigeben.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_get_setsize">pdlg_get_setsize</a></td>
<td valign="top"> Ermittelt die Länge der PRN_SETTINGS Struktur.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_new_settings">pdlg_new_settings</a></td>
<td valign="top"> Fordert Speicher für Druckeinstellungen.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_open">pdlg_open</a></td>
<td valign="top"> Öffnet ein Fenster mit dem Dialog.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_remove_printers">pdlg_remove_printers</a></td>
<td valign="top"> Druckerbeschreibungen entfernen.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_remove_sub_dialogs">pdlg_remove_sub_dialogs</a></td>
<td valign="top"> Entfernt Unterdialoge des Druckdialogs.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_save_default_settings">pdlg_save_default_settings</a></td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_update">pdlg_update</a></td>
<td valign="top"> Setzt einen neuen Fensternamen.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_use_settings">pdlg_use_settings</a></td>
<td valign="top"> Anwendung der Druckereinstellungen.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_validate_settings">pdlg_validate_settings</a></td>
<td valign="top"> Überprüft die Druckereinstellungen.

</td></tr>
</table>

<p><b>Hinweis:</b> Die Existenz dieser Funktionen kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(Opcode 7) festgestellt werden.
</p>
<p>Querverweis:
<br><a href="#Druckauswahl_20im_20Fenster">Darstellung im Fenster</a> &nbsp; <a href="#Druckauswahl_20als_20Dialog">Darstellung als mod. Dialog</a> &nbsp; <a href="aes_main.html">AES</a> &nbsp; <a href="gem_about.html">GEM</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a> &nbsp; <a href="guidelines_styles.html">Style-Guidelines</a>
</p>
<h3><a name="pdlg_add_printers">8.5.1 pdlg_add_printers</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Add Private Printers« - eigene
Druckerbeschreibungen hinzufügen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 0)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_add_printers ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#DRV_INFO">DRV_INFO</a>
*drv_info );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion erlaubt es, eigene Druckerbeschreibungen zum
Druckdialog hinzuzufügen. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">prn_dialog</td>
<td valign="top"> Zeiger auf Verwaltungsstruktur
</td></tr>

<tr><td nowrap="nowrap" valign="top">drv_info</td>
<td valign="top"> Zeiger auf die Liste der verfügbaren Drucker und
Rasterverfahren

</td></tr>
</table>

<br><b>Hinweis:</b> Die Treibernummer sollte auf 0x7fff gesetzt
werden, um den eigenen Treiber von denjenigen des Betriebssystems zu
unterscheiden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung den Wert 1 und
im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_add_printers">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_add_printers">8.5.1.1 Bindings für pdlg_add_printers</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_add_printers">pdlg_add_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#DRV_INFO">DRV_INFO</a>
*drv_info );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_add_printers">pdlg_add_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                            <a href="aes_structures.html#DRV_INFO">DRV_INFO</a> *drv_info )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = drv_info;
   int_in[0] = 0;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">drv_info</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">0     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_add_sub_dialogs">8.5.2 pdlg_add_sub_dialogs</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Add Private Dialogs« - Unterdialoge zum
Druckdialog hinzufügen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 3)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_add_sub_dialogs ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PDLG_SUB">PDLG_SUB</a>
*sub_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion erlaubt das Hinzufügen eigener Unterdialoge zum
Druckdialog.
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>sub_dialog</i></td>
  <td align="left" valign="top">Liste von Unterdialogen</td>
</tr>
</table>
</div>

<br>Nützlich ist diese Funktion etwa, um eigene Druckoptionen wie
Marken oder Hintergrundbilder anzubieten.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung den Wert 1 und
im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_add_sub_dialogs">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_add_sub_dialogs">8.5.2.1 Bindings für pdlg_add_sub_dialogs</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_add_sub_dialogs">pdlg_add_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PDLG_SUB">PDLG_SUB</a>
*sub_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_add_sub_dialogs">pdlg_add_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                               <a href="aes_structures.html#PDLG_SUB">PDLG_SUB</a> *sub_dialog )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = sub_dialog;
   int_in[0] = 3;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">sub_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">3     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_close">8.5.3 pdlg_close</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Close Window« - Druckdialog schließen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 203
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_close ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int16_t *x,
int16_t *y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion schließt das Fenster des Druckdialogs. Es gilt:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>x</i></td>
  <td align="left" valign="top">x-Koordinate des Fensters</td>
</tr>
<tr>
  <td align="left" valign="top"><i>y</i></td>
  <td align="left" valign="top">y-Koordinate des Fensters</td>
</tr>
</table>
</div>

<br><b>Hinweis:</b> Bei den Parametern x und y handelt es sich um
die letzte Position des Druckdialogs.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert stets den Wert 1 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_close">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_close">8.5.3.1 Bindings für pdlg_close</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_close">pdlg_close</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int16_t *x,
int16_t *y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_close">pdlg_close</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int16_t *x,
                     int16_t *y )
{
   int_out[1] = -1;
   int_out[2] = -1;

   addr_in[0] = prn_dialog;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (203);

   *x = int_out[1];
   *y = int_out[2];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">203   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">3     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">x</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">y</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_create">8.5.4 pdlg_create</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Create« - Initialisiert den Druckdialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 200
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *pdlg_create ( int16_t dialog_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion initialisiert den Druckdialog. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
<a name="PDLG_3D"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">dialog_flags</td>
<td valign="top"> <b>Diverse Flags:</b>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">PDLG_3D (1) =</td>
<td valign="top"> Auswahl im 3D-Look anzeigen

</td></tr>
</table>


</td></tr>
</table>

<br><b>Hinweis:</b> Beim Aufruf der Funktion werden die vorhandenen
Druckertreiber gescannt und Speicher für die Resource angefordert.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert einen Zeiger auf eine <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> Struktur
zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_create">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_create">8.5.4.1 Bindings für pdlg_create</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *<a href="#pdlg_create">pdlg_create</a> ( int16_t dialog_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre><a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *<a href="#pdlg_create">pdlg_create</a> ( int16_t dialog_flags )
{
   int_in[0] = dialog_flags;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (200);

   return ( addr_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">200   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">0     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">1     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">dialog_flags</td>
</tr>
<tr>
  <td align="left" valign="top">addr_out</td>
  <td align="left" valign="top">addr_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_delete">8.5.5 pdlg_delete</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Delete« - Speicher des Dialogs freigeben.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 201
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_delete ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion gibt den Speicher für einen Druckdialog an das
Betriebssystem zurück. Es gilt:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf die <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a>-Struktur</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert stets den Wert 1 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_delete">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_delete">8.5.5.1 Bindings für pdlg_delete</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_delete">pdlg_delete</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_delete">pdlg_delete</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (201);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">201   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_dflt_settings">8.5.6 pdlg_dflt_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Default Settings« - Defaultinitialisierung.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 7)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_dflt_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion übernimmt die Initialisierung der
Default-Druckereinstellungen.
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Zeiger auf die Druckereinstellungen</td>
</tr>
</table>
</div>

<br>Die Länge der <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>-Struktur kann durch einen Aufruf von
<a href="#pdlg_get_setsize">pdlg_get_setsize</a> ermittelt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert stets den Wert 1 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_dflt_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_dflt_settings">8.5.6.1 Bindings für pdlg_dflt_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_dflt_settings">pdlg_dflt_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_dflt_settings">pdlg_dflt_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                             <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 7;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">7     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_do">8.5.7 pdlg_do</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Do« - Öffnen einen Druckdialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 207
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_do ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion öffnet einen modalen Druckdialog.
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">prn_dialog</td>
<td valign="top"> Zeiger auf Verwaltungsstruktur
</td></tr>

<tr><td nowrap="nowrap" valign="top">settings</td>
<td valign="top"> Zeiger auf Druckereinstellungen
</td></tr>

<tr><td nowrap="nowrap" valign="top">document_name</td>
<td valign="top"> Name des Dokumentes
</td></tr>

<tr><td nowrap="nowrap" valign="top">option_flags</td>
<td valign="top"> <b>Diverse Flags</b>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">0x0000 =</td>
<td valign="top"> Einstelldialog zeigen
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0001 =</td>
<td valign="top"> Druckdialog zeigen
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0010 =</td>
<td valign="top"> Kopien anbieten
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0020 =</td>
<td valign="top"> Querformat anbieten
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0040 =</td>
<td valign="top"> Skalierung anbieten
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0100 =</td>
<td valign="top"> Option für gerade und ungerade Seiten anbieten

</td></tr>
</table>


</td></tr>
</table>

<br>Die Funktion kehrt erst dann zum Aufrufer zurück, wenn einer
der Exit-Buttons betätigt wurde.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert den ausgewählten Button (1 = Abbruch, 2 =
OK) oder im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_do">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_do">8.5.7.1 Bindings für pdlg_do</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_do">pdlg_do</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_do">pdlg_do</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                  <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
                  int8_t *document_name,
                  int16_t option_flags )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;
   addr_in[2] = document_name;

   int_in[0] = option_flags;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (207);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">207   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">document_name</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">option_flags</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_evnt">8.5.8 pdlg_evnt</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Handle Event« - Ereignisverwaltung des Druckdialoges.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 206
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_evnt ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, <a href="aes_structures.html#EVNT">EVNT</a> *events, int16_t *button );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion übernimmt die Ereignisverwaltung für einen Druckdialog.
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Zeiger auf Druckereinstellungen</td>
</tr>
<tr>
  <td align="left" valign="top"><i>events</i></td>
  <td align="left" valign="top">Zeiger auf <a href="aes_structures.html#EVNT">EVNT</a>-Struktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>button</i></td>
  <td align="left" valign="top">ausgewählter Button (oder 0)</td>
</tr>
<a name="PDLG_CANCEL"></a>
<a name="PDLG_OK"></a>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">PDLG_CANCEL (1) = Abbruch</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">PDLG_OK (2)&nbsp;&nbsp;&nbsp;&nbsp; = OK</td>
</tr>
</table>
</div>

<br>Die Funktion wertet die übergebene <a href="aes_structures.html#EVNT">EVNT</a>-Struktur aus und ruft
intern <a href="wdlg.html#wdlg_evnt">wdlg_evnt</a> auf. Falls der Dialog bestätigt wurde, wird im
Parameter <i>settings</i> die neue Druckeinstellung zurückgeliefert.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert den Wert 0 zurück, falls einer der
<a href="aes_fundamentals.html#EXIT">EXIT</a>-Buttons angeklickt wurde, und anderenfalls den Wert 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_evnt">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_evnt">8.5.8.1 Bindings für pdlg_evnt</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_evnt">pdlg_evnt</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, <a href="aes_structures.html#EVNT">EVNT</a> *events, int16_t *button );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_evnt">pdlg_evnt</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                    <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
                    <a href="aes_structures.html#EVNT">EVNT</a> *events, int16_t *button )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;
   addr_in[2] = events;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (206);

   *button = int_out[1];
   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">206   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">2     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">events</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">button</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_free_settings">8.5.9 pdlg_free_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - <a href="c_task_royal.html#Free">Free</a> Settings« - Speicher zurückgeben.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 6)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_free_settings ( <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion gibt den Speicherplatz frei, der durch einen
Aufruf von <a href="#pdlg_new_settings">pdlg_new_settings</a> angefordert wurde. Es gilt:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Zeiger auf Druckereinstellungen</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung den Wert 1 und
im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_free_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_free_settings">8.5.9.1 Bindings für pdlg_free_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_free_settings">pdlg_free_settings</a> ( <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_free_settings">pdlg_free_settings</a> ( <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = settings;
   int_in[0] = 6;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">6     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_get_setsize">8.5.10 pdlg_get_setsize</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Get Setting Structure Size« - Länge der
PRN_SETTINGS Struktur ermitteln.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 204 (Unterfunktion 0)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int32_t pdlg_get_setsize ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion ermittelt die Länge der <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>-Struktur.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert die Länge der Struktur in Bytes zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_get_setsize">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_get_setsize">8.5.10.1 Bindings für pdlg_get_setsize</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#pdlg_get_setsize">pdlg_get_setsize</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int32_t <a href="#pdlg_get_setsize">pdlg_get_setsize</a> ( void )
{
   int_in[0] = 0;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (204);

   return ( int_out[0..1] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">204   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">2     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">0     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0..1]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_new_settings">8.5.11 pdlg_new_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - New Default Settings« - Default
Druckereinstellungen setzen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 5)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *pdlg_new_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion setzt die Default-Druckereinstellungen. Es gilt:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert einen Zeiger auf eine <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
Struktur zurück, in der die aktuellen Druckereinstellungen vermerkt
sind.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_new_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_new_settings">8.5.11.1 Bindings für pdlg_new_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *<a href="#pdlg_new_settings">pdlg_new_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre><a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *<a href="#pdlg_new_settings">pdlg_new_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog;
   int_in[0] = 5;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( addr_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">0     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">1     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">5     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">addr_out</td>
  <td align="left" valign="top">addr_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_open">8.5.12 pdlg_open</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Open Window« - Druckdialog im Fenster
öffnen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 202
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_open ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags, int16_t x,
int16_t y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion öffnet ein Fenster mit dem Druckdialog. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">prn_dialog</td>
<td valign="top"> Zeiger auf die Verwaltungsstruktur
</td></tr>

<tr><td nowrap="nowrap" valign="top">settings</td>
<td valign="top"> Zeiger auf Druckereinstellungen
</td></tr>

<tr><td nowrap="nowrap" valign="top">document_name</td>
<td valign="top"> Name des Dokumentes
</td></tr>

<tr><td nowrap="nowrap" valign="top">option_flags</td>
<td valign="top"> <b>Diverse Flags</b>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">0x0000 =</td>
<td valign="top"> Einstelldialog zeigen
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0001 =</td>
<td valign="top"> Druckdialog zeigen
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0010 =</td>
<td valign="top"> Kopien anbieten
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0020 =</td>
<td valign="top"> Querformat anbieten
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0040 =</td>
<td valign="top"> Skalierung anbieten
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0100 =</td>
<td valign="top"> Option für gerade und ungerade Seiten

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">x</td>
<td valign="top"> x-Koordinate des Fensters oder -1
</td></tr>

<tr><td nowrap="nowrap" valign="top">y</td>
<td valign="top"> y-Koordinate des Fensters oder -1

</td></tr>
</table>

<br><b>Hinweis:</b> Die Struktur <i>settings</i> enthält die
Druckeinstellung die mit jedem Dokument gespeichert werden sollte.
Wenn zu einem Dokument noch keine Einstellung existiert, kann sie
entweder mit <a href="#pdlg_new_settings">pdlg_new_settings</a> erzeugt werden oder die Applikation
kann <a href="gemdos_memory.html#Malloc">Malloc</a> und anschließend <a href="#pdlg_dflt_settings">pdlg_dflt_settings</a> aufrufen, um den
Speicher zu initialisieren.
<br>&nbsp;
<br>Im Parameter <i>option_flags</i> wird u.a. mitgeteilt, ob der
Dialog als Einstell- oder Druckdialog angezeigt werden soll. Mit
weiteren Flags kann außerdem festgelegt werden, daß Skalierung,
Kopieroption und Querdruck auch dann angeboten werden, wenn ein
Treiber sie nicht unterstützt, so daß die Applikation z.B. die Seite
gedreht ausgeben muss.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert die Kennung des erzeugten Fensters oder im
Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_open">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_open">8.5.12.1 Bindings für pdlg_open</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_open">pdlg_open</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags, int16_t x,
int16_t y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_open">pdlg_open</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                    <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
                    int8_t *document_name,
                    int16_t option_flags,
                    int16_t x, int16_t y)
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;
   addr_in[2] = document_name;

   int_in[0] = option_flags;
   int_in[1] = x;
   int_in[2] = y;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (202);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">202   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">3     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">document_name</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">option_flags</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">x</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">y</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_remove_printers">8.5.13 pdlg_remove_printers</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Remove Private Printers« - eigene Drucker aus
der Liste entfernen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 1)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_remove_printers ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion entfernt die mit <a href="#pdlg_add_printers">pdlg_add_printers</a> angemeldeten
Drucker. Es gilt:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
</table>
</div>

<br><b>Hinweis:</b> Die Funktion muss <i>vor</i> <a href="#pdlg_delete">pdlg_delete</a>
aufgerufen werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert stets den Wert 1 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_remove_printers">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_remove_printers">8.5.13.1 Bindings für pdlg_remove_printers</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_remove_printers">pdlg_remove_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_remove_printers">pdlg_remove_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog_dialog;
   int_in[0] = 1;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">1     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_remove_sub_dialogs">8.5.14 pdlg_remove_sub_dialogs</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Remove Private Dialogs« - Unterdialoge aus
dem Druckdialog entfernen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 4)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_remove_sub_dialogs ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion entfernt die applikationseigenen Unterdialoge aus
dem Druckdialog. Es gilt:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert stets den Wert 1 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_remove_sub_dialogs">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_remove_sub_dialogs">8.5.14.1 Bindings für pdlg_remove_sub_dialogs</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_remove_sub_dialogs">pdlg_remove_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_remove_sub_dialogs">pdlg_remove_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog;
   int_in[0] = 4;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">4     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_save_default_settings">8.5.15 pdlg_save_default_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Save default settings«
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 10)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_save_default_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Zeiger auf Druckereinstellungen</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung den Wert 1 und
im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_save_default_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_save_default_settings">8.5.15.1 Bindings für pdlg_save_default_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_save_default_settings">pdlg_save_default_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_save_default_settings">pdlg_save_default_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                                     <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 10;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">10     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_update">8.5.16 pdlg_update</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Update Window« - neuen Fensternamen setzen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 2)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_update ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int8_t
*document_name );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion setzt einen neuen Fensternamen. Es gilt:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>document_name</i></td>
  <td align="left" valign="top">neuer Name des Dokumentes</td>
</tr>
</table>
</div>

<br><b>Hinweis:</b> Die Funktion sollte aufgerufen werden, wenn der
Fensterdialog im Hintergrund liegt und der Anwender ein neues
Dokumentenfenster nach vorne bringt.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung den Wert 1 und
im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_update">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_update">8.5.16.1 Bindings für pdlg_update</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_update">pdlg_update</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int8_t
*document_name );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_update">pdlg_update</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                      int8_t *document_name )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = 0;              /* reserviert (muß 0 sein!) */
   addr_in[2] = document_name;

   int_in[0] = 2;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">0</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">document_name</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">2     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_use_settings">8.5.17 pdlg_use_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Use Settings« - Einstellungen anwenden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 9)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_use_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion sorgt für eine Überprüfung der angegebenen
Druckereinstellungen.
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Zeiger auf Druckereinstellungen</td>
</tr>
</table>
</div>

<br>Die Funktion sollte aufgerufen werden, wenn ein Programm gleich
ausdrucken möchte und es nicht möglich ist <a href="#pdlg_do">pdlg_do</a> oder <a href="#pdlg_open">pdlg_open</a>
und <a href="#pdlg_evnt">pdlg_evnt</a> aufzurufen (etwa bei Calamus-Druckdialogen der Fall).
Die übergebenen Druckereinstellungen werden überprüft, und bei
alten Treibern gesichert.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung den Wert 1, und
im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_use_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_use_settings">8.5.17.1 Bindings für pdlg_use_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_use_settings">pdlg_use_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_use_settings">pdlg_use_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                            <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 9;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">9     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_validate_settings">8.5.18 pdlg_validate_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Validate Settings« - Überprüfung der
Druckereinstellungen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="aes_main.html">AES</a>-Nummer:</td>
<td valign="top"> 205 (Unterfunktion 8)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int16_t pdlg_validate_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion überprüft die angegebenen Druckereinstellungen.
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Bedeutung</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Zeiger auf Verwaltungsstruktur</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Zeiger auf Druckereinstellungen</td>
</tr>
</table>
</div>

<br><b>Hinweis:</b> Fehlerhafte Strukturinhalte werden von der
Funktion ggfs. korrigiert.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung den Wert 1, und
im Fehlerfall den Wert 0 zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Das Vorhandensein dieser Funktion kann per <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (Opcode 7)
festgestellt werden.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Druckdialoge">Druckdialoge</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20pdlg_validate_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20pdlg_validate_settings">8.5.18.1 Bindings für pdlg_validate_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_validate_settings">pdlg_validate_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Umsetzung:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_validate_settings">pdlg_validate_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                                 <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 8;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Adresse</td>
  <td align="left" valign="top">Feldelement</td>
  <td align="left" valign="top">Belegung</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Opcode der Funktion</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Einträge in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Einträge in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Einträge in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Einträge in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">8     # Sub-Opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top"><a href="VT_52_terminal.html#Return">Return</a>-Wert</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="Druckauswahl_20im_20Fenster">8.5.19 Druckauswahl im Fenster</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Programmstart:</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_create">pdlg_create</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Aufruf des Druckdialogs:</td>
<td valign="top"> <a href="#pdlg_open">pdlg_open</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Event-Loop:</td>
<td valign="top"> <a href="#pdlg_evnt">pdlg_evnt</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Schließen des Druckdialogs:</td>
<td valign="top"> <a href="#pdlg_close">pdlg_close</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_delete">pdlg_delete</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">Programmende:</td>
<td valign="top"> &nbsp;

</td></tr>
</table>

<h3><a name="Druckauswahl_20als_20Dialog">8.5.20 Druckauswahl als Dialog</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Programmstart:</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_create">pdlg_create</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Aufruf des Druckdialogs:</td>
<td valign="top"> <a href="#pdlg_do">pdlg_do</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_delete">pdlg_delete</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">Programmende:</td>
<td valign="top"> &nbsp;

</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_FOOT" href="fsel.html"><img src="udo_lf.gif" alt="Dateiauswahl" title="Dateiauswahl" border="0" width="24" height="24">Dateiauswahl</a>
<a name="UDO_nav_rg_FOOT" href="edit.html"><img src="udo_rg.gif" alt="Editobjekt-Funktionen" title="Editobjekt-Funktionen" border="0" width="24" height="24">Editobjekt-Funktionen</a>
</body>
</html>
