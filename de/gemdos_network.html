<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 02.08.2025 -->
<html lang="de">
<head>
<title>
Die Anleitung zum TOS: Netzwerkfunktionen
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="de">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="gemdos_main.html"><img src="udo_up.gif" alt="GEMDOS" title="GEMDOS" border="0" width="24" height="24">GEMDOS</a>
<a name="UDO_nav_lf_HEAD" href="gemdos_memory.html"><img src="udo_lf.gif" alt="Speicherverwaltung" title="Speicherverwaltung" border="0" width="24" height="24">Speicherverwaltung</a>
<a name="UDO_nav_rg_HEAD" href="gemdos_system.html"><img src="udo_rg.gif" alt="Systemfunktionen" title="Systemfunktionen" border="0" width="24" height="24">Systemfunktionen</a>

<hr>

<h1><a name="Netzwerkfunktionen">5.13 Netzwerkfunktionen</a></h1>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Fflush">Fflush</a></td>
<td valign="top"> Datenpuffer einer Datei leeren
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#F_lock">Flock</a></td>
<td valign="top"> Datei von aktuelle Position sperren
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Frlock">Frlock</a></td>
<td valign="top"> File Record sperren
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Frunlock">Frunlock</a></td>
<td valign="top"> File record freigeben
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Funlock">Funlock</a></td>
<td valign="top"> File freigeben
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Nversion">Nversion</a></td>
<td valign="top"> Kennung des Netzwerkes

</td></tr>
</table>

<h3><a name="Fflush">5.13.1 Fflush</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Fflush« - Leert den Datenpuffer der Datei
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gemdosnummer:</td>
<td valign="top"> 102 (0x0066)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int32_t Fflush ( int16_t handle );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die Funktion leert den Datenpuffer der angegebenen Datei und
schreibt die angesammelten Daten in die Datei.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung eine 0, und eine
negative Zahl, wenn es zu einem Fehler kam.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Verfügbar, wenn ein Netzwerktreiber installiert ist.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Netzwerkfunktionen">Netzwerkfunktionen</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20Fflush">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20Fflush">5.13.1.1 Bindings für Fflush</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Fflush">Fflush</a> ( int16_t handle );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    handle,-(sp) ; Offset 2
move.w    #102,-(sp)   ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a> aufrufen
addq.l    #4,sp        ; Stack korrigieren
</pre>

</td></tr>
</table>

<h3><a name="F_lock">5.13.2 F_lock</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Flock« - schützt Teile von Dateien
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gemdosnummer:</td>
<td valign="top"> 100 (0x0064)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int32_t Flock ( int16_t handle, int32_t length );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die GEMDOS-Routine Flock dient dazu, Teile von Dateien (von
der aktuellen position) gegen den Zugriff von anderen Prozessen zu
schützen. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top"> Dateikennung
</td></tr>

<tr><td nowrap="nowrap" valign="top">start</td>
<td valign="top"> Anzahl der betroffenen Bytes

</td></tr>
</table>

<br><b>Hinweis:</b> Verwechseln Sie diese Funktion ($64) nicht mit
<a href="gemdos_file.html#Flock">Flock</a> ($5C) aus der Spezifikation für GEMDOS File Sharing &amp;
Record Locking.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung eine 0, und eine
negative Zahl, wenn es zu einem Fehler kam.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Verfügbar, wenn ein Netzwerktreiber installiert ist.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Netzwerkfunktionen">Netzwerkfunktionen</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20F_lock">Binding</a> <a href="#Funlock">Funlock</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20F_lock">5.13.2.1 Bindings für F_lock</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t Flock ( int16_t handle, int32_t length );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.l    length,-(sp) ; Offset 4
move.w    handle,-(sp) ; Offset 2
move.w    #100,-(sp)   ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a> aufrufen
addq.l    #8,sp        ; Stack korrigieren
</pre>

</td></tr>
</table>

<h3><a name="Frlock">5.13.3 Frlock</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Frlock« - schützt Teile von Dateien
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gemdosnummer:</td>
<td valign="top"> 98 (0x0062)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int32_t Frlock ( int16_t handle, int32_t start, int32_t length
);
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die GEMDOS-Routine Frlock dient dazu, Teile von Dateien gegen
den Zugriff von anderen Prozessen zu schützen. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top"> Dateikennung
</td></tr>

<tr><td nowrap="nowrap" valign="top">start</td>
<td valign="top"> Startposition in der Datei
</td></tr>

<tr><td nowrap="nowrap" valign="top">length</td>
<td valign="top"> Anzahl der betroffenen Bytes

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung eine 0, und eine
negative Zahl, wenn es zu einem Fehler kam.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Verfügbar, wenn ein Netzwerktreiber installiert ist.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Netzwerkfunktionen">Netzwerkfunktionen</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20Frlock">Binding</a> <a href="#Frunlock">Frunlock</a> <a href="#Nversion">Nversion</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20Frlock">5.13.3.1 Bindings für Frlock</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Frlock">Frlock</a> ( int16_t handle, int32_t start, int32_t length
);
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.l    length,-(sp) ; Offset 8
move.l    start,-(sp)  ; Offset 4
move.w    handle,-(sp) ; Offset 2
move.w    #98,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a> aufrufen
lea       12(sp),sp    ; Stack korrigieren
</pre>

</td></tr>
</table>

<h3><a name="Frunlock">5.13.4 Frunlock</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Frunlock« - entschützt Teile von Dateien
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gemdosnummer:</td>
<td valign="top"> 99 (0x0063)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int32_t Frunlock ( int16_t handle, int32_t start );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die GEMDOS-Routine <a href="#Frlock">Frlock</a> dient dazu, den gesperrten Teil einer
Datei zu entsperren. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top"> Dateikennung
</td></tr>

<tr><td nowrap="nowrap" valign="top">start</td>
<td valign="top"> Startposition in der Datei

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung eine 0, und eine
negative Zahl, wenn es zu einem Fehler kam.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Verfügbar, wenn ein Netzwerktreiber installiert ist.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Netzwerkfunktionen">Netzwerkfunktionen</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20Frunlock">Binding</a> <a href="#Frlock">Frlock</a> <a href="#Nversion">Nversion</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20Frunlock">5.13.4.1 Bindings für Frunlock</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Frunlock">Frunlock</a> ( int16_t handle, int32_t start );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.l    start,-(sp)  ; Offset 4
move.w    handle,-(sp) ; Offset 2
move.w    #99,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a> aufrufen
addq.l    #8,sp        ; Stack korrigieren
</pre>

</td></tr>
</table>

<h3><a name="Funlock">5.13.5 Funlock</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Funlock« - entschützt Teile von Dateien
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gemdosnummer:</td>
<td valign="top"> 101 (0x0065)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int32_t Funlock ( int16_t handle );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Die GEMDOS-Routine Funlock hebt von <a href="#F_lock">Flock</a> gesetzte Sperre
wieder auf. Es gilt:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Bedeutung
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">handle</td>
<td valign="top"> Dateikennung

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top"> Die Funktion liefert bei korrekter Ausführung eine 0, und eine
negative Zahl, wenn es zu einem Fehler kam.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top"> Verfügbar, wenn ein Netzwerktreiber installiert ist.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Netzwerkfunktionen">Netzwerkfunktionen</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20Funlock">Binding</a> <a href="#F_lock">Flock</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20Funlock">5.13.5.1 Bindings für Funlock</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Funlock">Funlock</a> ( int16_t handle );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    handle,-(sp) ; Offset 2
move.w    #101,-(sp)   ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a> aufrufen
addq.l    #4,sp        ; Stack korrigieren
</pre>

</td></tr>
</table>

<h3><a name="Nversion">5.13.6 Nversion</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Nversion« - Kennung des Netzwerkes
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gemdosnummer:</td>
<td valign="top"> 96
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Deklaration:</td>
<td valign="top"> int32_t Nversion( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Beschreibung:</td>
<td valign="top"> Liefert die Kennung des angeschlossenen Netzwerkes zurück.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Ergebnis:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="center" valign="top">Kennung</td>
  <td align="left" valign="top">Name</td>
</tr>
<tr>
  <td align="center" valign="top">1</td>
  <td align="left" valign="top">Bionet</td>
</tr>
<tr>
  <td align="center" valign="top">2</td>
  <td align="left" valign="top">A-Net</td>
</tr>
<tr>
  <td align="center" valign="top">3</td>
  <td align="left" valign="top">Elan</td>
</tr>
<tr>
  <td align="center" valign="top">4</td>
  <td align="left" valign="top">TSE-Net</td>
</tr>
<tr>
  <td align="center" valign="top">5</td>
  <td align="left" valign="top">Atlanet</td>
</tr>
<tr>
  <td align="center" valign="top">6</td>
  <td align="left" valign="top">PAMs-Net</td>
</tr>
<tr>
  <td align="center" valign="top">7</td>
  <td align="left" valign="top">Transnet</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Verfügbar:</td>
<td valign="top">
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Gruppe:</td>
<td valign="top"> <a href="#Netzwerkfunktionen">Netzwerkfunktionen</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Querverweis:</td>
<td valign="top"> <a href="#Bindings_20f_C3_BCr_20Nversion">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20f_C3_BCr_20Nversion">5.13.6.1 Bindings für Nversion</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Nversion">Nversion</a>( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #96,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a> aufrufen
addq.l    #2,sp        ; Stack korrigieren
</pre>

</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="gemdos_main.html"><img src="udo_up.gif" alt="GEMDOS" title="GEMDOS" border="0" width="24" height="24">GEMDOS</a>
<a name="UDO_nav_lf_FOOT" href="gemdos_memory.html"><img src="udo_lf.gif" alt="Speicherverwaltung" title="Speicherverwaltung" border="0" width="24" height="24">Speicherverwaltung</a>
<a name="UDO_nav_rg_FOOT" href="gemdos_system.html"><img src="udo_rg.gif" alt="Systemfunktionen" title="Systemfunktionen" border="0" width="24" height="24">Systemfunktionen</a>
</body>
</html>
