<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/08/02 -->
<html lang="en">
<head>
<title>
The documentation for TOS: Print dialogs
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_HEAD" href="fsel.html"><img src="udo_lf.gif" alt="File-selector library" title="File-selector library" border="0" width="24" height="24">File-selector library</a>
<a name="UDO_nav_rg_HEAD" href="edit.html"><img src="udo_rg.gif" alt="Editable object functions" title="Editable object functions" border="0" width="24" height="24">Editable object functions</a>

<hr>

<h1><a name="Print_20dialogs">8.5 Print dialogs</a></h1>
<p>The following routines were introduced with <a href="magic.html">MagiC</a> (also
<a href="magic_programs.html#WDIALOG">WDIALOG</a>), and permit the creation and handling of print dialogs:
</p>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_add_printers">pdlg_add_printers</a></td>
<td valign="top"> Adds application's printers
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_add_sub_dialogs">pdlg_add_sub_dialogs</a></td>
<td valign="top"> Adds application's sub-dialogs
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_close">pdlg_close</a></td>
<td valign="top"> Close window of a print dialog
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_create">pdlg_create</a></td>
<td valign="top"> Initialise print dialog, allocate memory
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_delete">pdlg_delete</a></td>
<td valign="top"> Frees memory
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_dflt_settings">pdlg_dflt_settings</a></td>
<td valign="top"> Initialise memory region with printer settings
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_do">pdlg_do</a></td>
<td valign="top"> Displays modal dialog
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_evnt">pdlg_evnt</a></td>
<td valign="top"> Manages events for dialog in window
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_free_settings">pdlg_free_settings</a></td>
<td valign="top"> Frees memory used for printer settings
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_get_setsize">pdlg_get_setsize</a></td>
<td valign="top"> Gets size of the structure
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_new_settings">pdlg_new_settings</a></td>
<td valign="top"> Returns pointer to initialized printer settings
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_open">pdlg_open</a></td>
<td valign="top"> Opens selection dialog in window
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_remove_printers">pdlg_remove_printers</a></td>
<td valign="top"> Removes application's printers
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_remove_sub_dialogs">pdlg_remove_sub_dialogs</a></td>
<td valign="top"> Removes application's sub-dialogs
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_save_default_settings">pdlg_save_default_settings</a></td>
<td valign="top"> Saves the default settings
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_update">pdlg_update</a></td>
<td valign="top"> Updates window title
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_use_settings">pdlg_use_settings</a></td>
<td valign="top"> Validates and adopt printer settings
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#pdlg_validate_settings">pdlg_validate_settings</a></td>
<td valign="top"> Validates printer settings

</td></tr>
</table>

<p><b>Hint:</b> The presence of this call should be checked for
using <a href="appl.html#UDO__25apgi_7">appl_getinfo</a> (opcode 7).
</p>
<p>See also:
<br><a href="#Print_20selection_20in_20a_20window">Display in a window</a> &nbsp; <a href="#Print_20selection_20as_20a_20dialog">Display as modal dialog</a> &nbsp; <a href="aes_main.html">AES</a> &nbsp; <a href="gem_about.html">GEM</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a> &nbsp; <a href="guidelines_styles.html">Style guidelines</a>
</p>
<h3><a name="pdlg_add_printers">8.5.1 pdlg_add_printers</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Add private printers« - Add application's own
printer descriptions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 0)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_add_printers ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#DRV_INFO">DRV_INFO</a>
*drv_info );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_add_printer permits adding an application's own
printer descriptions to the print dialog. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">prn_dialog</td>
<td valign="top"> Pointer to management structure
</td></tr>

<tr><td nowrap="nowrap" valign="top">drv_info</td>
<td valign="top"> Pointer to the list of available printers and rastering
processes

</td></tr>
</table>

<br><b>Note:</b> The driver's index should be set to 0x7fff, so as
to differentiate the custom driver from that of the operating system.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if all went well, else the
value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_add_printers">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_add_printers">8.5.1.1 Bindings for pdlg_add_printers</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_add_printers">pdlg_add_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#DRV_INFO">DRV_INFO</a>
*drv_info );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_add_printers">pdlg_add_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                            <a href="aes_structures.html#DRV_INFO">DRV_INFO</a> *drv_info )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = drv_info;
   int_in[0] = 0;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">drv_info</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">0     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_add_sub_dialogs">8.5.2 pdlg_add_sub_dialogs</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Add private dialogs« - Add sub-dialogs to the
printer dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 3)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_add_sub_dialogs ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PDLG_SUB">PDLG_SUB</a>
*sub_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_add_sub_dialogs permits adding an application's
own sub-dialogs to the printer dialog. The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>sub_dialog</i></td>
  <td align="left" valign="top">List of sub-dialogs</td>
</tr>
</table>
</div>

<br>This function could be useful to add custom print options such
as markers, watermarks or background images, for instance.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if all went well, else the
value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_add_sub_dialogs">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_add_sub_dialogs">8.5.2.1 Bindings for pdlg_add_sub_dialogs</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_add_sub_dialogs">pdlg_add_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PDLG_SUB">PDLG_SUB</a>
*sub_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_add_sub_dialogs">pdlg_add_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                               <a href="aes_structures.html#PDLG_SUB">PDLG_SUB</a> *sub_dialog )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = sub_dialog;
   int_in[0] = 3;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">sub_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">3     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_close">8.5.3 pdlg_close</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Close window« - Close print dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 203
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_close ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int16_t *x,
int16_t *y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_close closes the window of the print dialog. The
following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>x</i></td>
  <td align="left" valign="top">X-coordinate of the window</td>
</tr>
<tr>
  <td align="left" valign="top"><i>y</i></td>
  <td align="left" valign="top">Y-coordinate of the window</td>
</tr>
</table>
</div>

<br>The parameters <i>x</i> and <i>y</i> are those of the last
position of the print dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function always returns the value 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_close">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_close">8.5.3.1 Bindings for pdlg_close</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_close">pdlg_close</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int16_t *x,
int16_t *y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_close">pdlg_close</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int16_t *x,
                     int16_t *y )
{
   int_out[1] = -1;
   int_out[2] = -1;

   addr_in[0] = prn_dialog;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (203);

   *x = int_out[1];
   *y = int_out[2];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">203   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">3     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">x</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">y</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_create">8.5.4 pdlg_create</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Create« - Initialize the print dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 200
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *pdlg_create ( int16_t dialog_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_create initializes the print dialog and allocates
memory for it. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
<a name="PDLG_3D"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">dialog_flags</td>
<td valign="top"> <b>Diverse flags:</b>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">PDLG_3D (1) =</td>
<td valign="top"> Display selection in 3D-look

</td></tr>
</table>


</td></tr>
</table>

<br>On calling the function a scan will be made for the printer
drivers present and memory will be allocated for the resource.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns a pointer to a <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> structure.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_create">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_create">8.5.4.1 Bindings for pdlg_create</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *<a href="#pdlg_create">pdlg_create</a> ( int16_t dialog_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre><a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *<a href="#pdlg_create">pdlg_create</a> ( int16_t dialog_flags )
{
   int_in[0] = dialog_flags;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (200);

   return ( addr_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">200   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">0     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">1     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">dialog_flags</td>
</tr>
<tr>
  <td align="left" valign="top">addr_out</td>
  <td align="left" valign="top">addr_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_delete">8.5.5 pdlg_delete</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Delete« - Release the memory of the print
dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 201
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_delete ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_delete frees the memory used for the print
dialog. The following applies:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function always returns the value 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_delete">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_delete">8.5.5.1 Bindings for pdlg_delete</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_delete">pdlg_delete</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_delete">pdlg_delete</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (201);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">201   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_dflt_settings">8.5.6 pdlg_dflt_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Default settings« - Default initialization.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 7)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_dflt_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_dflt_settings takes on the initialization of the
default printer settings in memory. The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Printer settings</td>
</tr>
</table>
</div>

<br>Structure length from <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> can be found with
<a href="#pdlg_get_setsize">pdlg_get_setsize</a>.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function always returns the value 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_dflt_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_dflt_settings">8.5.6.1 Bindings for pdlg_dflt_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_dflt_settings">pdlg_dflt_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_dflt_settings">pdlg_dflt_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                             <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 7;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">7     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_do">8.5.7 pdlg_do</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Do« - Open a print dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 207
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_do ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_do opens a modal print dialog. The following
apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">prn_dialog</td>
<td valign="top"> Pointer to management structure
</td></tr>

<tr><td nowrap="nowrap" valign="top">settings</td>
<td valign="top"> Printer settings
</td></tr>

<tr><td nowrap="nowrap" valign="top">document_name</td>
<td valign="top"> Document name
</td></tr>

<tr><td nowrap="nowrap" valign="top">option_flags</td>
<td valign="top"> <b>Diverse flags:</b>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">0x0000 =</td>
<td valign="top"> Display settings dialog
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0001 =</td>
<td valign="top"> Display print dialog
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0010 =</td>
<td valign="top"> Always offer No. of copies
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0020 =</td>
<td valign="top"> Always offer landscape format
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0040 =</td>
<td valign="top"> Always offer scaling
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0100 =</td>
<td valign="top"> Offer option for even and odd pages

</td></tr>
</table>


</td></tr>
</table>

<br>The function only returns to the caller when one of the exit
buttons has been activated ('Cancel', 'OK').
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value of the selected button (1 =
Cancel, 2 = OK), or the value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_do">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_do">8.5.7.1 Bindings for pdlg_do</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_do">pdlg_do</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_do">pdlg_do</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                  <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
                  int8_t *document_name,
                  int16_t option_flags )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;
   addr_in[2] = document_name;

   int_in[0] = option_flags;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (207);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">207   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">document_name</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">option_flags</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_evnt">8.5.8 pdlg_evnt</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Handle event« - Event processing of the print
dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 206
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_evnt ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, <a href="aes_structures.html#EVNT">EVNT</a> *events, int16_t *button );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_evnt takes on the event management for a print
dialog. The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Printer settings</td>
</tr>
<tr>
  <td align="left" valign="top"><i>events</i></td>
  <td align="left" valign="top">Pointer to <a href="aes_structures.html#EVNT">EVNT</a> structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>button</i></td>
  <td align="left" valign="top">Selected button (or 0)</td>
</tr>
<a name="PDLG_CANCEL"></a>
<a name="PDLG_OK"></a>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">PDLG_CANCEL (1) = Cancel</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">PDLG_OK (2) &nbsp;&nbsp;&nbsp;&nbsp;= OK</td>
</tr>
</table>
</div>

<br>The funcfunc evaluat and internally calls <a href="wdlg.html#wdlg_evnt">wdlg_evnt</a>. If the
dialog was confirmed, then the new printer settings are returned in
<i>settings.</i>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 0 if one of the <a href="aes_fundamentals.html#EXIT">EXIT</a> buttons was
clicked on, else the value 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_evnt">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_evnt">8.5.8.1 Bindings for pdlg_evnt</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_evnt">pdlg_evnt</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, <a href="aes_structures.html#EVNT">EVNT</a> *events, int16_t *button );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_evnt">pdlg_evnt</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                    <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
                    <a href="aes_structures.html#EVNT">EVNT</a> *events, int16_t *button )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;
   addr_in[2] = events;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (206);

   *button = int_out[1];
   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">206   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">2     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">events</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">button</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_free_settings">8.5.9 pdlg_free_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - <a href="c_task_royal.html#Free">Free</a> settings« - Release memory.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 6)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_free_settings ( <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_free_setting frees the memory that was reserved
by the call <a href="#pdlg_new_settings">pdlg_new_settings</a>. The following applies:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Printer settings</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if all went well, else the
value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_free_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_free_settings">8.5.9.1 Bindings for pdlg_free_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_free_settings">pdlg_free_settings</a> ( <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_free_settings">pdlg_free_settings</a> ( <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = settings;
   int_in[0] = 6;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">6     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_get_setsize">8.5.10 pdlg_get_setsize</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Get setting structure size« - Obtain the
length of the PRN_SETTINGS structure.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 204 (sub-opcode 0)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t pdlg_get_setsize ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_get_setsize returns the length of the
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> structure.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the length of the structure in bytes.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_get_setsize">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_get_setsize">8.5.10.1 Bindings for pdlg_get_setsize</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#pdlg_get_setsize">pdlg_get_setsize</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int32_t <a href="#pdlg_get_setsize">pdlg_get_setsize</a> ( void )
{
   int_in[0] = 0;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (204);

   return ( int_out[0..1] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">204   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">2     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">0     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0..1]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_new_settings">8.5.11 pdlg_new_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - New default settings« - Set default printer
settings.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 5)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *pdlg_new_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_new_settings returns a pointer to the initialized
printer settings. The following applies:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns a pointer to a <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> structure in
which the current printer settings are stored.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_new_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_new_settings">8.5.11.1 Bindings for pdlg_new_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *<a href="#pdlg_new_settings">pdlg_new_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre><a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *<a href="#pdlg_new_settings">pdlg_new_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog;
   int_in[0] = 5;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( addr_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">0     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">1     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">5     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">addr_out</td>
  <td align="left" valign="top">addr_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_open">8.5.12 pdlg_open</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Open Window« - Druckdialog im Fenster
öffnen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 202
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_open ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags, int16_t x,
int16_t y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_open opens a window with the print dialog. The
following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">prn_dialog</td>
<td valign="top"> Pointer to management structure
</td></tr>

<tr><td nowrap="nowrap" valign="top">settings</td>
<td valign="top"> Printer settings
</td></tr>

<tr><td nowrap="nowrap" valign="top">document_name</td>
<td valign="top"> Document name
</td></tr>

<tr><td nowrap="nowrap" valign="top">option_flags</td>
<td valign="top"> <b>Diverse flags:</b>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">0x0000 =</td>
<td valign="top"> Display settings dialog
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0001 =</td>
<td valign="top"> Display print dialog
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0010 =</td>
<td valign="top"> Always offer No. of copies
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0020 =</td>
<td valign="top"> lways offer landscape format
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0040 =</td>
<td valign="top"> Always offer scaling
</td></tr>

<tr><td nowrap="nowrap" valign="top">0x0100 =</td>
<td valign="top"> Offer option for even and odd pages

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">x</td>
<td valign="top"> X-coordinates of the window, or -1 (centred)
</td></tr>

<tr><td nowrap="nowrap" valign="top">y</td>
<td valign="top"> Y-coordinates of the window, or -1 (centred)

</td></tr>
</table>

<br><b>Note:</b> The structure <i>settings</i> contains the
printer setting that should be saved with each document. If no setting
exists yet for a document, it can either be created with
<a href="#pdlg_new_settings">pdlg_new_settings</a>, or the application can call <a href="gemdos_memory.html#Malloc">Malloc</a> and subsequently
<a href="#pdlg_dflt_settings">pdlg_dflt_settings</a> to initialize the memory.
<br>&nbsp;
<br>In the parameter <i>option_flags</i> one can decide, amongst
others, whether the dialog should be displayed as a settings or a
print dialog. With further flags one can also determine whether
scaling, copy options and landscape printing should be offered even if
a driver does not support them, so that the application has to output
the page rotated, for instance.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the ID of the created window, or the value
0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_open">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_open">8.5.12.1 Bindings for pdlg_open</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_open">pdlg_open</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a>
*settings, int8_t *document_name, int16_t option_flags, int16_t x,
int16_t y );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_open">pdlg_open</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                    <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings,
                    int8_t *document_name,
                    int16_t option_flags,
                    int16_t x, int16_t y)
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;
   addr_in[2] = document_name;

   int_in[0] = option_flags;
   int_in[1] = x;
   int_in[2] = y;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (202);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">202   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">3     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">document_name</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">option_flags</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">x</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">y</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_remove_printers">8.5.13 pdlg_remove_printers</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Remove private printers« - Remove
application's printers from the list.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 1)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_remove_printers ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_remove_printers removes the application's
printers registered with <a href="#pdlg_add_printers">pdlg_add_printers</a>. The following applies:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
</table>
</div>

<br>The function must be called <b>before</b> <a href="#pdlg_delete">pdlg_delete</a>.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function always returns the value 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_remove_printers">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_remove_printers">8.5.13.1 Bindings for pdlg_remove_printers</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_remove_printers">pdlg_remove_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_remove_printers">pdlg_remove_printers</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog_dialog;
   int_in[0] = 1;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">1     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_remove_sub_dialogs">8.5.14 pdlg_remove_sub_dialogs</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Remove private dialogs« - Remove sub-dialogs
from the print dialog.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 4)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_remove_sub_dialogs ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_remove_sub_dialogs removes the application's own
sub-dialogs from the print dialog. The following applies:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function always returns the value 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_remove_sub_dialogs">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_remove_sub_dialogs">8.5.14.1 Bindings for pdlg_remove_sub_dialogs</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_remove_sub_dialogs">pdlg_remove_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_remove_sub_dialogs">pdlg_remove_sub_dialogs</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog )
{
   addr_in[0] = prn_dialog;
   int_in[0] = 4;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">4     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_save_default_settings">8.5.15 pdlg_save_default_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Save default settings«
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 10)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_save_default_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_save_default_settings saves the default printer
settings that were set with <a href="#pdlg_new_settings">pdlg_new_settings</a>. The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Pointer to printer settings</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if all went well, else the
value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_save_default_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_save_default_settings">8.5.15.1 Bindings for pdlg_save_default_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_save_default_settings">pdlg_save_default_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_save_default_settings">pdlg_save_default_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                                     <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 10;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">10     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_update">8.5.16 pdlg_update</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print Dialog - Update Window« - neuen Fensternamen setzen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 2)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_update ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int8_t
*document_name );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> »Print dialog - Update window« - Set new window title.
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>document_name</i></td>
  <td align="left" valign="top">New document name</td>
</tr>
</table>
</div>

<br><b>Note:</b> The function should be called if a window-dialog
is lying in the background and the user tops a new document window
(brings it to the front).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if it operates correctly, else
the value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_update">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_update">8.5.16.1 Bindings for pdlg_update</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_update">pdlg_update</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog, int8_t
*document_name );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_update">pdlg_update</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                      int8_t *document_name )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = 0;              /* Reserved (must be 0!) */
   addr_in[2] = document_name;

   int_in[0] = 2;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">3     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">0</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+8</td>
  <td align="left" valign="top">addr_in[2]</td>
  <td align="left" valign="top">document_name</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">2     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_use_settings">8.5.17 pdlg_use_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Use settings« - Use validated settings.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 9)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_use_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_use_settings serves to validate the printer
settings that were set with <a href="#pdlg_new_settings">pdlg_new_settings</a> before adopting them for
use. The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Printer settings</td>
</tr>
</table>
</div>

<br>This function should be called if a program wants to print
immediately and it is not possible to call <a href="#pdlg_do">pdlg_do</a> or <a href="#pdlg_open">pdlg_open</a> and
<a href="#pdlg_evnt">pdlg_evnt</a> (e.g. Calamus print dialogs). The passed printer settings
will be validated (and saved for old drivers).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if it operates correctly, else
the value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_use_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_use_settings">8.5.17.1 Bindings for pdlg_use_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_use_settings">pdlg_use_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_use_settings">pdlg_use_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                            <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 9;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">9     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="pdlg_validate_settings">8.5.18 pdlg_validate_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Print dialog - Validate settings« - Validates the printer
settings.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 205 (sub-opcode 8)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t pdlg_validate_settings ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call pdlg_validate_settings validates the printer settings
that were set with <a href="#pdlg_new_settings">pdlg_new_settings</a>. The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>prn_dialog</i></td>
  <td align="left" valign="top">Pointer to management structure</td>
</tr>
<tr>
  <td align="left" valign="top"><i>settings</i></td>
  <td align="left" valign="top">Printer settings</td>
</tr>
</table>
</div>

<br><b>Note:</b> Faulty structure contents will be corrected by the
function if necessary.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 1 if it operates correctly, else
the value 0 in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The presence of this function can be checked with <a href="appl.html#UDO__25apgi_7">appl_getinfo</a>
(opcode 7).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Print_20dialogs">Print dialogs</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20pdlg_validate_settings">Binding</a> &nbsp; <a href="magic_programs.html#WDIALOG">WDIALOG</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20pdlg_validate_settings">8.5.18.1 Bindings for pdlg_validate_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#pdlg_validate_settings">pdlg_validate_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
<a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#pdlg_validate_settings">pdlg_validate_settings</a> ( <a href="aes_structures.html#PRN_DIALOG">PRN_DIALOG</a> *prn_dialog,
                                 <a href="aes_structures.html#PRN_SETTINGS">PRN_SETTINGS</a> *settings )
{
   addr_in[0] = prn_dialog;
   addr_in[1] = settings;

   int_in[0] = 8;
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (205);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">205   # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">prn_dialog</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">settings</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">8     # Sub-opcode</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="Print_20selection_20in_20a_20window">8.5.19 Print selection in a window</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Program start:</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_create">pdlg_create</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Calling the print dialog:</td>
<td valign="top"> <a href="#pdlg_open">pdlg_open</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Event loop:</td>
<td valign="top"> <a href="#pdlg_evnt">pdlg_evnt</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Closing of the print dialog:</td>
<td valign="top"> <a href="#pdlg_close">pdlg_close</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_delete">pdlg_delete</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">Program end:</td>
<td valign="top"> &nbsp;

</td></tr>
</table>

<h3><a name="Print_20selection_20as_20a_20dialog">8.5.20 Print selection as a dialog</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Program start:</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_create">pdlg_create</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Calling the print dialog:</td>
<td valign="top"> <a href="#pdlg_do">pdlg_do</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">.</td>
<td valign="top"> <a href="#pdlg_delete">pdlg_delete</a>()
</td></tr>

<tr><td nowrap="nowrap" valign="top">Program end:</td>
<td valign="top"> &nbsp;

</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_FOOT" href="fsel.html"><img src="udo_lf.gif" alt="File-selector library" title="File-selector library" border="0" width="24" height="24">File-selector library</a>
<a name="UDO_nav_rg_FOOT" href="edit.html"><img src="udo_rg.gif" alt="Editable object functions" title="Editable object functions" border="0" width="24" height="24">Editable object functions</a>
</body>
</html>
