<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/12/20 -->
<html lang="en">
<head>
<title>
The documentation for TOS: Menu library
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_HEAD" href="magic_function.html"><img src="udo_lf.gif" alt="MagiC library" title="MagiC library" border="0" width="24" height="24">MagiC library</a>
<a name="UDO_nav_rg_HEAD" href="objc.html"><img src="udo_rg.gif" alt="Object library" title="Object library" border="0" width="24" height="24">Object library</a>

<hr>

<h1><a name="Menu_20library">8.17 Menu library</a></h1>
<p>This library makes functions available for drawing and
manipulating menu bars. The following routines are available for this
purpose:
</p>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_attach">menu_attach</a></td>
<td valign="top"> Adds, alters or deletes a submenu
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_bar">menu_bar</a></td>
<td valign="top"> Processes the menu bar
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_click">menu_click</a></td>
<td valign="top"> Processes pulldown menus
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_icheck">menu_icheck</a></td>
<td valign="top"> Sets or clears check mark (tick) in menu options
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_ienable">menu_ienable</a></td>
<td valign="top"> Enables or disables a menu entry
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_istart">menu_istart</a></td>
<td valign="top"> Aligns a submenu entry
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_popup">menu_popup</a></td>
<td valign="top"> Displays and processes a popup menu
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_register">menu_register</a></td>
<td valign="top"> Enters desk accessory in 'Desk' menu
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_settings">menu_settings</a></td>
<td valign="top"> Sets or inquires popup/submenu parameters
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_text">menu_text</a></td>
<td valign="top"> Alters the text of a menu item
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_tnormal">menu_tnormal</a></td>
<td valign="top"> Inverts menu title
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#menu_unregister">menu_unregister</a></td>
<td valign="top"> Removes accessory name from 'Desk' menu.

</td></tr>
</table>

<p><b>Note:</b> As of AES version 4.0 (or <a href="magic.html">MagiC</a> 3) this library
was revised intensely, and now also takes on the display and
management of popup and submenus.
</p>
<p>See also: <a href="guidelines_styles.html#Menus_20and_20menu_20bars">Menus and menu bars</a> &nbsp; <a href="guidelines_styles.html">Style guidelines</a> &nbsp; <a href="magic_programs.html#XMEN_MGR">XMEN_MGR</a>
</p>
<h3><a name="menu_attach">8.17.1 menu_attach</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu attach« - Add, alter, delete or obtain information
about a submenu.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 37
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_attach ( int16_t mode, <a href="aes_structures.html#OBJECT">OBJECT</a> *tree, int16_t item,
<a href="aes_structures.html#MENU">MENU</a> *mdata );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_attach permits adding, deleting or altering a
submenu. In addition one can obtain information about a submenu. The
following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">mode</td>
<td valign="top"> <b>Desired action:</b>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">0 =</td>
<td valign="top"> Get information about a submenu and store it in <i>mdata</i>
</td></tr>

<tr><td nowrap="nowrap" valign="top">1 =</td>
<td valign="top"> Add to, or alter, a submenu whose description is stored in
<i>mdata</i>; if <i>mdata</i> has the value NULL, the submenu will
be removed
</td></tr>

<tr><td nowrap="nowrap" valign="top">2 =</td>
<td valign="top"> Direct removal of a submenu; <i>mdata</i> should be a
NULL-pointer

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">tree</td>
<td valign="top"> Address of the menu object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">item</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the object with which the submenu is (or should
become) connected, or from which the submenu should be removed or
altered
</td></tr>

<tr><td nowrap="nowrap" valign="top">mdata</td>
<td valign="top"> <a href="aes_structures.html#MENU">MENU</a> structure of the submenu

</td></tr>
</table>

<br><b>Note:</b> If possible, not more than <i>one</i> submenu
level should be created for a menu entry, though up to <i>four</i>
levels are supported. The number of submenus per menu is restricted to
64.
<br>&nbsp;
<br>If a menu item is expected to have a submenu attachment, the
<a href="aes_fundamentals.html#G_STRING">G_STRING</a> must be padded with blanks to the width of the menu.
<br>&nbsp;
<br>Attaching a submenu to a menu item is done by calling
menu_attach(). A submenu is associated to a menu item by placing a
right arrow two characters in front of the right edge. Any character
at that location will be overwritten.
<br>&nbsp;
<br>When detaching a submenu the right arrow will be overwritten
with a blank.
<br>&nbsp;
<br>The <i>ob_x</i> and <i>ob_y</i> fields of the root object
should always be set to 0 before making a menu_attach call.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> This function is available only from AES version 3.30
onwards. In AES versions 4.0 and greater <a href="appl.html#UDO__25apgi_9">appl_getinfo</a> (opcode 9) should
be used to determine its exact functionality.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_attach">Binding</a> &nbsp; <a href="#menu_istart">menu_istart</a> &nbsp; <a href="#menu_settings">menu_settings</a> &nbsp; <a href="#menu_popup">menu_popup</a> &nbsp; <a href="magic_programs.html#XMEN_MGR">XMEN_MGR</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_attach">8.17.1.1 Bindings for menu_attach</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_attach">menu_attach</a> ( int16_t mode, <a href="aes_structures.html#OBJECT">OBJECT</a> *tree, int16_t item,
<a href="aes_structures.html#MENU">MENU</a> *mdata );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_attach">menu_attach</a> (int16_t mode, <a href="aes_structures.html#OBJECT">OBJECT</a> *tree, int16_t item,
                     <a href="aes_structures.html#MENU">MENU</a> *mdata)
{
   int_in[0]  = mode;
   int_in[1]  = item;
   addr_in[0] = tree;
   addr_in[1] = mdata;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(37) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">37    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">2     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">mode</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">item</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">tree</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">mdata</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_bar">8.17.2 menu_bar</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu bar« - Display, delete or install a menu bar.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 30
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_bar ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_btree, int16_t me_bshow );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_bar performs various operations, depending on the
parameter <i>me_bshow</i>:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">me_bshow</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">-3</td>
<td valign="top"> Inquire low-WORD of an application's menu bar
</td></tr>

<tr><td nowrap="nowrap" valign="top">-2</td>
<td valign="top"> Inquire high-WORD of an application's menu bar
</td></tr>

<tr><td nowrap="nowrap" valign="top">-1</td>
<td valign="top"> Inquire owner (application) of the menu bar; as this can change
continuously, the screen must be locked with <a href="wind.html#wind_update">wind_update</a> to make a
safe inquiry
</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top"> Delete menu bar specified in <i>me_btree</i>
</td></tr>

<tr><td nowrap="nowrap" valign="top">1</td>
<td valign="top"> Draw menu bar specified in <i>me_btree</i>
</td></tr>

<tr><td nowrap="nowrap" valign="top">3</td>
<td valign="top"> Get the menu bar mode (<a href="n_aes.html">N.AES</a>)
</td></tr>

<tr><td nowrap="nowrap" valign="top">4</td>
<td valign="top"> Set the menu bar mode (<a href="n_aes.html">N.AES</a>, not implemented)
</td></tr>

<tr><td nowrap="nowrap" valign="top">5</td>
<td valign="top"> Update the system part of the menu bar (<a href="n_aes.html">N.AES</a>)
</td></tr>

<tr><td nowrap="nowrap" valign="top">100</td>
<td valign="top"> <a href="c_task_royal.html#Install">Install</a> menu bar, without forcing a change-over of the top
application

</td></tr>
</table>

<br>Definitions:
<br>&nbsp;
<a name="MENU_HIDE"></a>
<a name="MENU_SHOW"></a>
<a name="MENU_GETMODE"></a>
<a name="MENU_SETMODE"></a>
<a name="MENU_UPDATE"></a>
<a name="MENU_INSTL"></a>
<br>MENU_HIDE = 0
<br>MENU_SHOW = 1
<br>MENU_GETMODE = 3
<br>MENU_SETMODE = 4
<br>MENU_UPDATE = 5
<br>MENU_INSTL = 100
<br>&nbsp;
<br>Menu bar modes:
<br>&nbsp;
<a name="MENU_HIDDEN"></a>
<a name="MENU_PULLDOWN"></a>
<a name="MENU_SHADOWED"></a>
<br>MENU_HIDDEN = 0x0001 Menu bar only visible when needed
<br>MENU_PULLDOWN = 0x0002 Pulldown-Menus
<br>MENU_SHADOWED = 0x0004 Menu bar with shadows
<br>&nbsp;
<br><b>Note:</b> The parameter <i>me_btree</i> is a pointer to the
object tree of the corresponding menu. At termination of the program
one must not forget to remove the menu bar again.
<br>&nbsp;
<br>With menu_bar(-2/-3) one can inquire the tree address of an
application's menu bar. menu_bar(-2) returns the high-WORD and
menu_bar(-3) the low-WORD. Only available if the cookie 'MbAr' or
'AmAN' is present.
<br>&nbsp;
<pre><a href="aes_structures.html#OBJECT">OBJECT</a> *get_menu(int apid)
{
  unsigned int hi = menu_bar((<a href="aes_structures.html#OBJECT">OBJECT</a> *)apid, -2);
  unsigned int lo = menu_bar((<a href="aes_structures.html#OBJECT">OBJECT</a> *)apid, -3);
  <a href="aes_structures.html#OBJECT">OBJECT</a> *tree = (<a href="aes_structures.html#OBJECT">OBJECT</a> *)(((unsigned long)hi &lt;&lt; 16) | lo);
  return tree;
}
</pre>
<br>The presence of the extended possibilities can be checked for
with <a href="appl.html#UDO__25apgi_6">appl_getinfo</a> (opcode 6).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned. A value of
-1 signals that there is no owner of the menu bar.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_bar">Binding</a> &nbsp; <a href="aes_structures.html#OBJECT">OBJECT</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_bar">8.17.2.1 Bindings for menu_bar</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_bar">menu_bar</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_btree, int16_t me_bshow );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_bar">menu_bar</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *me_btree, int16_t me_bshow)
{
   int_in[0]  = me_bshow;
   addr_in[0] = me_btree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(30) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">30    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_bshow</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_btree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_click">8.17.3 menu_click</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu click« - »Menu click« - Set or inquire type of menu
control.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 37
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_click ( int16_t click, int16_t setit );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> With the aid of the menu_click function it is possible to
change the operation of dropdown menus to that of pulldown menus,
familiar from the <i>Macintosh.</i> The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">click</td>
<td valign="top">
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Dropdown</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Pulldown</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">setit</td>
<td valign="top">
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Inquire menu control</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Set menu control</td>
</tr>
</table>
</div>


</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the type of menu control set (0 = Dropdown,
1 = Pulldown).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> On the PC this function is available only from GEM/3, KAOS
1.4.2 and <a href="magic.html">MagiC</a>; on the Atari the presence should be checked for with
<a href="appl.html#UDO__25apgi_5">appl_getinfo</a> (opcode 5).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_click">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_click">8.17.3.1 Bindings for menu_click</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_click">menu_click</a> ( int16_t click, int16_t setit );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_click">menu_click</a> (int16_t click, int16_t setit)
{
   int_in[0] = click;
   int_in[1] = setit;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(37) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">37    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">2     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">click</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">setit</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_icheck">8.17.4 menu_icheck</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu indicate check« - Set or clear check mark (tick) in
menu options.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 31
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_icheck ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_ctree, int16_t me_citem,
int16_t me_ccheck );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_icheck sets or removes a check mark (tick) before
a menu entry. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_ctree</td>
<td valign="top"> Address of the menu object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_citem</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the menu entry
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_ccheck</td>
<td valign="top">
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Clear tick</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Set tick</td>
</tr>
</table>
</div>


</td></tr>
</table>

<br><b>Note:</b> For appearance's sake, every entry of a menu
should start with two space characters. From PC-GEM 2.0 onwards,
small triangles instead of a tick are used for this purpose.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The value 0 indicates that an error has arisen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_icheck">Binding</a> &nbsp; <a href="aes_structures.html#OBJECT">OBJECT</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_icheck">8.17.4.1 Bindings for menu_icheck</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_icheck">menu_icheck</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_ctree, int16_t me_citem,
int16_t me_ccheck );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_icheck">menu_icheck</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *me_ctree, int16_t me_citem,
                     int16_t me_ccheck)
{
   int_in[0]  = me_citem;
   int_in[1]  = me_ccheck;
   addr_in[0] = me_ctree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(31) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">31    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">2     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_citem</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">me_ccheck</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_ctree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_ienable">8.17.5 menu_ienable</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu indicate enable« - Enable or disable a menu entry.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 32
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_ienable ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_etree, int16_t me_eitem,
int16_t me_eenable );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_ienable switches menu entries on or off. The
following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_etree</td>
<td valign="top"> Address of the menu object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_eitem</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the menu entry
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_eenable</td>
<td valign="top">
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Disable menu entry</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Enable menu entry</td>
</tr>
</table>
</div>


</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_ienable">Binding</a> &nbsp; <a href="aes_structures.html#OBJECT">OBJECT</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_ienable">8.17.5.1 Bindings for menu_ienable</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_ienable">menu_ienable</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_etree, int16_t me_eitem,
int16_t me_eenable );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_ienable">menu_ienable</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *me_etree, int16_t me_eitem,
                      int16_t me_eenable)
{
   int_in[0]  = me_eitem;
   int_in[1]  = me_eenable;
   addr_in[0] = me_etree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(32) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">32    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">2     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_eitem</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">me_eenable</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_etree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_istart">8.17.6 menu_istart</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu istart« - Align a submenu entry.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 38
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_istart ( int16_t flag, <a href="aes_structures.html#OBJECT">OBJECT</a> *tree, int16_t
imenu, int16_t item );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_istart enables the alignment of a submenu item
vertically with the corresponding entry of the parent (main) menu. The
following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">flag</td>
<td valign="top"> 1 = Align, 0 = Don't align
</td></tr>

<tr><td nowrap="nowrap" valign="top">tree</td>
<td valign="top"> Address of the menu object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">imenu</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the submenu entry that is to be aligned
</td></tr>

<tr><td nowrap="nowrap" valign="top">item</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the menu entry with which the submenu is to be
associated

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned; a positive
number is the object index of the submenu item currently aligned with
its parent menu entry.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> This function is available only with AES versions 3.30 and
above.
<br>&nbsp;
<br>The presence of this function can be ascertained with a call of
<a href="appl.html#UDO__25apgi_9">appl_getinfo</a> (opcode 9).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_istart">Binding</a> &nbsp; <a href="#menu_attach">menu_attach</a> &nbsp; <a href="magic_programs.html#XMEN_MGR">XMEN_MGR</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_istart">8.17.6.1 Bindings for menu_istart</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_istart">menu_istart</a> ( int16_t flag, <a href="aes_structures.html#OBJECT">OBJECT</a> *tree, int16_t
imenu, int16_t item );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_istart">menu_istart</a> (int16_t flag, <a href="aes_structures.html#OBJECT">OBJECT</a> *tree,
                     int16_t imenu,
                     int16_t item)
{
   int_in[0]  = flag;
   int_in[1]  = imenu;
   int_in[2]  = item;
   addr_in[0] = tree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(38) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">38    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">3     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">flag</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">imenu</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">item</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">tree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_popup">8.17.7 menu_popup</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu popup« - Take over the display and handling of a popup
menu.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 36
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_popup ( <a href="aes_structures.html#MENU">MENU</a> *me_menu, int16_t me_xpos, int16_t
me_ypos, <a href="aes_structures.html#MENU">MENU</a> *me_mdata );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_popup takes over the display and handling of a
popup menu, returning the user's selection. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_menu</td>
<td valign="top"> Pointer to the <a href="aes_structures.html#MENU">structure</a> of the popup
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_xpos</td>
<td valign="top"> X-coordinate, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_ypos</td>
<td valign="top"> Y-coordinate of the menu's top left corner
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_mdata</td>
<td valign="top"> Pointer to the data of the selected menu entry

</td></tr>
</table>

<br>If <i>mn_scroll</i> of <a href="aes_structures.html#MENU">MENU</a> is set to 0 when menu_popup is
called, a non-scrollable popup menu will be displayed.
<br>&nbsp;
<br>if <i>mn_scroll</i> of <a href="aes_structures.html#MENU">MENU</a> is set to &gt;0 when menu_popup is
called, a scrolling popup menu will be displayed; <i>height</i> of
<a href="aes_structures.html#MN_SET">MN_SET</a> determines it's height in items (note that Atari's AES
implements up/down arrows within the popup for scrolling to maintain
the same look and feel of dropdown menus as they can be attached to
menubar items, note that NAES mimics this exact behavior). See also
<a href="#menu_settings">menu_settings</a>.
<br>&nbsp;
<br>As of AES version 4.1, if <i>mn_scroll</i> of <a href="aes_structures.html#MENU">MENU</a> is set to
-1 when menu_popup is called, a dropdown list box instead of a popup
menu will be displayed; this will have a scroll bar if eight entries
or more exist.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> This function is available only with AES versions 3.30 and
above.
<br>&nbsp;
<br>The presence of this function can be ascertained by a call of
<a href="appl.html#UDO__25apgi_9">appl_getinfo</a> (opcode 9).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_popup">Binding</a> &nbsp; <a href="#menu_settings">menu_settings</a> &nbsp; <a href="magic_programs.html#XMEN_MGR">XMEN_MGR</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_popup">8.17.7.1 Bindings for menu_popup</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_popup">menu_popup</a> ( <a href="aes_structures.html#MENU">MENU</a> *me_menu, int16_t me_xpos, int16_t
me_ypos, <a href="aes_structures.html#MENU">MENU</a> *me_mdata );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_popup">menu_popup</a> (<a href="aes_structures.html#MENU">MENU</a> *me_menu, int16_t me_xpos,
                    int16_t me_ypos,
                    <a href="aes_structures.html#MENU">MENU</a> *me_mdata)
{
   int_in[0]  = me_xpos;
   int_in[1]  = me_ypos;
   addr_in[0] = me_menu;
   addr_in[1] = me_mdata;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(36) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">36    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">2     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_xpos</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">me_ypos</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_menu</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">me_mdata</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_register">8.17.8 menu_register</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu register« - Register a desk accessory in the 'Desk'
accessory menu.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 35
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_register ( int16_t me_rapid, CONST int8_t
*me_rpstring );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_register enters the name of a desk accessory in
the accessory menu (below the left-most entry of the menu bar), or
alters it. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_rapid</td>
<td valign="top"> Application ID of the accessory, or -1 to alter the process
name of the application to that specified in <i>me_rpstring</i>
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_rpstring</td>
<td valign="top"> Address of the NULL-terminated text string for the menu entry

</td></tr>
</table>

<br>Although altering the name of the application is only documented
as of AES 4.0, this feature seems to work in all TOS versions.
<br>&nbsp;
<br><b>Important:</b> The parameter <i>me_rpstring</i> is used by
GEM only as a pointer; thus no copy of the new entry will be
created. The function call only becomes effective when the
corresponding main program makes a <a href="#menu_bar">menu_bar</a> call. Hence desk
accessories should call this function immediately after launching,
else there is the danger that they will miss the menu_bar of the
desktop.
<br>&nbsp;
<br>If the cookie 'MbAr' or 'AmAN' is present, then one can find the
appication ID with menu_register(-1,&quot;?\0\n&quot;), where
<i>n</i> specifies the ID of the accessory in question. The return
value then represents the menu_id (or -1).
<br>&nbsp;
<br><b>Note:</b> Applications other than desk accessories should
not call this function unless they are running under MultiTOS, where
they can use it to provide a more meaningful title for the 'Desk' menu
than the program's filename. Calling menu_register with a parameter of
-1 for <i>me_rapid</i> is used to change the internal process name of
the application returned by <a href="appl.html#appl_find">appl_find</a> and <a href="appl.html#appl_search">appl_search</a> - useful if you
know that another process will try to find your application as a
specific process name and the user may have altered the application's
filename (which is normally used as the process name).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the menu identifier for the accessory, or
(in case of error) the value -1. Desk accessories should store the
return value, as it is included in <a href="evnt.html#AC_OPEN">AC_OPEN</a> messages to identify the
accessory.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_register">Binding</a> &nbsp; <a href="#menu_bar">menu_bar</a> &nbsp; <a href="#menu_unregister">menu_unregister</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_register">8.17.8.1 Bindings for menu_register</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_register">menu_register</a> ( int16_t me_rapid, CONST int8_t
*me_rpstring );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_register">menu_register</a> (int16_t me_rapid,
                       CONST int8_t *me_rpstring)
{
   int_in[0]  = me_rapid;
   addr_in[0] = me_rpstring;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(35) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">35    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_rapid</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_rpstring</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_settings">8.17.9 menu_settings</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu settings« - Set or inquire popup/submenu parameters.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 39
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_settings ( int16_t me_flag, <a href="aes_structures.html#MN_SET">MN_SET</a> *me_values );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_settings enables manipulation of the global
parameters for popups and for submenus. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_flag</td>
<td valign="top"> Parameter
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Inquire current settings</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Set current settings from <a href="aes_structures.html#MN_SET">MN_SET</a></td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">me_values</td>
<td valign="top"> Pointer to <a href="aes_structures.html#MN_SET">MN_SET</a> structure

</td></tr>
</table>

<br><b>Note:</b> The settings made with this function apply not
just for the calling program, but for the whole system. For this
reason this call should <i>not</i> be used by normal application
programs but only in configuration programs (such as <a href="xcontrol.html">CPX modules</a>, for
instance).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function always returns the value 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> This function is available only with AES versions 3.30 and
above.
<br>&nbsp;
<br>The presence of this function can be ascertained with a call of
<a href="appl.html#UDO__25apgi_9">appl_getinfo</a> (opcode 9).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_settings">Binding</a> &nbsp; <a href="#menu_popup">menu_popup</a> &nbsp; <a href="magic_programs.html#XMEN_MGR">XMEN_MGR</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_settings">8.17.9.1 Bindings for menu_settings</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_settings">menu_settings</a> ( int16_t me_flag, <a href="aes_structures.html#MN_SET">MN_SET</a> *me_values );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_settings">menu_settings</a> (int16_t me_flag, <a href="aes_structures.html#MN_SET">MN_SET</a> *me_values)
{
   int_in[0]  = me_flag;
   addr_in[0] = me_values;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(39) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">39    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_flag</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_values</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_text">8.17.10 menu_text</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu text« - Replaces the text of a menu item.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 34
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_text ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_ttree, int16_t me_titem, CONST
int8_t *me_ttext );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_text alters the text in a menu item. In this way
menu texts can be dependent of the state of the application, i.e.
become context-sensitive. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_ttree</td>
<td valign="top"> Address of the menu object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_titem</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the menu item to be altered
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_ttext</td>
<td valign="top"> Address of the new NULL-terminated character string for the
item

</td></tr>
</table>

<br><b>Important:</b> The parameter <i>me_ttext</i> is used by
GEM only as a pointer; thus no copy of the new entry will be
created. Furthermore one should ensure that the new entry does not
exceed the length of the old one.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_text">Binding</a> &nbsp; <a href="aes_structures.html#OBJECT">OBJECT</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_text">8.17.10.1 Bindings for menu_text</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_text">menu_text</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_ttree, int16_t me_titem, CONST
int8_t *me_ttext );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_text">menu_text</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *me_ttree, int16_t me_titem,
                   CONST int8_t *me_ttext)
{
   int_in[0]  = me_titem;
   addr_in[0] = me_ttree;
   addr_in[1] = me_ttext;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(34) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">34    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_titem</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_ttree</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">me_ttext</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_tnormal">8.17.11 menu_tnormal</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu text normal« - Displays a menu title in inverse video
or normal.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 33
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_tnormal ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_ntree, int16_t me_ntitle,
int16_t me_nnormal );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_tnormal highlights a menu title by displaying it
in inverse video. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_ntree</td>
<td valign="top"> Address of the menu object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_ntitle</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the menu item to change
</td></tr>

<tr><td nowrap="nowrap" valign="top">me_nnormal</td>
<td valign="top">
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Display menu item inverse</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Display menu item normal</td>
</tr>
</table>
</div>


</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_tnormal">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_tnormal">8.17.11.1 Bindings for menu_tnormal</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_tnormal">menu_tnormal</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *me_ntree, int16_t me_ntitle,
int16_t me_nnormal );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_tnormal">menu_tnormal</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *me_ntree, int16_t me_ntitle,
                      int16_t me_nnormal)
{
   int_in[0]  = me_ntitle;
   int_in[1]  = me_nnormal;
   addr_in[0] = me_ntree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(33) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">33    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">2     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">me_ntitle</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">me_nnormal</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">me_ntree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="menu_unregister">8.17.12 menu_unregister</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Menu unregister« - Remove accessory name from 'Desk' menu.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 36
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t menu_unregister ( int16_t mid );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call menu_unregister allows a desk accessory to remove its
name from the 'Desk' menu again.
<br>&nbsp;
<br>The parameter <i>mid</i> is the application ID of the
corresponding desk accessory.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Not known at present.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The function is available only under PC-GEM as of 2.0, KAOS
as of 1.4.2 and <a href="magic.html">MagiC</a>.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Menu_20library">Menu library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20menu_unregister">Binding</a> &nbsp; <a href="#menu_register">menu_register</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20menu_unregister">8.17.12.1 Bindings for menu_unregister</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#menu_unregister">menu_unregister</a> ( int16_t mid );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#menu_unregister">menu_unregister</a> (int16_t mid)
{
   int_in[0] = mid;
   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(36) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">36    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">mid</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_FOOT" href="magic_function.html"><img src="udo_lf.gif" alt="MagiC library" title="MagiC library" border="0" width="24" height="24">MagiC library</a>
<a name="UDO_nav_rg_FOOT" href="objc.html"><img src="udo_rg.gif" alt="Object library" title="Object library" border="0" width="24" height="24">Object library</a>
</body>
</html>
