<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/12/20 -->
<html lang="en">
<head>
<title>
The documentation for TOS: SetPageMode
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="pmmu.html"><img src="udo_up.gif" alt="The PMMU functions-handler" title="The PMMU functions-handler" border="0" width="24" height="24">The PMMU functions-handler</a>
<a name="UDO_nav_lf_HEAD" href="pmmu_PMMUversion.html"><img src="udo_lf.gif" alt="PMMUversion" title="PMMUversion" border="0" width="24" height="24">PMMUversion</a>
<a name="UDO_nav_rg_HEAD" href="pmmu_vmem_size.html"><img src="udo_rg.gif" alt="vmem_size" title="vmem_size" border="0" width="24" height="24">vmem_size</a>

<hr>

<h1><a name="SetPageMode">F.6 SetPageMode</a></h1>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »SetPageMode« - Set PMMU mode for a memory block.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Number:</td>
<td valign="top"> 1
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Declaration:</td>
<td valign="top"> ULONG SetPageMode ( ULONG mode, ULONG start_address, ULONG
length );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call SetPageMode sets the PMMU mode for a given block of
memory. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>mode</i></td>
<td valign="top"> Mode as a bit-vector
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Bit 0 =</td>
<td valign="top"> <b>SwapInhibit</b>
<br>The memory block will not be offloaded
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 1 =</td>
<td valign="top"> <b>WriteProtect</b>
<br>The memory block will be write-protected; attempts to write to it
lead to a bus error
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 2 =</td>
<td valign="top"> <b>Used</b>
<br>The memory block is marked as being in use; by this it temporarily
gets a higher priority and is not offloaded at first
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 3 =</td>
<td valign="top"> <b>Modified</b>
<br>The memory block is marked as having been modified; due to this
the block is written to disk in any case before new data are read into
its ophysical address
</td></tr>

<tr><td nowrap="nowrap" valign="top">Bit 4 =</td>
<td valign="top"> <b>CacheInhibit</b>
<br>The processor caches are switched off for the specified block

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>start_address</i></td>
<td valign="top"> Start address of memory block
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>length</i></td>
<td valign="top"> Length of the desired block

</td></tr>
</table>

<br><b>Note:</b> The remaining bits are reserved and must be set to
zero. For the virtual memory management the SwapInhibit bit is the
most meaningful one, since it offers the possibility of protecting
given memory blocks from being offloaded to disk.
<br>&nbsp;
<br>With write-protection of memory blocks it is imperative to note
that the memory is subdivided into pages, which form the smallest unit
that can be write-protected. One has to ensure that the
write-protection does not extend to a block that must not be
protected, because it does not belong to the program in question, for
instance.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns zero on error-free execution. Otherwise a
value is returned in which the bits that could not be manipulated are
set.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="pmmu.html">PMMU functions-handler</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="pmmu_ClearPageMode.html">ClearPageMode</a> &nbsp; <a href="pmmu_GetHdv_inuse.html">GetHdv_inuse</a> &nbsp; <a href="pmmu_GetPageSize.html">GetPageSize</a> &nbsp; <a href="pmmu_pmem_size.html">pmem_size</a> &nbsp;
<a href="pmmu_PMMUversion.html">PMMUversion</a> &nbsp; <a href="pmmu_vmem_size.html">vmem_size</a>
<br>&nbsp;

</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="pmmu.html"><img src="udo_up.gif" alt="The PMMU functions-handler" title="The PMMU functions-handler" border="0" width="24" height="24">The PMMU functions-handler</a>
<a name="UDO_nav_lf_FOOT" href="pmmu_PMMUversion.html"><img src="udo_lf.gif" alt="PMMUversion" title="PMMUversion" border="0" width="24" height="24">PMMUversion</a>
<a name="UDO_nav_rg_FOOT" href="pmmu_vmem_size.html"><img src="udo_rg.gif" alt="vmem_size" title="vmem_size" border="0" width="24" height="24">vmem_size</a>
</body>
</html>
