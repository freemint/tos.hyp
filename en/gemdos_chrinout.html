<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/12/20 -->
<html lang="en">
<head>
<title>
The documentation for TOS: Character input/output
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="gemdos_main.html"><img src="udo_up.gif" alt="GEMDOS" title="GEMDOS" border="0" width="24" height="24">GEMDOS</a>
<a name="UDO_nav_lf_HEAD" href="gemdos_directory.html"><img src="udo_lf.gif" alt="Directory functions" title="Directory functions" border="0" width="24" height="24">Directory functions</a>
<a name="UDO_nav_rg_HEAD" href="gemdos_mintnet.html"><img src="udo_rg.gif" alt="Network" title="Network" border="0" width="24" height="24">Network</a>

<hr>

<h1><a name="Character_20input_2Foutput">5.16 Character input/output</a></h1>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cauxin">Cauxin</a>&nbsp;</td>
<td valign="top"> Reads character from serial port.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cauxis">Cauxis</a>&nbsp;</td>
<td valign="top"> Obtains input status of serial port.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cauxos">Cauxos</a>&nbsp;</td>
<td valign="top"> Obtains output status of serial port.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cauxout">Cauxout</a></td>
<td valign="top"> Writes character to serial port.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cconin">Cconin</a>&nbsp;</td>
<td valign="top"> Reads character from standard input device.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cconis">Cconis</a>&nbsp;</td>
<td valign="top"> Checks keyboard buffer whether character is waiting.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cconos">Cconos</a>&nbsp;</td>
<td valign="top"> Checks status of standard output device.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cconout">Cconout</a></td>
<td valign="top"> Writes character to standard output device.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cconrs">Cconrs</a>&nbsp;</td>
<td valign="top"> Reads string from standard input device.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cconws">Cconws</a>&nbsp;</td>
<td valign="top"> Outputs string to standard output device.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cnecin">Cnecin</a>&nbsp;</td>
<td valign="top"> Reads character without displaying it on-screen.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cprnos">Cprnos</a>&nbsp;</td>
<td valign="top"> Obtains printer status.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Cprnout">Cprnout</a></td>
<td valign="top"> Outputs character to printer.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Crawcin">Crawcin</a></td>
<td valign="top"> Reads character without display/interpretation.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#Crawio">Crawio</a>&nbsp;</td>
<td valign="top"> Reads character direct from keyboard, or outputs it to screen.

</td></tr>
</table>

<p><b>Note:</b> The output routines of the GEMDOS emulate a VT52
terminal.
</p>
<h3><a name="Cauxin">5.16.1 Cauxin</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character auxiliary input« - Input via serial port.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 3
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cauxin ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cauxin reads a character byte from the
GEMDOS handle 2 - normally the serial port aux:. The function waits
until the character arrives.
<br>&nbsp;
<br><b>Note:</b> Atari recommends use of the BIOS function <a href="About_the_BIOS.html#Bconin">Bconin</a>
for this, as Cauxin can cause problems when its handle is redirected
and end-of-file is encountered.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the read-in character in the low byte of
the returned WORD.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cauxin">Binding</a> &nbsp; <a href="#Cauxout">Cauxout</a> &nbsp; <a href="About_the_BIOS.html#Bconin">Bconin</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cauxin">5.16.1.1 Bindings for Cauxin</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cauxin">Cauxin</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #3,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cauxis">5.16.2 Cauxis</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character auxiliary input status« - Check the input status
of the serial port.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 18
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t Cauxis ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cauxis checks the status of GEMDOS handle 2
- normally the serial port aux: - to see whether at least one
character is waiting to be received.
<br>&nbsp;
<br><b>Note:</b> The function works correctly with redirection of
input/output only as of GEMDOS Version 0.15. Atari recommends the use
of the BIOS function <a href="About_the_BIOS.html#Bconstat">Bconstat</a> instead.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function can return the following results:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Value</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">-1</td>
<td valign="top"> At least one character in buffer available
</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top"> No character available

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cauxis">Binding</a> &nbsp; <a href="#Cauxos">Cauxos</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cauxis">5.16.2.1 Bindings for Cauxis</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#Cauxis">Cauxis</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #18,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cauxos">5.16.3 Cauxos</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character auxiliary output status« - Check the ouput status
of the serial port.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 19
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t Cauxos ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cauxos checks the status of GEMDOS handle 2
- normally the serial port aux: - to see whether it is ready to output
characters.
<br>&nbsp;
<br><b>Note:</b> Atari recommends use of the BIOS function
<a href="About_the_BIOS.html#Bcostat">Bcostat</a> for this.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function can return the following results:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Value</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">-1</td>
<td valign="top"> Character can be output
</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top"> Character can not be output

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cauxos">Binding</a> &nbsp; <a href="#Cauxis">Cauxis</a> &nbsp; <a href="About_the_BIOS.html#Bcostat">Bcostat</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cauxos">5.16.3.1 Bindings for Cauxos</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#Cauxos">Cauxos</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #19,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cauxout">5.16.4 Cauxout</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character auxiliary output« - Write a character to the
serial port.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 4
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cauxout ( int16_t c );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cauxout writes the character <i>c</i> to
GEMDOS handle 2 - normally the serial port aux:.
<br>&nbsp;
<br><b>Note:</b> The function works correctly with redirection of
input/output only as of GEMDOS Version 0.15. Atari recommends the use
of the BIOS function <a href="About_the_BIOS.html#Bconout">Bconout</a> instead.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns a negative value in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cauxout">Binding</a> &nbsp; <a href="#Cauxin">Cauxin</a> &nbsp; <a href="About_the_BIOS.html#Bconout">Bconout</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cauxout">5.16.4.1 Bindings for Cauxout</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cauxout">Cauxout</a> ( int16_t c );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    c,-(sp)      ; Offset 2
move.w    #4,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #4,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cconin">5.16.5 Cconin</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character console input« - Read a character from the
standard input device.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 1
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cconin ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cconin reads a character from GEMDOS handle
0 - normally the standard input device con: (the keyboard as a rule),
waiting until one is available.
<br>&nbsp;
<br><b>Note:</b> By setting bit 3 of the system variable
<i><a href="bios_sysvars.html#conterm">conterm</a></i> one can have the value of <a href="About_the_BIOS.html#Kbshift">Kbshift</a> returned in bits
24..31. Unfortunately there is no way to recognise input/output
redirection or end-of-file. That is why many libraries define the key
combination Control-Z (ASCII-code 26) as the character for
end-of-file.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns a LONG with the ASCII-code of the
character in the lower WORD (bits 0 .. 7). If the read character
originates from the keyboard, then the lower 8 bits of the higher WORD
(bits 16 .. 23) contain the scancode of the keyboard, with Shift-key
status in the upper 8 bits as mentioned above. Note that if a
non-ASCII key is pressed, the ASCII-code returned will be 0.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cconin">Binding</a> &nbsp; <a href="#Cconout">Cconout</a> &nbsp; <a href="#Cconis">Cconis</a> &nbsp; <a href="About_the_BIOS.html#Kbshift">Kbshift</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cconin">5.16.5.1 Bindings for Cconin</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cconin">Cconin</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #1,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cconis">5.16.6 Cconis</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character console is waiting« - Check whether a character is
waiting in the standard input buffer.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 11
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cconis ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cconis checks whether a character is waiting
to be read in GEMDOS handle 0 - normally the standard input buffer of
con:.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function can return the following results:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Value</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">-1L</td>
<td valign="top"> Character available
</td></tr>

<tr><td nowrap="nowrap" valign="top">0L</td>
<td valign="top"> Character not available

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cconis">Binding</a> &nbsp; <a href="#Cconin">Cconin</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cconis">5.16.6.1 Bindings for Cconis</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cconis">Cconis</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #11,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cconos">5.16.7 Cconos</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character console output status« - Check status of standard
output device.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 16
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t Cconos ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cconos checks whether a character may be
output to GEMDOS handle 1 - normally the standard output device con:.
<br>&nbsp;
<br><b>Note:</b> The function works correctly with redirection of
input/output only as of GEMDOS Version 0.15.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the status of the standard output device,
as follows:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Value</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top"> Character can not be output
</td></tr>

<tr><td nowrap="nowrap" valign="top">1</td>
<td valign="top"> At least one character can be output

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cconos">Binding</a> &nbsp; <a href="#Cconout">Cconout</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cconos">5.16.7.1 Bindings for Cconos</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#Cconos">Cconos</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #16,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cconout">5.16.8 Cconout</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character console output« - Write one character to the
standard output device.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 2
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cconout ( int16_t c );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cconout writes the character <i>c</i> to
GEMDOS handle 1 - normally the standard output device con: - as a rule
the screen.
<br>&nbsp;
<br><b>Note:</b> The character <i>c</i> contain the associated
ASCII-code in bits 0..7 (all other bits have to be 0). No line-feed
translation is done at the output, so ASCII 13 and ACII 10 must be
sent to start a new line. The function works correctly with
redirection of the input/output only as of GEMDOS Version 0.15; with
earlier versions, do not redirect this handle to a write-only device
since the call tries to read from the output stream to process the
'special' keys.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The return value of the function depends on the operating
system. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Operating system</td>
<td valign="top"> Value
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="tos_main.html">TOS</a></td>
<td valign="top"> No sensible return value
</td></tr>

<tr><td nowrap="nowrap" valign="top">MagiC &lt; 3.00</td>
<td valign="top">
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&lt; 0</td>
<td valign="top"> = Error
</td></tr>

<tr><td nowrap="nowrap" valign="top">0L</td>
<td valign="top"> = Output device is full
</td></tr>

<tr><td nowrap="nowrap" valign="top">1L</td>
<td valign="top"> = Output was successful

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">MiNT/MagiC &gt; 3.00</td>
<td valign="top">
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&lt; 0</td>
<td valign="top"> = Error
</td></tr>

<tr><td nowrap="nowrap" valign="top">0L</td>
<td valign="top"> = Output device is full
</td></tr>

<tr><td nowrap="nowrap" valign="top">1L</td>
<td valign="top"> = Output was successful
</td></tr>

<tr><td nowrap="nowrap" valign="top">4L</td>
<td valign="top"> = Output to the terminal was successful

</td></tr>
</table>


</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cconout">Binding</a><a href="#Cconin">Cconin</a> &nbsp; <a href="#Cconos">Cconos</a> &nbsp; VT52 terminal
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cconout">5.16.8.1 Bindings for Cconout</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cconout">Cconout</a> ( int16_t c );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    c,-(sp)      ; Offset 2
move.w    #2,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #4,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cconrs">5.16.9 Cconrs</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character console read string« - Read a string from the
standard input.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 10
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cconrs ( <a href="gemdos_structures.html#LINE">LINE</a> *buf );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cconrs reads a string from the standard
input stream (GEMDOS handle 0) - normally the keyboard - and echoes it
to the standard output stream (GEMDOS handle 1) - normally the screen.
<br>&nbsp;
<br>To do this one writes in the component <i>maxlen</i> of <a href="gemdos_structures.html#LINE">LINE</a>
the number of bytes to be read in - 1. The input will be terminated by
the function when the Return key is pressed or the maximum input
length has been exceeded.
<br>&nbsp;
<br>'Special' key combinations cause various actions. In detail:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Input</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return</td>
<td valign="top"> End of input; don't place Return in buffer
</td></tr>

<tr><td nowrap="nowrap" valign="top">Control-J</td>
<td valign="top"> End of line; don't place Ctrl-J in buffer
</td></tr>

<tr><td nowrap="nowrap" valign="top">Control-H</td>
<td valign="top"> Kill last character (= Delete)
</td></tr>

<tr><td nowrap="nowrap" valign="top">Backspace</td>
<td valign="top"> Delete last character
</td></tr>

<tr><td nowrap="nowrap" valign="top">Control-U/X</td>
<td valign="top"> Delete whole line and start over
</td></tr>

<tr><td nowrap="nowrap" valign="top">Control-R</td>
<td valign="top"> Echo input line and start over
</td></tr>

<tr><td nowrap="nowrap" valign="top">Control-C</td>
<td valign="top"> Terminate program (!)

</td></tr>
</table>

<br><b>Note:</b> Umlauts are handled correctly by the function only
as of GEMDOS Version 0.15. On earlier versions a possible end-of-file
will not be recognised, and read characters will be output to the
screen even if the standard output has been redirected.
<br>&nbsp;
<br><b>In <a href="magic.html">MagiC</a> the function has been greatly extended; here the
following apply:</b>
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Input</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Cursor up/down</td>
<td valign="top"> Get back last input
</td></tr>

<tr><td nowrap="nowrap" valign="top">Cursor left/right</td>
<td valign="top"> Move cursor by one character L/R
</td></tr>

<tr><td nowrap="nowrap" valign="top">ditto with Shift</td>
<td valign="top"> Cursor to start/end of line
</td></tr>

<tr><td nowrap="nowrap" valign="top">ClrHome</td>
<td valign="top"> Cursor to start of line
</td></tr>

<tr><td nowrap="nowrap" valign="top">Insert</td>
<td valign="top"> Insert mode
</td></tr>

<tr><td nowrap="nowrap" valign="top">Shift-Insert</td>
<td valign="top"> Overwrite mode
</td></tr>

<tr><td nowrap="nowrap" valign="top">Shift-Clear</td>
<td valign="top"> Delete input
</td></tr>

<tr><td nowrap="nowrap" valign="top">Tabulator</td>
<td valign="top"> Alternate line-start/-end
</td></tr>

<tr><td nowrap="nowrap" valign="top">Undo</td>
<td valign="top"> Undo last input
</td></tr>

<tr><td nowrap="nowrap" valign="top">Delete/Backspace</td>
<td valign="top"> Delete char. under/before cursor
</td></tr>

<tr><td nowrap="nowrap" valign="top">F1..F10</td>
<td valign="top"> Call environmental variables F1..F10

</td></tr>
</table>

<br>With normal files MagiC will read up to the first LF, while CR
is skipped. The environmental variables can be assigned with any
desired command interpreter (e.g. the <i>Mupfel</i>).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the value 0L on successful conclusion, or
a negative number in case of error.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cconrs">Binding</a> &nbsp; <a href="#Cconws">Cconws</a> &nbsp; <a href="magic.html">MagiC</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cconrs">5.16.9.1 Bindings for Cconrs</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cconrs">Cconrs</a> ( <a href="gemdos_structures.html#LINE">LINE</a> *buf );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>pea       buf          ; Offset 2
move.w    #10,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #6,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cconws">5.16.10 Cconws</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character console write string« - Write a string to the
standard output device.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 9
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cconws ( CONST BYTE *buf );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cconws writes the string <i>buf</i> to
GEMDOS handle 1 - normally the standard output device con:. The string
must be NULL-terminated (with the ASCII character 0). With GEMDOS
versions below 0.15, do not redirect this handle to a write-only
device since the call tries to read from the output stream to process
the 'special' keys.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> Under TOS 1.04 the function returns the value 0L on
successful execution, or the value -1L in case of error.
<br>Since <a href="magic.html">MagiC</a> 3.00 is there no return value respectively is it the
value form <a href="gemdos_file.html#Fwrite">Fwrite</a>.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cconws">Binding</a> &nbsp; <a href="#Cconrs">Cconrs</a> &nbsp; <a href="VT_52_terminal.html">VT-52 terminal</a> &nbsp; <a href="ascii.html">ASCII table</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cconws">5.16.10.1 Bindings for Cconws</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cconws">Cconws</a> ( CONST BYTE *buf );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>pea       buf          ; Offset 2
move.w    #9,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #6,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cnecin">5.16.11 Cnecin</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character no echo input« - Read character from the standard
input device without displaying it on-screen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 8
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cnecin ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cnecin reads a character from GEMDOS handle
0 - normally the standard input device con: (the keyboard as a rule),
without outputting it to the standard output device (normally the
screen).
<br>&nbsp;
<br><b>Note:</b> Flow control can be achieved with the key
combinations Control-S (stop output) or Control-Q (continue output).
With GEMDOS versions prior to 0.30, if the function's handle is
redirected an end-of-file condition will cause the system to hang.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns a LONG with the ASCII-code of the
character in the lower WORD (bits 0 .. 7). If the read character
originates from the keyboard, then the lower 8 bits of the higher WORD
(bits 16 .. 23) will contain the scancode of the keyboard, with
Shift-key status in the upper 8 bits provided bit 3 of the system
variable <i><a href="bios_sysvars.html#conterm">conterm</a></i> is set. Note that if a non-ASCII key is
pressed, the ASCII-code returned will be 0.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cnecin">Binding</a> &nbsp; <a href="#Cconin">Cconin</a> &nbsp; <a href="#Crawcin">Crawcin</a> &nbsp; <a href="#Crawio">Crawio</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cnecin">5.16.11.1 Bindings for Cnecin</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cnecin">Cnecin</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #8,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cprnos">5.16.12 Cprnos</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character printer output status« - Check the status of the
printer port.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 17
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t Cprnos ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cprnos checks whether handle 3 - normally
the parallel port prn: - is ready to accept characters.
<br>&nbsp;
<br><b>Note:</b> It is strongly recommended to use this function
before starting a printout, since it takes around 30 seconds to
recognize a printer timeout if the printer is not ready (perhaps not
switched on?).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function can return the following results:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Value</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">-1</td>
<td valign="top"> Printer is ready
</td></tr>

<tr><td nowrap="nowrap" valign="top">0</td>
<td valign="top"> Printer is not ready

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cprnos">Binding</a> &nbsp; <a href="#Cconos">Cconos</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cprnos">5.16.12.1 Bindings for Cprnos</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#Cprnos">Cprnos</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #17,-(sp)    ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Cprnout">5.16.13 Cprnout</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character printer output« - Write a character to the printer
port.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 5
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Cprnout ( int16_t c );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Cprnout writes the character <i>c</i> to
GEMDOS handle 3 - normally the printer port prn:.
<br>&nbsp;
<br><i>c</i> is a WORD value, with the character to be output
occupying bits 0..7; all other bits must be 0.
<br>&nbsp;
<br><b>Note:</b> Before print output one should check with <a href="#Cprnos">Cprnos</a>
whether the printer is ready. Settings made with the aid of the <a href="xbios_printer.html#Setprt">Setprt</a>
function are <i>ignored</i> for printing by almost all TOS
versions. With redirection of input/output, the function works
correctly only as of GEMDOS Version 0.15.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns 0 in case of error, else non-zero if it
wrote the character to the printer successfully.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Cprnout">Binding</a> &nbsp; <a href="#Cprnos">Cprnos</a> &nbsp; <a href="xbios_printer.html#Setprt">Setprt</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Cprnout">5.16.13.1 Bindings for Cprnout</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Cprnout">Cprnout</a> ( int16_t c );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    c,-(sp)      ; Offset 2
move.w    #5,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #4,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Crawcin">5.16.14 Crawcin</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character raw input« - Read a character unbuffered from
standard input device.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 7
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Crawcin ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Crawcin reads a character from GEMDOS handle
1 - normally the standard input con: (the keyboard) - without echoing
it immediately to the screen or processing any of the 'special' keys.
<br>&nbsp;
<br><b>Note:</b> The function works correctly with input/output
redirection only as of GEMDOS Version 0.15.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns a LONG with the ASCII-code of the
character in the lower WORD (bits 0 .. 7). If the read character
originates from the keyboard, then the lower 8 bits of the higher WORD
(bits 16 .. 23) will contain the scancode of the keyboard, with
Shift-key status in the upper 8 bits provided bit 3 of the system
variable <i><a href="bios_sysvars.html#conterm">conterm</a></i> is set. Note that if a non-ASCII key is
pressed, the ASCII-code returned will be 0.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Crawcin">Binding</a> &nbsp; <a href="#Cconin">Cconin</a> &nbsp; <a href="#Cconout">Cconout</a> &nbsp; <a href="#Crawio">Crawio</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Crawcin">5.16.14.1 Bindings for Crawcin</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Crawcin">Crawcin</a> ( void );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    #7,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #2,sp        ; Correct stack
</pre>

</td></tr>
</table>

<h3><a name="Crawio">5.16.15 Crawio</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Character raw input output« - Permit unbuffered
input/output.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 6
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int32_t Crawio ( int16_t w );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The GEMDOS routine Crawio combines unbuffered console input and
output in one function. The following applies for the parameter
<i>w</i>, of which only the lower 8 bits are significant (others
should be 0):
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Value</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">0xff</td>
<td valign="top"> Read character from standard input
</td></tr>

<tr><td nowrap="nowrap" valign="top">else</td>
<td valign="top"> Output character to standard output

</td></tr>
</table>

<br><b>Note:</b> The function works correctly with input/output
redirection only as of GEMDOS Version 0.15.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> If the parameter <i>w</i> has the value 0xff, the function
returns a bit-array LONG with the ASCII-code of the character in the
lower WORD (bits 0 .. 7). If the read character originates from the
keyboard, then the lower 8 bits of the higher WORD (bits 16 .. 23)
will contain the scancode of the keyboard, with Shift-key status in
the upper 8 bits provided bit 3 of the system variable <i><a href="bios_sysvars.html#conterm">conterm</a></i>
is set. Note that if a non-ASCII key is pressed, the ASCII-code
returned will be 0. A return value of 0 means that no character is
available.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All GEMDOS versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Character_20input_2Foutput">Character input/output</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20Crawio">Binding</a> &nbsp; <a href="#Cconin">Cconin</a> &nbsp; <a href="#Cconout">Cconout</a> &nbsp; <a href="VT_52_terminal.html">VT-52 terminal</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20Crawio">5.16.15.1 Bindings for Crawio</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int32_t <a href="#Crawio">Crawio</a> ( int16_t w );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Assembler:</td>
<td valign="top">
<br>&nbsp;
<pre>move.w    w,-(sp)      ; Offset 2
move.w    #6,-(sp)     ; Offset 0
trap      #1           ; <a href="gemdos_main.html">GEMDOS</a>
addq.l    #4,sp        ; Correct stack
</pre>

</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="gemdos_main.html"><img src="udo_up.gif" alt="GEMDOS" title="GEMDOS" border="0" width="24" height="24">GEMDOS</a>
<a name="UDO_nav_lf_FOOT" href="gemdos_directory.html"><img src="udo_lf.gif" alt="Directory functions" title="Directory functions" border="0" width="24" height="24">Directory functions</a>
<a name="UDO_nav_rg_FOOT" href="gemdos_mintnet.html"><img src="udo_rg.gif" alt="Network" title="Network" border="0" width="24" height="24">Network</a>
</body>
</html>
