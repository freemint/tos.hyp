<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/08/02 -->
<html lang="en">
<head>
<title>
The documentation for TOS: Graphics library
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_HEAD" href="geneva_function.html"><img src="udo_lf.gif" alt="Geneva library" title="Geneva library" border="0" width="24" height="24">Geneva library</a>
<a name="UDO_nav_rg_HEAD" href="scrp.html"><img src="udo_rg.gif" alt="Scrap library" title="Scrap library" border="0" width="24" height="24">Scrap library</a>

<hr>

<h1><a name="Graphics_20library">8.13 Graphics library</a></h1>
<p>This library takes on the management of rectangles; so one can
draw a rectangle that moves automatically with the mouse pointer, say.
In all, the following functions are available:
</p>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_dragbox">graf_dragbox</a></td>
<td valign="top"> Moves a rectangular outline frame
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_growbox">graf_growbox</a></td>
<td valign="top"> Animates a growing rectangle
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_handle">graf_handle</a></td>
<td valign="top"> Obtains ID of the AES workstation
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="graf.html#graf_mbox">graf_mbox</a></td>
<td valign="top"> Displays moving rectangle
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_mkstate">graf_mkstate</a></td>
<td valign="top"> Obtains state of mouse pointer and keyboard
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_mouse">graf_mouse</a></td>
<td valign="top"> Alters appearance of mouse pointer
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_multirubber">graf_multirubber</a></td>
<td valign="top"> Displays two 'rubber band' outline rectangles
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="graf.html#graf_rubberbox">graf_rubbox</a></td>
<td valign="top"> Display 'rubber band' outline rectangle
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_shrinkbox">graf_shrinkbox</a></td>
<td valign="top"> Animates a shrinking rectangle
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_slidebox">graf_slidebox</a></td>
<td valign="top"> Obtains slider position
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_watchbox">graf_watchbox</a></td>
<td valign="top"> Selects an object and supervises mouse movements referring to
this object
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_wwatchbox">graf_wwatchbox</a></td>
<td valign="top"> Selects an object in a window and supervises mouse movements
referring to this object.
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#graf_xhandle">graf_xhandle</a></td>
<td valign="top"> Obtains ID of the AES workstation
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#x_graf_blit">x_graf_blit</a></td>
<td valign="top"> Blit one area of the screen to another location
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#x_graf_rast2rez">x_graf_rast2rez</a></td>
<td valign="top"> Convert a bit image
</td></tr>

<tr><td nowrap="nowrap" valign="top">&#x2022; <a href="#x_graf_rubberbox">x_graf_rubberbox</a></td>
<td valign="top"> Extended rubberband box drawing

</td></tr>
</table>

<p><b>Note:</b> Of these, <a href="#graf_handle">graf_handle</a> has earned special
importance because with its aid the ID of the <i>physical</i> screen
workstation can be obtained.
</p>
<p>See also: <a href="guidelines_styles.html">Style guidelines</a>
</p>
<h3><a name="graf_dragbox">8.13.1 graf_dragbox</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics drag box« - Move a rectangular outline frame with
the mouse.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 71
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_dragbox ( int16_t gr_dwidth, int16_t gr_dheight,
int16_t gr_dstartx, int16_t gr_dstarty, int16_t gr_dboundx, int16_t
gr_dboundy, int16_t gr_dboundw, int16_t gr_dboundh, int16_t
*gr_dfinishx, int16_t *gr_dfinishy );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_dragbox allows the movement a small, rectangular
outline frame within a larger bounding rectangle. Its most frequent
use is to give the user a visual clue when an object is being dragged
on the screen. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dwidth</td>
<td valign="top"> Initial width,
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dheight</td>
<td valign="top"> Height,
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dstartx</td>
<td valign="top"> X-coordinate, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dstarty</td>
<td valign="top"> Y-coordinate of the frame to be moved
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dboundx</td>
<td valign="top"> X-coordinate,
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dboundy</td>
<td valign="top"> Y-coordinate,
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dboundw</td>
<td valign="top"> Width, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dboundh</td>
<td valign="top"> Height of the bounding rectangle
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dfinishx</td>
<td valign="top"> X-coordinate, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_dfinishy</td>
<td valign="top"> Y-coordinate of the frame destination when the mouse button is
released

</td></tr>
</table>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_dragbox">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_dragbox">8.13.1.1 Bindings for graf_dragbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_dragbox">graf_dragbox</a> ( int16_t gr_dwidth, int16_t gr_dheight,
int16_t gr_dstartx, int16_t gr_dstarty, int16_t gr_dboundx, int16_t
gr_dboundy, int16_t gr_dboundw, int16_t gr_dboundh, int16_t
*gr_dfinishx, int16_t *gr_dfinishy );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_dragbox">graf_dragbox</a> (int16_t gr_dwidth, int16_t gr_dheight,
                      int16_t gr_dstartx, int16_t gr_dstarty,
                      int16_t gr_dboundx, int16_t gr_dboundy,
                      int16_t gr_dboundw, int16_t gr_dboundh,
                      int16_t *gr_dfinishx,
                      int16_t *gr_dfinishy)
{
   int_in[0] = gr_dwidth;
   int_in[1] = gr_dheight;
   int_in[2] = gr_dstartx;
   int_in[3] = gr_dstarty;
   int_in[4] = gr_dboundx;
   int_in[5] = gr_dboundy;
   int_in[6] = gr_dboundw;
   int_in[7] = gr_dboundh;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (71);

   *gr_dfinishx = int_out[1];
   *gr_dfinishy = int_out[2];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">71    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">8     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">3     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_dwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_dheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_dstartx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">gr_dstarty</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+8</td>
  <td align="left" valign="top">int_in[4]</td>
  <td align="left" valign="top">gr_dboundx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+10</td>
  <td align="left" valign="top">int_in[5]</td>
  <td align="left" valign="top">gr_dboundy</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+12</td>
  <td align="left" valign="top">int_in[6]</td>
  <td align="left" valign="top">gr_dboundw</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+14</td>
  <td align="left" valign="top">int_in[7]</td>
  <td align="left" valign="top">gr_dboundh</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">gr_dfinishx</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">gr_dfinishy</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_growbox">8.13.2 graf_growbox</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics grow box« - Draw an animated, growing rectangle.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 73
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_growbox ( int16_t gr_gstx, int16_t gr_gsty,
int16_t gr_gstwidth, int16_t gr_gstheight, int16_t gr_gfinx, int16_t
gr_gfiny, int16_t gr_gfinwidth, int16_t gr_gfinheight );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_growbox draws an animated rectangular outline box
growing from one set of coordinates to another (complement to
<a href="#graf_shrinkbox">graf_shrinkbox</a>). The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gstx</i></td>
  <td align="left" valign="top">X-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gsty</i></td>
  <td align="left" valign="top">Y-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gstwidth</i></td>
  <td align="left" valign="top">Width, <u>and</u></td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gstheight</i></td>
  <td align="left" valign="top">Height of the outline box at start</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gfinx</i></td>
  <td align="left" valign="top">X-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gfiny</i></td>
  <td align="left" valign="top">Y-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gfinwidth</i></td>
  <td align="left" valign="top">Width, <u>and</u></td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_gfinheight</i></td>
  <td align="left" valign="top">Height of the outline box at end</td>
</tr>
</table>
</div>

<br><b>Note:</b> As of PC-GEM Version 2.0, this call is ignored.
The reason given for this is the legal dispute between <i>Apple</i>
and <i>Digital Research.</i>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_growbox">Binding</a> &nbsp; <a href="form.html#form_dial">form_dial</a> &nbsp; <a href="#graf_shrinkbox">graf_shrinkbox</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_growbox">8.13.2.1 Bindings for graf_growbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_growbox">graf_growbox</a> ( int16_t gr_gstx, int16_t gr_gsty,
int16_t gr_gstwidth, int16_t gr_gstheight, int16_t gr_gfinx, int16_t
gr_gfiny, int16_t gr_gfinwidth, int16_t gr_gfinheight );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_growbox">graf_growbox</a> (int16_t gr_gstx, int16_t gr_gsty,
                      int16_t gr_gstwidth,
                      int16_t gr_gstheight, int16_t gr_gfinx,
                      int16_t gr_gfiny, int16_t gr_gfinwidth,
                      int16_t gr_gfinheight)
{
   int_in[0] = gr_gstx;
   int_in[1] = gr_gsty;
   int_in[2] = gr_gstwidth;
   int_in[3] = gr_gstheight;
   int_in[4] = gr_gfinx;
   int_in[5] = gr_gfiny;
   int_in[6] = gr_gfinwidth;
   int_in[7] = gr_gfinheight;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(73) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">73    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">8     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_gstx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_gsty</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_gstwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">gr_gstheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+8</td>
  <td align="left" valign="top">int_in[4]</td>
  <td align="left" valign="top">gr_gfinx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+10</td>
  <td align="left" valign="top">int_in[5]</td>
  <td align="left" valign="top">gr_gfiny</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+12</td>
  <td align="left" valign="top">int_in[6]</td>
  <td align="left" valign="top">gr_gfinwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+14</td>
  <td align="left" valign="top">int_in[7]</td>
  <td align="left" valign="top">gr_gfinheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_handle">8.13.3 graf_handle</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics handle« - Obtain the VDI handle of the AES
workstation.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 77
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_handle ( int16_t *gr_hwchar, int16_t *gr_hhchar,
int16_t *gr_hwbox, int16_t *gr_hhbox );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_handle obtains the ID of the physical screen
workstation on which the AES outputs, as well as some further
information which will be filled in the following parameters when the
function exits:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hwchar</td>
<td valign="top"> Width, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hhchar</td>
<td valign="top"> Height of a character from the system font, in points
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hwbox</td>
<td valign="top"> Width, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hhbox</td>
<td valign="top"> Height of a cell into which any character from the system font
will fit completely

</td></tr>
</table>

<br><b>Note:</b> The information from the parameters
<i>gr_hwbox</i> or <i>gr_hhbox</i> is used be the AES for the
width of the individual window components.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the ID (handle) of the opened AES
workstation.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_handle">Binding</a> &nbsp; <a href="vdi_control.html#v_opnvwk">v_opnvwk</a> &nbsp; <a href="#graf_xhandle">graf_xhandle</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_handle">8.13.3.1 Bindings for graf_handle</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_handle">graf_handle</a> ( int16_t *gr_hwchar, int16_t *gr_hhchar,
int16_t *gr_hwbox, int16_t *gr_hhbox );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_handle">graf_handle</a> (int16_t *gr_hwchar, int16_t *gr_hhchar,
                     int16_t *gr_hwbox, int16_t *gr_hhbox)
{
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (77);

   *gr_hwchar = int_out[1];
   *gr_hhchar = int_out[2];
   *gr_hwbox  = int_out[3];
   *gr_hhbox  = int_out[4];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">77    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">5     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">gr_hwchar</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">gr_hhchar</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+6</td>
  <td align="left" valign="top">int_out[3]</td>
  <td align="left" valign="top">gr_hwbox</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+8</td>
  <td align="left" valign="top">int_out[4]</td>
  <td align="left" valign="top">gr_hhbox</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_mbox_2Fgraf_movebox">8.13.4 graf_mbox/graf_movebox</a></h3>
<a name="graf_mbox"></a>
<a name="graf_movebox"></a>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics move box« - Move a rectangle with the mouse.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 72
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_movebox ( int16_t gr_mwidth, int16_t gr_mheight,
int16_t gr_msourcex, int16_t gr_msourcey, int16_t gr_mdestx, int16_t
gr_mdesty );
<br>&nbsp;
<br><i>or</i>
<br>&nbsp;
<br>int16_t graf_mbox( ... )
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_movebox draws a rectangle of constant size that
moves with the mouse pointer, and is used to give the user a visual
'clue' to an action undertaken by an application. The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_mwidth</i></td>
  <td align="left" valign="top">Width, <u>and</u></td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_mheight</i></td>
  <td align="left" valign="top">Height of the rectangle</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_msourcex</i></td>
  <td align="left" valign="top">X-coordinate, <u>and</u></td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_msourcey</i></td>
  <td align="left" valign="top">Y-coordinate of top left corner at start</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_mdestx</i></td>
  <td align="left" valign="top">X-coordinate, <u>and</u></td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_mdesty</i></td>
  <td align="left" valign="top">Y-coordinate of top left corner at end</td>
</tr>
</table>
</div>

<br><b>Note:</b> The function can be used, for instance, when the
movement of an icon is not permitted (e.g. dragging the printer icon
onto the wastebasket icon) and so it is to be placed back at its
original position.
<br>&nbsp;
<br>In older GEM documentation this function is also called
'graf_mbox'!
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_mbox">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_mbox">8.13.4.1 Bindings for graf_mbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="graf.html#graf_mbox">graf_mbox</a> ( int16_t gr_mwidth, int16_t gr_mheight,
int16_t gr_msourcex, int16_t gr_msourcey, int16_t gr_mdestx, int16_t
gr_mdesty );
<br>&nbsp;
<br>oder
<br>&nbsp;
<br>int16_t <a href="graf.html#graf_movebox">graf_movebox</a> ( ... )
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="graf.html#graf_mbox">graf_mbox</a> (int16_t gr_mwidth, int16_t gr_mheight,
                   int16_t gr_msourcex, int16_t gr_msourcey,
                   int16_t gr_mdestx, int16_t gr_mdesty)
{
   int_in[0] = gr_mwidth;
   int_in[1] = gr_mheight;
   int_in[2] = gr_msourcex;
   int_in[3] = gr_msourcey;
   int_in[4] = gr_mdestx;
   int_in[5] = gr_medsty;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(72) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">72    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">6     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_mwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_mheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_msourcex</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">gr_msourcey</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+8</td>
  <td align="left" valign="top">int_in[4]</td>
  <td align="left" valign="top">gr_mdestx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+10</td>
  <td align="left" valign="top">int_in[5]</td>
  <td align="left" valign="top">gr_mdesty</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_mkstate">8.13.5 graf_mkstate</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics mouse and keyboard status« - Obtain the state of
the mouse and keyboard.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 79
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_mkstate ( int16_t *gr_mkmx, int16_t *gr_mkmy,
int16_t *gr_mkmstate, int16_t *gr_mkkstate );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_mkstate obtains the current mouse position as
well as the state of the mouse buttons and the so-called 'special'
keys ([Shift], [Control], [Alternate]). The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_mkmx</td>
<td valign="top"> X-position, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_mkmy</td>
<td valign="top"> Y-position of the mouse pointer
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_mkmstate</td>
<td valign="top"> State of mouse buttons (Bit 0 = left button, etc.)
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_mkkstate</td>
<td valign="top"> 'Special' keys of keyboard as bit-vector:
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0x0001</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Right [Shift] key</td>
</tr>
<tr>
  <td align="left" valign="top">0x0002</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Left [Shift] key</td>
</tr>
<tr>
  <td align="left" valign="top">0x0004</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">[Control] key</td>
</tr>
<tr>
  <td align="left" valign="top">0x0008</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">[Alternate] key</td>
</tr>
</table>
</div>


</td></tr>
</table>

<br><b>Note:</b> A bit is set when the corresponding mouse button
or key is pressed down.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> This is always a 1.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_mkstate">Binding</a> &nbsp; <a href="evnt.html#evnt_button">evnt_button</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_mkstate">8.13.5.1 Bindings for graf_mkstate</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_mkstate">graf_mkstate</a> ( int16_t *gr_mkmx, int16_t *gr_mkmy,
int16_t *gr_mkmstate, int16_t *gr_mkkstate );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_mkstate">graf_mkstate</a> (int16_t *gr_mkmx, int16_t *gr_mkmy,
                      int16_t *gr_mkmstate,
                      int16_t *gr_mkkstate)
{
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (79);

   *gr_mkmx     = int_out[1];
   *gr_mkmy     = int_out[2];
   *gr_mkmstate = int_out[3];
   *gr_mkkstate = int_out[4];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">79    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">5     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">gr_mkmx</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">gr_mkmy</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+6</td>
  <td align="left" valign="top">int_out[3]</td>
  <td align="left" valign="top">gr_mkmstate</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+8</td>
  <td align="left" valign="top">int_out[4]</td>
  <td align="left" valign="top">gr_mkkstate</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_mouse">8.13.6 graf_mouse</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics mouse« - Change the appearance of the mouse
pointer.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 78
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_mouse ( int16_t gr_monumber, <a href="aes_structures.html#MFORM">MFORM</a> *gr_mofaddr );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_mouse permits changing the appearance of the
mouse pointer. The following apply for the parameter
<i>gr_monumber</i>:
<br>&nbsp;
<a name="ARROW"></a>
<a name="TEXT_CRSR"></a>
<a name="HOURGLASS"></a>
<a name="BUSY_BEE"></a>
<a name="BUSYBEE"></a>
<a name="POINT_HAND"></a>
<a name="FLAT_HAND"></a>
<a name="THIN_CROSS"></a>
<a name="THICK_CROSS"></a>
<a name="OUTLN_CROSS"></a>
<a name="X_LFTRT"></a>
<a name="X_UPDOWN"></a>
<a name="USER_DEF"></a>
<a name="M_OFF"></a>
<a name="M_ON"></a>
<a name="M_SAVE"></a>
<a name="M_LAST"></a>
<a name="M_PREVIOUS"></a>
<a name="M_RESTORE"></a>
<a name="XACRS_BUBBLE_DISC"></a>
<a name="XACRS_RESIZER"></a>
<a name="XACRS_NE_SIZER"></a>
<a name="XACRS_MOVER"></a>
<a name="XACRS_VERTSIZER"></a>
<a name="XACRS_HORSIZER"></a>
<a name="XACRS_POINTSLIDE"></a>
<a name="X_MGET"></a>
<a name="X_MRESET"></a>
<a name="X_SET_SHAPE"></a>
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="right" valign="top">gr_monumber</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top">ARROW</td>
  <td align="right" valign="top">0</td>
  <td align="left" valign="top">Arrow</td>
</tr>
<tr>
  <td align="left" valign="top">TEXT_CRSR</td>
  <td align="right" valign="top">1</td>
  <td align="left" valign="top">Text cursor</td>
</tr>
<tr>
  <td align="left" valign="top">HOURGLASS</td>
  <td align="right" valign="top">2</td>
  <td align="left" valign="top">Hourglass, bee</td>
</tr>
<tr>
  <td align="left" valign="top">BUSY_BEE</td>
  <td align="right" valign="top">2</td>
  <td align="left" valign="top">See HOURGLASS</td>
</tr>
<tr>
  <td align="left" valign="top">BUSYBEE</td>
  <td align="right" valign="top">2</td>
  <td align="left" valign="top">See HOURGLASS</td>
</tr>
<tr>
  <td align="left" valign="top">POINT_HAND</td>
  <td align="right" valign="top">3</td>
  <td align="left" valign="top">Pointing hand</td>
</tr>
<tr>
  <td align="left" valign="top">FLAT_HAND</td>
  <td align="right" valign="top">4</td>
  <td align="left" valign="top">Flat hand</td>
</tr>
<tr>
  <td align="left" valign="top">THIN_CROSS</td>
  <td align="right" valign="top">5</td>
  <td align="left" valign="top">Thin crosshairs</td>
</tr>
<tr>
  <td align="left" valign="top">THICK_CROSS</td>
  <td align="right" valign="top">6</td>
  <td align="left" valign="top">Thick crosshairs</td>
</tr>
<tr>
  <td align="left" valign="top">OUTLN_CROSS</td>
  <td align="right" valign="top">7</td>
  <td align="left" valign="top">Outlined crosshairs</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="right" valign="top">8</td>
  <td align="left" valign="top">Sizer (N.AES)</td>
</tr>
<tr>
  <td align="left" valign="top">X_LFTRT</td>
  <td align="right" valign="top">8</td>
  <td align="left" valign="top">Left-right arrow (Geneva)</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="right" valign="top">9</td>
  <td align="left" valign="top">Horizontal arrows (N.AES)</td>
</tr>
<tr>
  <td align="left" valign="top">X_UPDOWN</td>
  <td align="right" valign="top">9</td>
  <td align="left" valign="top">Up-down arrow (Geneva)</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="right" valign="top">10</td>
  <td align="left" valign="top">Vertical arrows (N.AES)</td>
</tr>
<tr>
  <td align="left" valign="top">USER_DEF</td>
  <td align="right" valign="top">255</td>
  <td align="left" valign="top">User-defined mouse form</td>
</tr>
<tr>
  <td align="left" valign="top">M_OFF</td>
  <td align="right" valign="top">256</td>
  <td align="left" valign="top">Switch off mouse pointer</td>
</tr>
<tr>
  <td align="left" valign="top">M_ON</td>
  <td align="right" valign="top">257</td>
  <td align="left" valign="top">Switch on mouse pointer</td>
</tr>
<tr>
  <td align="left" valign="top">M_SAVE</td>
  <td align="right" valign="top">258</td>
  <td align="left" valign="top">Save current mouse form</td>
</tr>
<tr>
  <td align="left" valign="top">M_RESTORE</td>
  <td align="right" valign="top">259</td>
  <td align="left" valign="top">Restore last shape</td>
</tr>
<tr>
  <td align="left" valign="top">M_LAST</td>
  <td align="right" valign="top">260</td>
  <td align="left" valign="top">Restore most recently saved form</td>
</tr>
<tr>
  <td align="left" valign="top">M_PREVIOUS</td>
  <td align="right" valign="top">260</td>
  <td align="left" valign="top">See M_LAST</td>
</tr>
<tr>
  <td align="left" valign="top">XACRS_BUBBLE_DISC</td>
  <td align="right" valign="top">270</td>
  <td align="left" valign="top">The Data Uncertain logo (XaAES)</td>
</tr>
<tr>
  <td align="left" valign="top">XACRS_RESIZER</td>
  <td align="right" valign="top">271</td>
  <td align="left" valign="top">The 'resize window' cursors (XaAES)</td>
</tr>
<tr>
  <td align="left" valign="top">XACRS_NE_SIZER</td>
  <td align="right" valign="top">272</td>
  <td align="left" valign="top">(XaAES)</td>
</tr>
<tr>
  <td align="left" valign="top">XACRS_MOVER</td>
  <td align="right" valign="top">273</td>
  <td align="left" valign="top">The 'move window' cursor (XaAES)</td>
</tr>
<tr>
  <td align="left" valign="top">XACRS_VERTSIZER</td>
  <td align="right" valign="top">274</td>
  <td align="left" valign="top">The 'resize vertically' cursor (XaAES)</td>
</tr>
<tr>
  <td align="left" valign="top">XACRS_HORSIZER</td>
  <td align="right" valign="top">275</td>
  <td align="left" valign="top">The 'resize horizontally' cursor (XaAES)</td>
</tr>
<tr>
  <td align="left" valign="top">XACRS_POINTSLIDE</td>
  <td align="right" valign="top">276</td>
  <td align="left" valign="top">The 'two-arrows pointing inwards'</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="right" valign="top">&nbsp;</td>
  <td align="left" valign="top">cursor to pinpoint slider position(XaAES)</td>
</tr>
<tr>
  <td align="left" valign="top">X_MRESET</td>
  <td align="right" valign="top">1000</td>
  <td align="left" valign="top">(Geneva)</td>
</tr>
<tr>
  <td align="left" valign="top">X_MGET</td>
  <td align="right" valign="top">1001</td>
  <td align="left" valign="top">(Geneva)</td>
</tr>
<tr>
  <td align="left" valign="top">X_SET_SHAPE</td>
  <td align="right" valign="top">1100</td>
  <td align="left" valign="top">(Geneva)</td>
</tr>
</table>
</div>

<br>If <i>gr_monumber</i> = USER_DEF, then <i>gr_mofaddr</i> is a
pointer to the <a href="aes_structures.html#MFORM">MFORM</a> structure that sets the appearance of the mouse
pointer.
<br>&nbsp;
<br><b>Note:</b> One should ensure that outside of the working area
of one's own window, the mouse pointer takes the form of an arrow or
hourglass.
<br>&nbsp;
<br>In the event that the application must change the mouse form,
set the highest bit (bit 15) of <i>gr_monumber</i> to 1 and OR it
with the desired mouse form index. After finishing the work, call
graf_mouse with the value 0 to set the mouse back to an arrow.
<br>&nbsp;
<a name="M_FORCE"></a>
<br>M_FORCE &nbsp; 0x8000
<br>&nbsp;
<br>Whether modes 258-260 are available, or whether the mouse form
is managed locally for each application can be inquired with <a href="appl.html#UDO__25apgi_8">appl_getinfo</a>
(opcode 8).
<br>&nbsp;
<dl class="UDO_env_description">
<dt><b>X_MRESET (1000)</b></dt>
<dd>
<p>
<br>&nbsp;
<br>graf_mouse( X_MRESET, 0L );
<br>&nbsp;
<br>Resets the mouse so that it is 'on' just once, and also updates
graf_mouse's idea of the <i>hide</i> count.
<br>&nbsp;
</p>

</dd>
<dt><b>X_MGET (1001)</b></dt>
<dd>
<p>
<br>&nbsp;
<br>hidecount = graf_mouse( X_MGET, <a href="aes_structures.html#MFORM">MFORM</a> *mouse );
<br>&nbsp;
<br>In this mode, if <i>mouse</i> is non-zero, then the <a href="aes_structures.html#MFORM">MFORM</a> it
points to is filled-in with the shape of the last mouse set with
graf_mouse. 'hidecount' gets the number of times the mouse was hidden
using graf_mouse(M_OFF...). If this number is greater than zero, the
mouse is hidden that number of times. If it is zero, the mouse is
shown once. If it is less than zero, the mouse is 'shown' more than
once.
<br>&nbsp;
</p>

</dd>
<dt><b>X_SET_SHAPE (1100)</b></dt>
<dd>
<p>
<br>&nbsp;
<br>graf_mouse( X_SET_SHAPE+index, <a href="aes_structures.html#ANI_MOUSE">ANI_MOUSE</a> *mouse_form );
<br>&nbsp;
<br>Change the shape of the mouse form whose number is
<i>index.</i> The <a href="aes_structures.html#ANI_MOUSE">ANI_MOUSE</a> structure contains up to 32 mouse shapes
to be animated in a continuous loop while that particular mouse shape
is being displayed.
<br>If the <i>frames</i> portion of the <a href="aes_structures.html#ANI_MOUSE">ANI_MOUSE</a> structure is one,
then no animation is performed. Otherwise, it should be the number of
frames contained in the mouse animation sequence. The <i>delay</i>
value is the number of 50 Hz timer ticks to pause between each frame
in the animation. The <i>form</i> portion of the structure only needs
to be initialized for the number of frames, so if there are only two
frames, this means that only form[0] and form[1] are used. If a NULL
pointer is passed instead of a pointer to an <a href="aes_structures.html#ANI_MOUSE">ANI_MOUSE</a> structure, then
the mouse shape is restored to its default.
<br>It does not matter if the application which sets a new shape
terminates without resetting the mouse shape, as this call allocates
memory internally to hold the new shape data.
<br>&nbsp;
</p>

</dd>
</dl>
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_mouse">Binding</a> &nbsp; <a href="guidelines_styles.html#Mouse_20clicks_20and_20shapes">Mouse clicks and shapes</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_mouse">8.13.6.1 Bindings for graf_mouse</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_mouse">graf_mouse</a> ( int16_t gr_monumber, <a href="aes_structures.html#MFORM">MFORM</a> *gr_mofaddr );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_mouse">graf_mouse</a> (int16_t gr_monumber, <a href="aes_structures.html#MFORM">MFORM</a> *gr_mofaddr)
{
   int_in[0]  = gr_monumber;
   addr_in[0] = gr_mofaddr;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(78) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">78    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">1     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_monumber</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">gr_mofaddr</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_multirubber">8.13.7 graf_multirubber</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics rubberbox« - Draw two 'rubber band' outline
rectangles on the screen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 69
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_multirubber(int16_t x, int16_t y, int16_t minw,
int16_t minh, <a href="GRECT.html">GRECT</a> *rec, int16_t *outw, int16_t *outh)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_multirubber displays a pair of 'rubber bands' in
the form of rectangles on the screen, whose top left corner remains
fixed and bottom right corner can be moved while the left mouse button
is held down. Similar to <a href="graf.html#graf_rubberbox">graf_rubberbox</a>, but with two rectangles. The
following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">x</td>
<td valign="top"> X-coordinate, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">y</td>
<td valign="top"> Y-coordinate of initial corner
</td></tr>

<tr><td nowrap="nowrap" valign="top">minw</td>
<td valign="top"> Minimum width of rubber band box
</td></tr>

<tr><td nowrap="nowrap" valign="top">minh</td>
<td valign="top"> Minimum height of rubber band box
</td></tr>

<tr><td nowrap="nowrap" valign="top">rec</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">outw</td>
<td valign="top"> Width of rubber band box when releasing the mouse button
</td></tr>

<tr><td nowrap="nowrap" valign="top">outh</td>
<td valign="top"> Height of rubber band box when releasing the mouse button

</td></tr>
</table>

<br><b>Note:</b> For the reasons mentioned above, the function
should only be called with an already pressed mouse button, since it
returns when the button is released. It's interesting that the minimum
width and height parameters may also take <i>negative</i> values; the
rubber band may then be stretched from bottom right to top left.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The function is only available under N.AES.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_multirubber">Binding</a> &nbsp; <a href="graf.html#graf_rubberbox">graf_rubberbox</a> &nbsp; <a href="#x_graf_rubberbox">x_graf_rubberbox</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_multirubber">8.13.7.1 Bindings for graf_multirubber</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_multirubber">graf_multirubber</a>(int16_t x, int16_t y, int16_t minw,
int16_t minh, <a href="GRECT.html">GRECT</a> *rec, int16_t *outw, int16_t *outh)
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_multirubber">graf_multirubber</a> (int16_t x, int16_t y, int16_t minw,
                          int16_t minh, <a href="GRECT.html">GRECT</a> *rec,
                          int16_t *outw, int16_t *outh)
{
   int_in[0] = x;
   int_in[1] = y;
   int_in[2] = minw;
   int_in[3] = minh;

   addr_in[0] = rec;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (69);

   *outw = int_out[1];
   *outh = int_out[2];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">69    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">4     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">3     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">x</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">y</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">minw</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">minh</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">rec</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">outw</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">outh</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_rubberbox_2Fgraf_rubbox">8.13.8 graf_rubberbox/graf_rubbox</a></h3>
<a name="graf_rubberbox"></a>
<a name="graf_rubbox"></a>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics rubberbox« - Draw 'rubber band' outline rectangle
on the screen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 70
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_rubberbox ( int16_t gr_rx, int16_t gr_ry, int16_t
gr_minwidth, int16_t gr_minheight, int16_t *gr_rlastwidth, int16_t
*gr_rlastheight );
<br>&nbsp;
<br><i>or</i>
<br>&nbsp;
<br>int16_t graf_rubbox ( ... );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_rubberbox displays a 'rubber band' in the form of
a rectangle on the screen, whose top left corner remains fixed and its
bottom right corner can be moved while the left mouse button is held
down. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_rx</td>
<td valign="top"> X-coordinate, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_ry</td>
<td valign="top"> Y-coordinate of initial corner
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_minwidth</td>
<td valign="top"> Minimum width of rubber band box
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_minheight</td>
<td valign="top"> Minimum height of rubber band box
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_rlastwidth</td>
<td valign="top"> Width, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_rlastheight</td>
<td valign="top"> Height of rubber band box when releasing the mouse button

</td></tr>
</table>

<br><b>Note:</b> For the reasons mentioned above, the function
should only be called with an already pressed mouse button, since it
returns when the button is released. It's interesting that the minimum
width and height parameters may also take <i>negative</i> values; the
rubber band may then be stretched from bottom right to top left.
<br>&nbsp;
<br>In older GEM documentation this function is also called
'graf_rubbox'!
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_rubberbox">Binding</a> &nbsp; <a href="#graf_multirubber">graf_multirubber</a> &nbsp; <a href="#x_graf_rubberbox">x_graf_rubberbox</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_rubberbox">8.13.8.1 Bindings for graf_rubberbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="graf.html#graf_rubberbox">graf_rubberbox</a> ( int16_t gr_rx, int16_t gr_ry, int16_t
gr_minwidth, int16_t gr_minheight, int16_t *gr_rlastwidth, int16_t
*gr_rlastheight );
<br>&nbsp;
<br><i>or</i>
<br>&nbsp;
<br>int16_t <a href="graf.html#graf_rubbox">graf_rubbox</a> ( ... )
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="graf.html#graf_rubbox">graf_rubbox</a> (int16_t gr_rx, int16_t gr_ry,
                     int16_t gr_minwidth,
                     int16_t gr_minheight,
                     int16_t *gr_rlastwidth,
                     int16_t *gr_rlastheight)
{
   int_in[0] = gr_rx;
   int_in[1] = gr_ry;
   int_in[2] = gr_minwidth;
   int_in[3] = gr_minheight;

   <a href="aes_fundamentals.html#crys_if">crys_if</a> (70);

   *gr_rlastwidth = int_out[1];
   *gr_lastheight = int_out[2];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">70    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">4     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">3     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_rx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_ry</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_minwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">gr_minheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">gr_rlastwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">gr_rlastheight</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_shrinkbox">8.13.9 graf_shrinkbox</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics shrink box« - Draw an animated shrinking rectangle
on the screen.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 74
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_shrinkbox ( int16_t gr_sfinx, int16_t gr_sfiny,
int16_t gr_sfinwidth, int16_t gr_sfinheight, int16_t gr_sstx, int16_t
gr_ssty, int16_t gr_sstwidth, int16_t gr_sstheight );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_shrinkbox draws an animated rectangular outline
box shinking from one set of coordinates to another (complement to
<a href="#graf_growbox">graf_growbox</a>). The following apply:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Parameter</td>
  <td align="left" valign="top">Meaning</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_sfinx</i></td>
  <td align="left" valign="top">X-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_sfiny</i></td>
  <td align="left" valign="top">Y-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_sfinwidth</i></td>
  <td align="left" valign="top">Width, <u>and</u></td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_sfinheight</i></td>
  <td align="left" valign="top">Height of outline box at end</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_sstx</i></td>
  <td align="left" valign="top">X-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_ssty</i></td>
  <td align="left" valign="top">Y-coordinate,</td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_sstwidth</i></td>
  <td align="left" valign="top">Width, <u>and</u></td>
</tr>
<tr>
  <td align="left" valign="top"><i>gr_sstheight</i></td>
  <td align="left" valign="top">Height of outline box at start</td>
</tr>
</table>
</div>

<br><b>Note:</b> As of PC-GEM Version 2.0, this call is ignored.
The reason given for this is the legal dispute between <i>Apple</i>
and <i>Digital Research.</i>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> An error has arisen only if the value 0 is returned.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_shrinkbox">Binding</a> &nbsp; <a href="form.html#form_dial">form_dial</a> &nbsp; <a href="#graf_growbox">graf_growbox</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_shrinkbox">8.13.9.1 Bindings for graf_shrinkbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_shrinkbox">graf_shrinkbox</a> ( int16_t gr_sfinx, int16_t gr_sfiny,
int16_t gr_sfinwidth, int16_t gr_sfinheight, int16_t gr_sstx, int16_t
gr_ssty, int16_t gr_sstwidth, int16_t gr_sstheight );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_shrinkbox">graf_shrinkbox</a> (int16_t gr_sfinx, int16_t gr_sfiny,
                        int16_t gr_sfinwidth,
                        int16_t gr_sfinheight,
                        int16_t gr_sstx, int16_t gr_ssty,
                        int16_t gr_sstwidth,
                        int16_t gr_sstheight)
{
   int_in[0] = gr_sfinx;
   int_in[1] = gr_sfiny;
   int_in[2] = gr_sfinwidth;
   int_in[3] = gr_sfinheight;
   int_in[4] = gr_sstx;
   int_in[5] = gr_ssty;
   int_in[6] = gr_sstwidth;
   int_in[7] = gr_sstheight;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(74) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">74    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">8     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_sfinx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_sfiny</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_sfinwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">gr_sfinheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+8</td>
  <td align="left" valign="top">int_in[4]</td>
  <td align="left" valign="top">gr_sstx</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+10</td>
  <td align="left" valign="top">int_in[5]</td>
  <td align="left" valign="top">gr_ssty</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+12</td>
  <td align="left" valign="top">int_in[6]</td>
  <td align="left" valign="top">gr_sstwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+14</td>
  <td align="left" valign="top">int_in[7]</td>
  <td align="left" valign="top">gr_sstheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_slidebox">8.13.10 graf_slidebox</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics slide box« - Obtain slider position etc.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 76
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_slidebox ( <a href="aes_structures.html#OBJECT">OBJECT</a> *gr_slptree, int16_t
gr_slparent, int16_t gr_slobject, int16_t gr_slvh );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_slidebox serves to inquire the position of
sliders within the bounds of its parent object. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_slptree</td>
<td valign="top"> Address of object tree holding parent and child objects
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_slparent</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the parent rectangle
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_slobject</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the child rectangle to be moved (slider)
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_slvh</td>
<td valign="top"> Direction of movement:
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Move horizontally</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Move vertically</td>
</tr>
</table>
</div>


</td></tr>
</table>

<br><b>Note:</b> The function may only be called with an already
pressed mouse button, since it returns immediately when the button is
released.
<br>&nbsp;
<br>It can be used also with sliders built into dialogs: Make the
slider a <a href="aes_fundamentals.html#TOUCHEXIT">TOUCHEXIT</a> object and call this function when it is clicked
on.
<br>&nbsp;
<br>In Geneva the parameter <a href="#graf_slidebox_20from_20Geneva">gr_slvh</a> has changed slightly.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the relative position of the slider,
between 0 (far left or very top) and 1000 (far right or very bottom).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_slidebox">Binding</a> &nbsp; <a href="aes_structures.html#OBJECT">OBJECT</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="graf_slidebox_20from_20Geneva">8.13.10.1 graf_slidebox from Geneva</a></h4>
<p>The meaning of the <i>gr_slvh</i> parameter has changed
slightly, to provide for real-time updating of sliders:
</p>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">LSB</td>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">for horizontal slider, 1 for vertical</td>
</tr>
<tr>
  <td align="left" valign="top">MSB</td>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">for old-style, dotted outline drag box</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">to describe the area to be scrolled in real-time</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">2</td>
  <td align="left" valign="top">to initialize real-time scrolling</td>
</tr>
<tr>
  <td align="left" valign="top">&nbsp;</td>
  <td align="left" valign="top">3</td>
  <td align="left" valign="top">to process the scroll bar in real time</td>
</tr>
</table>
</div>

<p>To use real-time scroll bars, a program does the following:
</p>

<ol class="UDO_env_enumerate">
<li><p> Call graf_slidebox with <i>gr_slvh</i> mode 0x1XX (where
&quot;XX&quot; is 00 for a horizontal slider, and 01 for vertical). In
this mode, the <i>gr_slparent</i> parameter describes the size of the
entire area to be scrolled, and <i>gr_slobject</i> describes the size
of the area which is visible at one time. Both of these values can be
in any units the programmer chooses.
<br>&nbsp;
</p></li>
<li><p> Call graf_slidebox with <i>gr_slvh</i> mode 0x2XX. In this mode,
<i>gr_slparent</i> and <i>gr_slobject</i> have the same meaning they
normally do. The return value will either be -1, if the user has
released the slider, or it will be a number &gt;= 0 which represents
the new position of the slider. This number is based on the numbers
passed in Step 1. The call does not return until the slider has either
moved enough to change the position within the list, or the mouse
button has been released.
<br>&nbsp;
</p></li>
<li><p> If the result of the last graf_slidebox call was -1, then continue on
with the rest of the program. Otherwise, perform whatever action is
necessary to redraw the list of items, starting at the returned index.
The slider position is updated automatically by Geneva; the program
must not alter it.
<br>&nbsp;
</p></li>
<li><p> Call graf_slidebox with <i>gr_slvh</i> mode 0x3XX. In this mode,
<i>gr_slparent</i> and <i>gr_slobject</i> have the same meaning they
normally do. Go to Step 3.
<br>&nbsp;
</p></li>
</ol>

<p>Example: Process a list of 100 items, 10 of which are visible at
once
</p>
<pre>if( <a href="#graf_slidebox">graf_slidebox</a>( 0L, 100, 10, 0x101 ) &gt;= 0 )
{
  i = <a href="#graf_slidebox">graf_slidebox</a>( object_tree, parent_obj, slider_obj, 0x201 );
  while( i&gt;=0 )
  {
     redraw_list_starting_at(i);
     i = <a href="#graf_slidebox">graf_slidebox</a>( object_tree, parent_obj, slider_obj, 0x301 );
  }
}
</pre>
<h4><a name="Bindings_20for_20graf_slidebox">8.13.10.2 Bindings for graf_slidebox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_slidebox">graf_slidebox</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *gr_slptree, int16_t
gr_slparent, int16_t gr_slobject, int16_t gr_slvh );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_slidebox">graf_slidebox</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *gr_slptree,
                       int16_t gr_slparent,
                       int16_t gr_slobject,
                       int16_t gr_slvh)
{
   int_in[0]  = gr_slparent;
   int_in[1]  = gr_slobject;
   int_in[2]  = gr_slvh;
   addr_in[0] = gr_slptree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(76) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">76    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">3     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_slparent</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_slobject</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_slvh</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">gr_slptree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_watchbox">8.13.11 graf_watchbox</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics watch box« - Select an object and supervise mouse
movements referring to this object.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 75
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_watchbox ( <a href="aes_structures.html#OBJECT">OBJECT</a> *gr_wptree, int16_t gr_wobject,
int16_t gr_winstate, int16_t gr_woutstate );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_watchbox sets the status of an object, depending
on the position of the mouse pointer (whether it is within or outside
the bounds of the object) while the left mouse button is held down.
The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_wptree</td>
<td valign="top"> Address of root object of object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_wpobject</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the object to watch
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_winstate</td>
<td valign="top"> Object status when the mouse pointer is within the boundary:
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">NORMAL</td>
  <td align="left" valign="top">(0x0000)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#SELECTED">SELECTED</a></td>
  <td align="left" valign="top">(0x0001)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#CROSSED">CROSSED</a></td>
  <td align="left" valign="top">(0x0002)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#CHECKED">CHECKED</a></td>
  <td align="left" valign="top">(0x0004)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#DISABLED">DISABLED</a></td>
  <td align="left" valign="top">(0x0008)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#OUTLINED">OUTLINED</a></td>
  <td align="left" valign="top">(0x0010)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#SHADOWED">SHADOWED</a></td>
  <td align="left" valign="top">(0x0020)</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_woutstate</td>
<td valign="top"> Object status when the mouse pointer is outside the boundary:

</td></tr>
</table>

<br><b>Note:</b> The function returns when the mouse button is
released, so it should only be made while the button is depressed.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the position of the mouse pointer at the
release of the button (0 = outside the object boundary, 1 = inside the
boundary).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> All AES versions.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_watchbox">Binding</a> &nbsp; <a href="#graf_wwatchbox">graf_wwatchbox</a> &nbsp; <a href="aes_structures.html#OBJECT">OBJECT</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_watchbox">8.13.11.1 Bindings for graf_watchbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_watchbox">graf_watchbox</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *gr_wptree, int16_t gr_wobject,
int16_t gr_winstate, int16_t gr_woutstate );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_watchbox">graf_watchbox</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *gr_wptree, int16_t gr_wobject,
                       int16_t gr_winstate,
                       int16_t gr_woutstate)
{
   int_in[0]  = 0;
   int_in[1]  = gr_wobject;
   int_in[2]  = gr_winstate;
   int_in[3]  = gr_woutstate;

   addr_in[0] = gr_wptree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(75) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">75    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">4     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">0</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_wobject</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_winstate</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">gr_woutstate</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">gr_wptree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_wwatchbox">8.13.12 graf_wwatchbox</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics window watch box« - Select an object in a window
and supervise mouse movements referring to this object.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 62
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_wwatchbox ( <a href="aes_structures.html#OBJECT">OBJECT</a> *gr_wptree, int16_t gr_wobject,
int16_t gr_winstate, int16_t gr_woutstate, int16_t whandle );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_wwatchbox sets the object status of an object in
a window, depending on the position of the mouse pointer (whether it
is within or outside the bounds of the object) while the left mouse
button is held down. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_wptree</td>
<td valign="top"> Address of root object of object tree
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_wpobject</td>
<td valign="top"> <a href="indexudo.html">Index</a> of the object to watch
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_winstate</td>
<td valign="top"> Object status when the mouse pointer is within the boundary:
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">NORMAL</td>
  <td align="left" valign="top">(0x0000)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#SELECTED">SELECTED</a></td>
  <td align="left" valign="top">(0x0001)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#CROSSED">CROSSED</a></td>
  <td align="left" valign="top">(0x0002)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#CHECKED">CHECKED</a></td>
  <td align="left" valign="top">(0x0004)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#DISABLED">DISABLED</a></td>
  <td align="left" valign="top">(0x0008)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#OUTLINED">OUTLINED</a></td>
  <td align="left" valign="top">(0x0010)</td>
</tr>
<tr>
  <td align="left" valign="top"><a href="aes_fundamentals.html#SHADOWED">SHADOWED</a></td>
  <td align="left" valign="top">(0x0020)</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_woutstate</td>
<td valign="top"> Object status when the mouse pointer is outside the boundary:
</td></tr>

<tr><td nowrap="nowrap" valign="top">whandle</td>
<td valign="top"> Window identifier

</td></tr>
</table>

<br><b>Note:</b> The function returns when the mouse button is
released, so it should only be made while the button is depressed. It
basically corresponds to <a href="#graf_watchbox">graf_watchbox</a> with the difference that here
the rectangle-list of the window is taken into account.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the position of the mouse pointer at the
release of the button (0 = outside the object boundary, 1 = inside the
boundary).
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The function is available in <a href="magic.html">MagiC</a> as of Version 5.10.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_wwatchbox">Binding</a> &nbsp; <a href="#graf_watchbox">graf_watchbox</a> &nbsp; <a href="aes_structures.html#OBJECT">OBJECT</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_wwatchbox">8.13.12.1 Bindings for graf_wwatchbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_wwatchbox">graf_wwatchbox</a> ( <a href="aes_structures.html#OBJECT">OBJECT</a> *gr_wptree, int16_t gr_wobject,
int16_t gr_winstate, int16_t gr_woutstate, int16_t whandle );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_wwatchbox">graf_wwatchbox</a> (<a href="aes_structures.html#OBJECT">OBJECT</a> *gr_wptree, int16_t gr_wobject,
                        int16_t gr_winstate,
                        int16_t gr_woutstate,
                        int16_t whandle)
{
   int_in[0]  = gr_wobject;
   int_in[1]  = gr_winstate;
   int_in[2]  = gr_woutstate;
   int_in[3]  = whandle;

   addr_in[0] = gr_wptree;

   return ( <a href="aes_fundamentals.html#crys_if">crys_if</a>(62) );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">62    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">4     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">1     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">gr_wobject</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">gr_winstate</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">gr_woutstate</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">whandle</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">gr_wptree</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="graf_xhandle">8.13.13 graf_xhandle</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Graphics handle« - Obtain ID of the VDI workstation.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 77
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t graf_xhandle ( int16_t *gr_hwchar, int16_t *gr_hhchar,
int16_t *gr_hwbox, int16_t *gr_hhbox, int16_t *device );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top"> The call graf_xhandle obtains the ID of the screen workstation
to which the AES outputs. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hwchar</td>
<td valign="top"> Width, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hhchar</td>
<td valign="top"> Height of a character from the system font, in points
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hwbox</td>
<td valign="top"> Width, <u>and</u>
</td></tr>

<tr><td nowrap="nowrap" valign="top">gr_hhbox</td>
<td valign="top"> Height of a cell into which any character from the system font
fits completely
</td></tr>

<tr><td nowrap="nowrap" valign="top">device</td>
<td valign="top"> Workstation handle of the AES (<a href="vdi_bindings.html#vdi">vdi</a>_device)

</td></tr>
</table>

<br><b>Note:</b> The information from the parameters
<i>gr_hwbox</i> or <i>gr_hhbox</i> is used be the AES for the
width of the individual window components.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function returns the ID (handle) of the opened VDI
workstation.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> Since KAOS 1.4
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20graf_xhandle">Binding</a> &nbsp; <a href="vdi_control.html#v_opnvwk">v_opnvwk</a> &nbsp; <a href="#graf_handle">graf_handle</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20graf_xhandle">8.13.13.1 Bindings for graf_xhandle</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#graf_xhandle">graf_xhandle</a> ( int16_t *gr_hwchar, int16_t *gr_hhchar,
int16_t *gr_hwbox, int16_t *gr_hhbox, int16_t *device );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#graf_xhandle">graf_xhandle</a> (int16_t *gr_hwchar, int16_t *gr_hhchar,
                      int16_t *gr_hwbox, int16_t *gr_hhbox,
                      int16_t *device )
{
   <a href="aes_fundamentals.html#crys_if">crys_if</a> (77);

   *gr_hwchar = int_out[1];
   *gr_hhchar = int_out[2];
   *gr_hwbox  = int_out[3];
   *gr_hhbox  = int_out[4];
   *device    = int_out[5];

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">77    # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">6     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">0     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+2</td>
  <td align="left" valign="top">int_out[1]</td>
  <td align="left" valign="top">gr_hwchar</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+4</td>
  <td align="left" valign="top">int_out[2]</td>
  <td align="left" valign="top">gr_hhchar</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+6</td>
  <td align="left" valign="top">int_out[3]</td>
  <td align="left" valign="top">gr_hwbox</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+8</td>
  <td align="left" valign="top">int_out[4]</td>
  <td align="left" valign="top">gr_hhbox</td>
</tr>
<tr>
  <td align="left" valign="top">int_out+10</td>
  <td align="left" valign="top">int_out[5]</td>
  <td align="left" valign="top">device</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="x_graf_blit">8.13.14 x_graf_blit</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Blit area«
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 28976
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t x_graf_blit( <a href="GRECT.html">GRECT</a> *source, <a href="GRECT.html">GRECT</a> *dest );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">source</td>
<td valign="top"> Address of source rectangle or NULL
</td></tr>

<tr><td nowrap="nowrap" valign="top">dest</td>
<td valign="top"> Address of destination rectangle or NULL

</td></tr>
</table>

<br>If <i>source</i> and <i>dest</i> are both non-zero, then the
function simply blits the screen data from one rectangle to the other.
<br>&nbsp;
<br>If <i>dest</i> is NULL, then the operation saves the area of
the screen specified by source in its internal buffer. When the
function ise=ater called with source NULL and dest properly set, it
will restore the area in the (new) location.
<br>&nbsp;
<br>The internal buffer is large enough to hold 1/2 of the current
screen. Exceeding this will cause Geneva to try to allocate enough
memory to hold the screen data. If this fails, a zero will be
returned. Since this buffer is also used by Geneva to hold the screen
data for alerts and menus, and also by the item selector, you should
always surround code which uses x_graf_blit with <a href="wind.html#wind_update">wind_update</a> calls.
<br>&nbsp;
<br>This example displays a dialog and uses a blit to restore what
was underneath it:
<br>&nbsp;
<pre><a href="aes_structures.html#OBJECT">OBJECT</a> *tree;
<a href="GRECT.html">GRECT</a> r;

<a href="rsrc.html#rsrc_gaddr">rsrc_gaddr</a>( 0, 0, &amp;tree );                    /* get dialog        */
<a href="form.html#form_center">form_center</a>( tree, &amp;r.x, &amp;r.y, &amp;r.w, &amp;r.h );  /* center it         */
<a href="wind.html#wind_update">wind_update</a>( <a href="wind.html#BEG_UPDATE">BEG_UPDATE</a> );                    /* lock menu bar     */
x_graf_blit( &amp;r, 0L );                        /* save what's there */
<a href="objc.html#objc_draw">objc_draw</a>( tree, 0, 8, r.x, r.y, r.w, r.h );  /* draw dialog       */
<a href="form.html#form_do">form_do</a>( tree, 0 );                           /* get user response */
x_graf_blit( 0L, &amp;r );                        /* now restore       */
<a href="wind.html#wind_update">wind_update</a>( <a href="wind.html#END_UPDATE">END_UPDATE</a> );                    /* re-enable menus   */
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 = Not enough memory for data to be stored
<br>1 = No error
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The function is only available under Geneva.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20x_graf_blit">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20x_graf_blit">8.13.14.1 Bindings for x_graf_blit</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#x_graf_blit">x_graf_blit</a>( <a href="GRECT.html">GRECT</a> *source, <a href="GRECT.html">GRECT</a> *dest );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#x_graf_blit">x_graf_blit</a>( <a href="GRECT.html">GRECT</a> *source, <a href="GRECT.html">GRECT</a> *dest )
{
   addr_in[0] = source;
   addr_in[1] = dest;

   <a href="aes_fundamentals.html#crys_if">crys_if</a>(28976);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">28976 # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">0     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">source</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">dest</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="x_graf_rast2rez">8.13.15 x_graf_rast2rez</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »« -
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 28978
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> void x_graf_rast2rez( uint16_t *src_data, int32_t plane_len,
int16_t old_planes, <a href="vdi_structures.html#MFDB">MFDB</a> *mfdb, int16_t devspef );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">plane_len</td>
<td valign="top"> <a href="proto_olga.html#Size">Size</a> of one bitplane of data, in the dest. image, in bytes
</td></tr>

<tr><td nowrap="nowrap" valign="top">old_planes</td>
<td valign="top"> Number of bitplanes in the source data
</td></tr>

<tr><td nowrap="nowrap" valign="top">devspef</td>
<td valign="top"> If non-zero, the dest. image is in device-specific format.
Otherwise, it is in <a href="vdi_main.html">VDI</a> format.
</td></tr>

<tr><td nowrap="nowrap" valign="top">src_data</td>
<td valign="top"> Pointer to the location of the source image's data.
</td></tr>

<tr><td nowrap="nowrap" valign="top">mfdb</td>
<td valign="top"> Pointer to the <a href="vdi_structures.html#MFDB">MFDB</a> describing the dest. image. All values must
be correct, including the fd_addr.

</td></tr>
</table>

<br>This function will convert an image (in either <a href="vdi_main.html">VDI</a> or
device-specific format) to a format which can be displayed in the
current video mode. This includes things like transforming a color
image of fewer bitplanes than the current video mode into an image
that can be displayed using <a href="vdi_raster.html#vro_cpyfm">vro_cpyfm</a>. If the source is a monochrome
image, it is much faster to simply use <a href="vdi_raster.html#vrt_cpyfm">vrt_cpyfm</a> to display it and
avoid x_graf_rast2rez completely.
<br>&nbsp;
<br>All values in <i>mfdb</i> describe the destination image,
except for fd_stand, which describes the source image.
<br>&nbsp;
<br>Example: Take the image described by <i>source</i>, convert it
to the current video mode, and display it.
<br>&nbsp;
<pre><a href="vdi_structures.html#MFDB">MFDB</a> source,                           /* assume this is already filled-in */
     dest,
     screen;
     int32_t dest_size;

     dest = source;                    /* most values are the same to start */
     dest.fd_nplanes = current_video_planes;
     dest_size = (long)dest.fd_nplanes * dest.fd_wdwidth*2 * dest.fd_h;
     dest.fd_addr = <a href="gemdos_memory.html#Malloc">Malloc</a>(dest_size);
     x_graf_rast2rez( source.fd_addr, (long)source.fd_wdwidth*2 * source.fd_h,
                      source.fd_nplanes, &amp;dest, 1 );
     screen.fd_addr = 0L;
     <a href="vdi_raster.html#vro_cpyfm">vro_cpyfm</a>( <a href="vdi_bindings.html#vdi">vdi</a>_handle, <a href="bios_structures.html#MD">MD</a>_REPLACE, array, &amp;dest, &amp;screen );
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> The function does not return a value.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The function is only available under Geneva since Release 004.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20x_graf_rast2rez">Binding</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20x_graf_rast2rez">8.13.15.1 Bindings for x_graf_rast2rez</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> void <a href="#x_graf_rast2rez">x_graf_rast2rez</a>( uint16_t *src_data, int32_t plane_len,
int16_t old_planes, <a href="vdi_structures.html#MFDB">MFDB</a> *mfdb, int16_t devspef );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>void <a href="#x_graf_rast2rez">x_graf_rast2rez</a>( uint16_t *src_data, int32_t plane_len, int16_t old_planes,
                      <a href="vdi_structures.html#MFDB">MFDB</a> *mfdb, int16_t devspef )
{
   int_in[0-1] = plane_len;
   int_in[2]   = old_planes;
   int_in[3]   = devspef;

   addr_in[0] = src_data;
   addr_in[1] = mfdb;

   <a href="aes_fundamentals.html#crys_if">crys_if</a>(28978);

   return;
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">28978 # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">4     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">0     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">plane_len</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">plane_len</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">src_data</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">mfdb</td>
</tr>
</table>
</div>


</td></tr>
</table>

<h3><a name="x_graf_rubberbox">8.13.16 x_graf_rubberbox</a></h3>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Name:</td>
<td valign="top"> »Extended rubberband box drawing«
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Opcode:</td>
<td valign="top"> 28977
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Syntax:</td>
<td valign="top"> int16_t x_graf_rubberbox(<a href="GRECT.html">GRECT</a> *area, <a href="GRECT.html">GRECT</a> *outer, int16_t
minwidth, int16_t minheight, int16_t maxwidth, int16_t maxheight,
int16_t snap, int16_t lag );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Description:</td>
<td valign="top">
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Parameter</td>
<td valign="top"> Meaning
</td></tr>

<tr><td nowrap="nowrap" valign="top">&nbsp;</td>
<td valign="top"> &nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">area</td>
<td valign="top"> Initial size of the rubberband box
</td></tr>

<tr><td nowrap="nowrap" valign="top">outer</td>
<td valign="top"> Outer limit of the rubberband box
</td></tr>

<tr><td nowrap="nowrap" valign="top">minwidth</td>
<td valign="top"> Minimum width of the rubberband box
</td></tr>

<tr><td nowrap="nowrap" valign="top">minheight</td>
<td valign="top"> Minimum height of the box
</td></tr>

<tr><td nowrap="nowrap" valign="top">maxwidth</td>
<td valign="top"> Maximum width of the box
</td></tr>

<tr><td nowrap="nowrap" valign="top">maxheight</td>
<td valign="top"> Maximum height of the box
</td></tr>

<tr><td nowrap="nowrap" valign="top">snap</td>
<td valign="top"> Width/height increment
</td></tr>

<tr><td nowrap="nowrap" valign="top">lag</td>
<td valign="top">
<br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Follow mouse exactly</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">=</td>
  <td align="left" valign="top">Move relative to initial width and height</td>
</tr>
</table>
</div>


</td></tr>
</table>

<br>This function is similar to the <a href="aes_main.html">AES</a> function <a href="graf.html#graf_rubberbox">graf_rubberbox</a>, but
it offers several extensions.
<br>&nbsp;
<ul>
<li> The <i>area</i> parameter points to a <a href="GRECT.html">GRECT</a> structure which
describes the dimensions of the initial rubberband box. If the lag
parameter is zero, then the g_w and g_h elements of area are ignored.
</li>
<li> <i>outer</i> describes the size of the outside bounding
rectangle. The rubberband box will never go outside this box. If this
is a NULL pointer, the outside boundaries will be the whole desktop.
</li>
<li> <i>minwidth</i> and <i>minheight</i> describe the minimum
height of the rubberband box; <i>maxwidth</i> and <i>maxheight</i>
are the maximums. If either of the minimums are greater than zero,
then extended resizing is possible. In this mode, the mouse can be
dragged to the left or top edge of the minimum area, and resizing
happens in a manner similar to Geneva's extended window resizing.
</li>
<li> <i>snap</i> is the number of pixels to jump by. If this value
is greater than 1, the rubberband box will only move when its width or
height is an even increment of this value.
</li>
<li> The <i>lag</i> parameter says whether the rubberband box
should exactly follow the mouse, or if it should stay a constant
distance from the mouse pointer. When resizing a window, Geneva uses
the lag mode so that if the resize gadget is released before the mouse
is moved, the window will not be resized.
</li>
</ul>

</td></tr>

<tr><td nowrap="nowrap" valign="top">Return value:</td>
<td valign="top"> 0 = The mouse was released prematurely
<br>1 = No error
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Availability:</td>
<td valign="top"> The function is only available under Geneva.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Group:</td>
<td valign="top"> <a href="#Graphics_20library">Graphics library</a>
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">See also:</td>
<td valign="top"> <a href="#Bindings_20for_20x_graf_rubberbox">Binding</a> &nbsp; <a href="graf.html#graf_rubberbox">graf_rubberbox</a> &nbsp; <a href="#graf_multirubber">graf_multirubber</a>
<br>&nbsp;

</td></tr>
</table>

<h4><a name="Bindings_20for_20x_graf_rubberbox">8.13.16.1 Bindings for x_graf_rubberbox</a></h4>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">C:</td>
<td valign="top"> int16_t <a href="#x_graf_rubberbox">x_graf_rubberbox</a>(<a href="GRECT.html">GRECT</a> *area, <a href="GRECT.html">GRECT</a> *outer, int16_t
minwidth, int16_t minheight, int16_t maxwidth, int16_t maxheight,
int16_t snap, int16_t lag );
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">Binding:</td>
<td valign="top">
<br>&nbsp;
<pre>int16_t <a href="#x_graf_rubberbox">x_graf_rubberbox</a>(<a href="GRECT.html">GRECT</a> *area, <a href="GRECT.html">GRECT</a> *outer, int16_t
minwidth, int16_t minheight, int16_t maxwidth, int16_t
maxheight, int16_t snap, int16_t lag )
{
   int_in[0] = minwidth;
   int_in[1] = minheight;
   int_in[2] = maxwidth;
   int_in[3] = maxheight;
   int_in[4] = snap;
   int_in[5] = lag;

   addr_in[0] = area;
   addr_in[1] = outer;

   <a href="aes_fundamentals.html#crys_if">crys_if</a>(28977);

   return ( int_out[0] );
}
</pre>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><a href="gem_about.html">GEM</a>-Arrays:</td>
<td valign="top">
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Address</td>
  <td align="left" valign="top">Element</td>
  <td align="left" valign="top">Contents</td>
</tr>
<tr>
  <td align="left" valign="top">control</td>
  <td align="left" valign="top">control[0]</td>
  <td align="left" valign="top">28977 # Function opcode</td>
</tr>
<tr>
  <td align="left" valign="top">control+2</td>
  <td align="left" valign="top">control[1]</td>
  <td align="left" valign="top">6     # Entry in int_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+4</td>
  <td align="left" valign="top">control[2]</td>
  <td align="left" valign="top">1     # Entry in int_out</td>
</tr>
<tr>
  <td align="left" valign="top">control+6</td>
  <td align="left" valign="top">control[3]</td>
  <td align="left" valign="top">2     # Entry in addr_in</td>
</tr>
<tr>
  <td align="left" valign="top">control+8</td>
  <td align="left" valign="top">control[4]</td>
  <td align="left" valign="top">0     # Entry in addr_out</td>
</tr>
<tr>
  <td align="left" valign="top">int_in</td>
  <td align="left" valign="top">int_in[0]</td>
  <td align="left" valign="top">minwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+2</td>
  <td align="left" valign="top">int_in[1]</td>
  <td align="left" valign="top">minheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+4</td>
  <td align="left" valign="top">int_in[2]</td>
  <td align="left" valign="top">maxwidth</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+6</td>
  <td align="left" valign="top">int_in[3]</td>
  <td align="left" valign="top">maxheight</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+8</td>
  <td align="left" valign="top">int_in[4]</td>
  <td align="left" valign="top">snap</td>
</tr>
<tr>
  <td align="left" valign="top">int_in+10</td>
  <td align="left" valign="top">int_in[5]</td>
  <td align="left" valign="top">lag</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in</td>
  <td align="left" valign="top">addr_in[0]</td>
  <td align="left" valign="top">area</td>
</tr>
<tr>
  <td align="left" valign="top">addr_in+4</td>
  <td align="left" valign="top">addr_in[1]</td>
  <td align="left" valign="top">outer</td>
</tr>
<tr>
  <td align="left" valign="top">int_out</td>
  <td align="left" valign="top">int_out[0]</td>
  <td align="left" valign="top">Return value</td>
</tr>
</table>
</div>


</td></tr>
</table>

<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="aes_main.html"><img src="udo_up.gif" alt="AES" title="AES" border="0" width="24" height="24">AES</a>
<a name="UDO_nav_lf_FOOT" href="geneva_function.html"><img src="udo_lf.gif" alt="Geneva library" title="Geneva library" border="0" width="24" height="24">Geneva library</a>
<a name="UDO_nav_rg_FOOT" href="scrp.html"><img src="udo_rg.gif" alt="Scrap library" title="Scrap library" border="0" width="24" height="24">Scrap library</a>
</body>
</html>
