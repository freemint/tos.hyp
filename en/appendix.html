<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/12/20 -->
<html lang="en">
<head>
<title>
The documentation for TOS: XSSI protocol
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="protocols.html"><img src="udo_up.gif" alt="Protocols" title="Protocols" border="0" width="24" height="24">Protocols</a>
<a name="UDO_nav_lf_HEAD" href="proto_xfsl.html"><img src="udo_lf.gif" alt="xFSL interface" title="xFSL interface" border="0" width="24" height="24">xFSL interface</a>
<a name="UDO_nav_rg_HEAD" href="ascii.html"><img src="udo_rg.gif" alt="ASCII table" title="ASCII table" border="0" width="24" height="24">ASCII table</a>

<hr>

<h1><a name="XSSI_20protocol">15.15 XSSI protocol</a></h1>
<a name="Protocol_2C_20XSSI"></a>
<p>A major problem for the programmer of a screen saver is that
many applications know nothing about what is currently happening
before the user's eyes on the screen. Accordingly they continue to
output their information to the screen, even though actually it has
now been taken over by the screen saver. So that an application can be
certain of the state of the screen saver, and in some circumstances
may even influence it, there exists the so-called XSSI standard (where
XSSI stands for 'e<b>X</b>tended <b>S</b>creen<b>S</b>aver
<b>I</b>nterface'), which was suggested by Julian Reschke.
</p>
<p>The value of the XSSI cookie is a pointer to the following
structure:
</p>
<pre>typedef struct
{
     LONG id;
     WORD version;
     WORD save_stat;
     WORD prg_stat;
     LONG vec_stat;
} INFOXSSI;
</pre>
<table class="UDO_env_ilist">
<tr><td nowrap="nowrap" valign="top"><i>id</i></td>
<td valign="top"> Each screen saver enters its XBRA identifier as <i>id.</i>
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top"><i>id</i></td>
  <td align="left" valign="top">screen saver</td>
</tr>
<tr>
  <td align="left" valign="top">DAWN</td>
  <td align="left" valign="top">Before Dawn</td>
</tr>
<tr>
  <td align="left" valign="top">BBLS</td>
  <td align="left" valign="top">BUBBLES</td>
</tr>
</table>
</div>

</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>version</i></td>
<td valign="top"> The version number of the XSSI protocol is entered in
<i>version.</i> 'Before Dawn' at present uses the version number
0x101.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>save_stat</i></td>
<td valign="top"> An application can find out whether the saver is active at the
time with <i>save_stat.</i> A value of 0 means that the saver is not
active, a negative value means that it has kicked in.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>prg_stat</i></td>
<td valign="top"> With <i>prg_stat</i> an application can inform 'Before Dawn'
how it is to behave. <i>prg_stat</i> can take the following values:
<br>&nbsp;
<br>prg_stat = 0 Save normally
<br>prg_stat = 1 Never save
<br>prg_stat = -1 Save immediately
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top"><i>vec_stat</i></td>
<td valign="top"> <i>vec_stat</i> indicates which system vectors are monitored.
This value represents a bit-field. Its assignment is as follows:
<br>&nbsp;
<br><br>
<div align="left"><table border="0" class="UDO_env_table">
<tr>
  <td align="left" valign="top">Bit</td>
  <td align="left" valign="top">System vector</td>
</tr>
<tr>
  <td align="left" valign="top">0</td>
  <td align="left" valign="top">Keyboard</td>
</tr>
<tr>
  <td align="left" valign="top">1</td>
  <td align="left" valign="top">Mouse</td>
</tr>
<tr>
  <td align="left" valign="top">2</td>
  <td align="left" valign="top">Joystick</td>
</tr>
<tr>
  <td align="left" valign="top">3</td>
  <td align="left" valign="top">MIDI</td>
</tr>
<tr>
  <td align="left" valign="top">4</td>
  <td align="left" valign="top">Modem 1</td>
</tr>
<tr>
  <td align="left" valign="top">5</td>
  <td align="left" valign="top">Modem 2</td>
</tr>
<tr>
  <td align="left" valign="top">6</td>
  <td align="left" valign="top">Serial 1</td>
</tr>
<tr>
  <td align="left" valign="top">7</td>
  <td align="left" valign="top">LAN port or Serial 2</td>
</tr>
<tr>
  <td align="left" valign="top">8-14</td>
  <td align="left" valign="top">Other vectors</td>
</tr>
<tr>
  <td align="left" valign="top">15</td>
  <td align="left" valign="top">Window events</td>
</tr>
</table>
</div>


</td></tr>
</table>


<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="protocols.html"><img src="udo_up.gif" alt="Protocols" title="Protocols" border="0" width="24" height="24">Protocols</a>
<a name="UDO_nav_lf_FOOT" href="proto_xfsl.html"><img src="udo_lf.gif" alt="xFSL interface" title="xFSL interface" border="0" width="24" height="24">xFSL interface</a>
<a name="UDO_nav_rg_FOOT" href="ascii.html"><img src="udo_rg.gif" alt="ASCII table" title="ASCII table" border="0" width="24" height="24">ASCII table</a>
</body>
</html>
