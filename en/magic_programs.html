<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/08/02 -->
<html lang="en">
<head>
<title>
The documentation for TOS: Additional programs for MagiC
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="magic.html"><img src="udo_up.gif" alt="MagiC" title="MagiC" border="0" width="24" height="24">MagiC</a>
<a name="UDO_nav_lf_HEAD" href="magic_threads.html"><img src="udo_lf.gif" alt="Threads in MagiC" title="Threads in MagiC" border="0" width="24" height="24">Threads in MagiC</a>
<a name="UDO_nav_rg_HEAD" href="magic_dfs.html"><img src="udo_rg.gif" alt="MagiC's DFS-concept" title="MagiC's DFS-concept" border="0" width="24" height="24">MagiC's DFS-concept</a>

<hr>

<h1><a name="Additional_20programs_20for_20MagiC">11.19 Additional programs for MagiC</a></h1>
<p>On the <a href="magic.html">MagiC</a> floppy there are also a number of programs for
various purposes. In detail:
</p>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">Program</td>
<td valign="top"> Meaning
<br>&nbsp;
<a name="ADDMEM"></a>
<a name="Expand_20memory_2C_20internal"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">ADDMEM</td>
<td valign="top"> Corresponds to FOLDR100 required for TOS, and makes
additional memory available to the system for internal management of
the data. The installation of this program is <i>not</i> mandatory,
but whould be undertaken if the message '<a href="magic_errors.html#Out_20of_20internal_20memory">Out of internal memory</a>'
appears.
<br>&nbsp;
<a name="APPLICAT"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">APPLICAT</td>
<td valign="top"> This program is, to some extent, an offloaded function of the
MagXDesk desktop and hence should only be called by the latter; in
particular it is <i>not</i> suited for direct launching with a double-click
on the program icon. It enables the allocation of icons to files, as
well as the installation of applications for certain file-types.
<br>&nbsp;
<a name="FLP_PAR"></a>
<a name="Floppy_20parallel_20operation"></a>
<a name="Parallel_20operation_20of_20floppy"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">FLP_PAR</td>
<td valign="top"> With this pair of programs one can configure parallel operation
of the floppy drive. The following apply:
<br>&nbsp;
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">FLP_PAR0 =</td>
<td valign="top"> Switch off parallel operation
</td></tr>

<tr><td nowrap="nowrap" valign="top">FLP_PAR1 =</td>
<td valign="top"> Switch on parallel operation

</td></tr>
</table>

<br>(No longer included with MagiC 5 onwards.)
<br>&nbsp;
<a name="HARDCOPY"></a>
<a name="Install_20Hardcopy_20routines"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">HARDCOPY</td>
<td valign="top"> The internal hardcopy routine for 9-pin Epson printers has been
thrown out of the BIOS. Instead of the [Alt]-[Help] routine, <a href="xbios_printer.html#Scrdmp">Scrdmp</a>
and <a href="xbios_printer.html#Prtblk">Prtblk</a>, only dummy routines remain.
<br>&nbsp;
<br>The included HARDCOPY.PRG program installs the hardcopy
functions previously integrated in the BIOS. The program can be
launched only under MagiC. <b>Warning:</b> It has no inquiry
function for the MagiC version and may <i>not</i> be launched under
MagiC Version 2.0 or older 3.0 versions.
<br>&nbsp;
<a name="MAGXBOOT"></a>
<a name="MagiC_2C_20Boot_20programs_20for"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">MAGXBOOT</td>
<td valign="top"> The program is included in two versions (magxboot.prg and
magxboot32.prg). The version of the program suitable for your system
is copied to the AUTO folder and launches or installs MagiC at
booting; hence it should lie as early as possible in the AUTO folder,
so that all other programs are informed that MagiC is running. In
addition booting then goes faster, as after a cold start magxboot then
performs an additional warm start.
<br>&nbsp;
<br>The difference between the two launch programs is that
magxboot32 loads the file 'magic.ram' into memory in such a way that
it can be protected with Outside.prg (a virtual memory management
application), magx2rom etc. from being overwritten by any programs
that may run amok. However, this works only on computers with a 68030
and up processor and PMMU, such as the TT030 and Falcon030 series.
<br>&nbsp;
<a name="MAGXCONF"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">MAGXCONF</td>
<td valign="top"> The CPX module or desk accessory permits the configuration of
several features of MagiC. In detail:
<br>&nbsp;
<table class="UDO_env_blist">
<a name="Fastload"></a>
<tr><td nowrap="nowrap" valign="top"><b>Fastload</b></td>
<td valign="top">
<br>This switches on fast reading of floppy disks; as it does not
affect writing, it can really be left switched on permanently.
<a name="TOS-compatibility"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><b>TOS-compatibility</b></td>
<td valign="top">
<br>Due to the fact that MagiC can allow several programs to run
simultaneously, one has to take strict safety precautions.
Unfortunately there are still programs that make faulty system calls,
which can give rise to problems during multitasking in some
circumstances. On the other hand some programs rely on errors in
TOS and so do not run correctly if they were launched under MagiC.
Thus some of these safety precautions may be switched off to persuade
such programs to cooperate - as this naturally compromises operational
safety, such programs should be swapped as quickly as possible for
compliant newer versions or alternatives.
<a name="Switch_20Smart_20redraw_20on_2Foff"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><b>Smart redraw</b></td>
<td valign="top">
<br>(De-)activates the faster screen buildup under MagiC. Some
(mostly older) programs rely on certain properties of TOS during
window redraws, that (because they are unnecessary or faulty) no
longer exist under MagiC. To persuade such programs to cooperate, the
more elegant <a href="magic_smartredraw.html#Smart_20redraw">Smart redraw</a> mechanism of MagiC can be switched off.
<a name="Switch_20grow-boxes_20on_2Foff"></a>
<a name="Switch_20shrink-boxes_20on_2Foff"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><b>Grow- and Shrink Boxes</b></td>
<td valign="top">
<br>This can switch on or off the growing and shrinking rectangles
that appear in some programs before the opening/closing of windows and
dialogs. Switching them off can lead to small speed gains on some
computers, but has no other repercussions.
<a name="Switch_20background_20DMA_20on_2Foff"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><b>Floppy Background DMA</b></td>
<td valign="top">
<br>With this switch the background operation of the floppy drive can
be switched on or off. When switched on, you can perform other tasks
while using read, write or format operations on the floppy. STs and
Falcon030s need a suitable hard disk driver (such as HDDRIVER) with
this capability.
<a name="Switch_20on_20Pulldown_20menus"></a>
<a name="Switch_20off_20Dropdown_20menus"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top"><b>Pulldown menus</b></td>
<td valign="top">
<br>If this switch is active then the menus only drop down after being
clicked on with the mouse, so no longer open undesirably when brushed
accidentally with the mouse pointer, say during movement of a window.
This behaviour is known from the Apple Macintosh, for instance.

</td></tr>
</table>

<a name="MGCOPY"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">MGCOPY</td>
<td valign="top"> This program is, to some extent, an offloaded function of the
MagXDesk desktop and hence should only be called by the latter; in
particular it is not suited for direct launching with a double-click on the
program icon. The program takes on the copying and moving of files and
folders; the makeup of the command line or the format of the sent
messages is not documented, and hence can alter at any time.
<br>&nbsp;
<a name="MGFORMAT"></a>
<a name="Format_20in_20background"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">MGFORMAT</td>
<td valign="top"> With this program one can format floppy disks, and do this
<i>without</i> blocking the computer while this is done. For the
creation of the boot sector, incidentally, <a href="xbios_drive.html#Protobt">Protobt</a> is not used any
more; for 720k floppies an MSDOS format having 730,112 bytes free is
created.
<br>&nbsp;
<a name="MGSEARCH"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">MGSEARCH</td>
<td valign="top"> This program is, to some extent, an offloaded function of the
MagXDesk desktop and hence should only be called by the latter; in
particular it is not suited for direct launching with a double-click on the
program icon. The tool represents a file searcher, somewhat like the
one that is built into the TOS 2.06 desktop. This module too is
not, or only conditionally, suited for direct launch with a
double-click on the program icon, as the drives to be searched through
are set in the desktop and with a direct launch only the current drive
will be searched.
<br>&nbsp;
<a name="SHUTDOWN"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">SHUTDOWN</td>
<td valign="top"> This is the program normally called from the desktop when you
select the <i><a href="gemdos_system.html#Shutdown">Shutdown</a></i> menu entry (or activate the key
combination [Alternate]-[Control]-[Delete]), which ensures that all
applications still running save their data and then terminate.
<br>&nbsp;
<a name="SHUTDOWN.INF"></a>
<br>The file <i>SHUTDOWN.INF</i> serves as the configuration file
for this program, and, besides comments (introduced with the character
'#') contains the following commands:
<br>&nbsp;
<ul>
<li> <b>ignore &lt;prg&gt;:</b> For uncritical old programs. These
are <i>not</i> warned by SHUTDOWN, so that a rundown of the system is
possible nevertheless. <b>Caution:</b> Programs such as these do not
save their data, so it can be sensible to terminate them manually in
individual cases (before the system is closed down).
</li>
<li> <b>terminate &lt;prg&gt;:</b> Special case for <a href="xcontrol_main.html">XCONTROL</a>.
Programs itemized in this way will be 'force terminated'; for data
safety the same applies as for <b>ignore</b> above.
</li>
<li> <b>timeout &lt;time&gt;:</b> Maximum reaction time for modern
programs. A value of 0 means 'wait for ever'.
</li>
</ul>

<a name="TSLICE"></a>
<a name="Timeslices_20for_20Multitasking"></a>
<a name="Multitasking_2C_20Timeslices_20for"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">TSLICE</td>
<td valign="top"> With this CPX module one can first of all switch off the
preemptive multitasking, after which the system operates in
cooperative multitasking (when tasks are switched only when the
currently running program makes a system call). Secondly, one can set
here the timeslice length as well as the background priority.
<br>&nbsp;
<br>To visualise preemptive multitasking, imagine a clock with its
clock-face divided into a number of equally-sized pie-slices, which
are then distributed amongst the running programs. The parameter
<b>Timeslice length</b> then determines the size of the pie-slices;
if one selects a small value, changes will take place more frequently,
which of course costs time but divides the allocated CPU-time more
evenly; if one selects a large value, then the calculating process is
interrupted less often, but the individual programs also must wait
longer before they are re-allocated a pie-slice, which in extreme
cases can cause judder in scrolling, for instance.
<br>&nbsp;
<br>The parameter <b>Background priority</b> determines how many
more pie-slices the program owning the topped window receives, since
this is manifestly the one currently in use and so should react faster
than any of the programs running in the background.
<br>&nbsp;
<br>In practice a timeslice length of 5-10ms (milliseconds) and a
background priority of 1:20 to 1:32 have proved to be suitable.
Incidentally, these values can also be set with the '<a href="magic_magxinf.html#UDO__23_TSL">#_TSL</a>' entry
directly in the MAGX.INF file.
<br>&nbsp;
<a name="VFATCONF"></a>
<a name="VFAT_2C_20Configuration_20for"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">VFATCONF</td>
<td valign="top"> With this program one can determine on which hard drive
partitions long filenames in the VFAT format of Windows95 should be
supported. The program works from MagiC Version 4.02 of 16.02.96
onwards. Further details about VFATCONF can be obtained from the
original MagiC documentation.
<br>&nbsp;
<a name="WBDAEMON"></a>
<a name="Writeback-demon"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">WBDAEMON</td>
<td valign="top"> The writeback-demon is a program that delays the write accesses
of all running applications to hard or floppy disks until the CPU is
not being used intensively; further changes of data do not have to be
written to disk but can be read directly from the (much faster)
volatile memory cache in the computer. Only if no further changes are
being made for a certain time will the disk be updated in one go, so
noticeably speeding up the system. To install, copy the WBDAEMON.PRG
into the \GEMSYS\MAGIC\START folder and reboot the system.
<br>&nbsp;
<br>Using the writeback-demon is now safe in principle, since it can
no longer be frozen. Previously the launch of a single-tasking
application always resulted in the WBDAEMON being frozen and until it
was unfrozen the cache was not written back. Just make sure not to
eject floppy disk or interchangeable hard drive media before writing
has been completed (normally 2 seconds after the last access), and
always use the SHUTDOWN procedure rather than simply switching off the
computer when you finish your work.
<br>&nbsp;
<br>In contrast to Ataris where this program is only optional, its
use on a <b>Macintosh</b> is explicitly recommended; this is because
on this platform it increases both the speed <i>and</i> data safety
of the filesystem.
<br>&nbsp;
<a name="WDIALOG"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">WDIALOG</td>
<td valign="top"> This program is a system extension making MagiC-compatible
AES extensions (such as <a href="wdlg.html">window-</a> and <a href="pdlg.html">print-</a> dialogs, <a href="lbox.html">list boxes</a>, <a href="fnts.html">font selection</a>
available under some older operating systems as well. The program is
installed by copying WDIALOG.PRG into the AUTO folder and re-booting the
system. From experience it is recommended that the AUTO folder has
WDIALOG lying <i>before</i> <a href="VDI_fundamentals.html#NVDI">NVDI</a>.
<br>&nbsp;
<a name="XMEN_MGR"></a>
<a name="Menu_20functions_2C_20extended"></a>
</td></tr>

<tr><td nowrap="nowrap" valign="top">XMEN_MGR</td>
<td valign="top"> This program arose for compatibility to the extended menu
functions of MultiTOS and hence need only be used when required. It
installs the following functions:
<br>&nbsp;
<ul>
<li> <a href="menu.html#menu_attach">menu_attach</a>
</li>
<li> <a href="menu.html#menu_istart">menu_istart</a>
</li>
<li> <a href="menu.html#menu_popup">menu_popup</a>
</li>
<li> <a href="menu.html#menu_settings">menu_settings</a>
</li>
</ul>

<br>The function <a href="appl.html#appl_getinfo">appl_getinfo</a> returns the value TRUE for the
relevant subfunctions when this program is installed.
<br>&nbsp;

</td></tr>
</table>

<p>See also: <a href="magic.html">MagiC</a> &nbsp; <a href="gem_about.html">GEM</a> &nbsp; <a href="guidelines_styles.html">Style guidelines</a>
</p>
<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="magic.html"><img src="udo_up.gif" alt="MagiC" title="MagiC" border="0" width="24" height="24">MagiC</a>
<a name="UDO_nav_lf_FOOT" href="magic_threads.html"><img src="udo_lf.gif" alt="Threads in MagiC" title="Threads in MagiC" border="0" width="24" height="24">Threads in MagiC</a>
<a name="UDO_nav_rg_FOOT" href="magic_dfs.html"><img src="udo_rg.gif" alt="MagiC's DFS-concept" title="MagiC's DFS-concept" border="0" width="24" height="24">MagiC's DFS-concept</a>
</body>
</html>
