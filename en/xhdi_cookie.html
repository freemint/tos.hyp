<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- last modified on 2025/08/02 -->
<html lang="en">
<head>
<title>
The documentation for TOS: XHDI cookie
</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="Generator" content="UDO Version 7.12 (1248) for Linux">
</head>
<body style="position: relative;">

<a name="UDO_nav_hm_HEAD" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_HEAD" href="xhdi.html"><img src="udo_up.gif" alt="XHDI - eXtended HardDisk Interface (Version 1.30)" title="XHDI - eXtended HardDisk Interface (Version 1.30)" border="0" width="24" height="24">XHDI - eXtended HardDisk Interface (Version 1.30)</a>
<a name="UDO_nav_lf_HEAD" href="xhdi.html"><img src="udo_lf.gif" alt="XHDI - eXtended HardDisk Interface (Version 1.30)" title="XHDI - eXtended HardDisk Interface (Version 1.30)" border="0" width="24" height="24">XHDI - eXtended HardDisk Interface (Version 1.30)</a>
<a name="UDO_nav_rg_HEAD" href="xhdi_terminology.html"><img src="udo_rg.gif" alt="XHDI terminology" title="XHDI terminology" border="0" width="24" height="24">XHDI terminology</a>

<hr>

<h1><a name="XHDI_20cookie">H.1 XHDI cookie</a></h1>
<p>Cookie ID: 'XHDI'. The contents of the cookie points to the
start address of a function which provides procedures for dealing with
block storage devices. As an additional check, the function is
preceded by the LONG constant 0x27011992.
</p>
<p>The contents of the XHDI cookie may change (because it can be
used by more than one driver). Therefore, in some applications
(example: Desk accessories) the cookie contents must be inquired each
time before the handler is called.
</p>
<p><b>How to install more than one XHDI driver:</b>
</p>
<table class="UDO_env_xlist">
<tr><td nowrap="nowrap" valign="top">(1)</td>
<td valign="top"> During the installation, check whether the cookie is already
set. If so:
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">(2)</td>
<td valign="top"> For <a href="xhdi_functions.html#XHGetVersion">XHGetVersion</a> first jump through the old vector and return
the minimum of this and your own version number.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">(3)</td>
<td valign="top"> For <a href="xhdi_functions.html#XHDrvMap">XHDrvMap</a> first jump through the old vector and then OR in
the drive bits for the devices supported by you.
<br>&nbsp;
</td></tr>

<tr><td nowrap="nowrap" valign="top">(4)</td>
<td valign="top"> For all other functions: Check whether it is one of your
devices. If not, jump through the old vector.
<br>&nbsp;

</td></tr>
</table>

<p>See also: <a href="xhdi.html#XHDI">XHDI specification</a> &nbsp; <a href="gemdos_about.html">About the GEMDOS</a> &nbsp; <a href="About_the_BIOS.html">About the BIOS</a> &nbsp; Cookie
jar &nbsp; SCSI specification
</p>
<hr>

<a name="UDO_nav_hm_FOOT" href="index.html"><img src="udo_hm.gif" alt="Home" title="Home" border="0" width="24" height="24"></a>
<a name="UDO_nav_up_FOOT" href="xhdi.html"><img src="udo_up.gif" alt="XHDI - eXtended HardDisk Interface (Version 1.30)" title="XHDI - eXtended HardDisk Interface (Version 1.30)" border="0" width="24" height="24">XHDI - eXtended HardDisk Interface (Version 1.30)</a>
<a name="UDO_nav_lf_FOOT" href="xhdi.html"><img src="udo_lf.gif" alt="XHDI - eXtended HardDisk Interface (Version 1.30)" title="XHDI - eXtended HardDisk Interface (Version 1.30)" border="0" width="24" height="24">XHDI - eXtended HardDisk Interface (Version 1.30)</a>
<a name="UDO_nav_rg_FOOT" href="xhdi_terminology.html"><img src="udo_rg.gif" alt="XHDI terminology" title="XHDI terminology" border="0" width="24" height="24">XHDI terminology</a>
</body>
</html>
